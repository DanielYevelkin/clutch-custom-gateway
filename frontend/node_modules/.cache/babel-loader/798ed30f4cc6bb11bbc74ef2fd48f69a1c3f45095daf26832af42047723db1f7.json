{"ast":null,"code":"import React from \"react\";\nimport _ from \"lodash\";\nimport { Select, TextField } from \"../Input\";\nvar convertChangeEvent = function convertChangeEvent(event) {\n  return {\n    target: {\n      name: event.target.name,\n      value: event.target.value\n    }\n  };\n};\nvar StringField = function StringField(field, onChange, validation) {\n  var _a, _b, _c, _d, _e, _f;\n  var _field$metadata = field.metadata,\n    displayName = _field$metadata.displayName,\n    stringField = _field$metadata.stringField,\n    required = _field$metadata.required,\n    name = field.name;\n  var errorMsg = ((_c = (_b = (_a = validation === null || validation === void 0 ? void 0 : validation.formState) === null || _a === void 0 ? void 0 : _a.errors) === null || _b === void 0 ? void 0 : _b[name]) === null || _c === void 0 ? void 0 : _c.message) || ((_f = (_e = (_d = validation === null || validation === void 0 ? void 0 : validation.formState) === null || _d === void 0 ? void 0 : _d.errors) === null || _e === void 0 ? void 0 : _e[name]) === null || _f === void 0 ? void 0 : _f.type) || \"\";\n  var handleChanges = function handleChanges(event) {\n    onChange(convertChangeEvent(event));\n  };\n  return React.createElement(TextField, {\n    key: displayName || name,\n    placeholder: stringField.placeholder,\n    defaultValue: stringField.defaultValue || null,\n    required: required || false,\n    name: name,\n    label: displayName || name,\n    formRegistration: validation.register,\n    helperText: errorMsg,\n    error: !!errorMsg,\n    onChange: handleChanges,\n    onKeyDown: handleChanges,\n    onFocus: handleChanges\n  });\n};\nvar OptionField = function OptionField(field, onChange) {\n  var _field$metadata2 = field.metadata,\n    displayName = _field$metadata2.displayName,\n    optionField = _field$metadata2.optionField,\n    name = field.name;\n  var sortedOptions = _.sortBy(optionField.options, function (o) {\n    return o.displayName;\n  });\n  React.useEffect(function () {\n    var _a;\n    onChange({\n      target: {\n        name: name,\n        value: (_a = sortedOptions === null || sortedOptions === void 0 ? void 0 : sortedOptions[0]) === null || _a === void 0 ? void 0 : _a.stringValue\n      },\n      initialLoad: true\n    });\n  }, []);\n  var options = sortedOptions.map(function (option) {\n    return {\n      label: option.displayName,\n      value: option.stringValue\n    };\n  });\n  var updateSelectedOption = function updateSelectedOption(value) {\n    onChange({\n      target: {\n        name: name,\n        value: value\n      }\n    });\n  };\n  return React.createElement(Select, {\n    key: displayName,\n    label: displayName,\n    onChange: updateSelectedOption,\n    name: name,\n    options: options\n  });\n};\nvar FIELD_TYPES = {\n  stringField: StringField,\n  optionField: OptionField\n};\nvar hydrateField = function hydrateField(field, onChange, validation) {\n  var component;\n  Object.keys(FIELD_TYPES).some(function (type) {\n    if (Object.keys(field.metadata).includes(type)) {\n      component = FIELD_TYPES[type];\n      return true;\n    }\n    return false;\n  });\n  return component(field, onChange, validation);\n};\nexport { convertChangeEvent, hydrateField };","map":{"version":3,"names":["React","_","Select","TextField","convertChangeEvent","event","target","name","value","StringField","field","onChange","validation","_a","_b","_c","_d","_e","_f","_field$metadata","metadata","displayName","stringField","required","errorMsg","formState","errors","message","type","handleChanges","createElement","key","placeholder","defaultValue","label","formRegistration","register","helperText","error","onKeyDown","onFocus","OptionField","_field$metadata2","optionField","sortedOptions","sortBy","options","o","useEffect","stringValue","initialLoad","map","option","updateSelectedOption","FIELD_TYPES","hydrateField","component","Object","keys","some","includes"],"sources":["/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@clutch-sh/core/dist/Resolver/hydrator.js"],"sourcesContent":["import React from \"react\";\nimport _ from \"lodash\";\nimport { Select, TextField } from \"../Input\";\nconst convertChangeEvent = (event) => {\n    return {\n        target: {\n            name: event.target.name,\n            value: event.target.value,\n        },\n    };\n};\nconst StringField = (field, onChange, validation) => {\n    var _a, _b, _c, _d, _e, _f;\n    const { metadata: { displayName, stringField, required }, name, } = field;\n    const errorMsg = ((_c = (_b = (_a = validation === null || validation === void 0 ? void 0 : validation.formState) === null || _a === void 0 ? void 0 : _a.errors) === null || _b === void 0 ? void 0 : _b[name]) === null || _c === void 0 ? void 0 : _c.message) ||\n        ((_f = (_e = (_d = validation === null || validation === void 0 ? void 0 : validation.formState) === null || _d === void 0 ? void 0 : _d.errors) === null || _e === void 0 ? void 0 : _e[name]) === null || _f === void 0 ? void 0 : _f.type) ||\n        \"\";\n    const handleChanges = (event) => {\n        onChange(convertChangeEvent(event));\n    };\n    return (React.createElement(TextField, { key: displayName || name, placeholder: stringField.placeholder, defaultValue: stringField.defaultValue || null, required: required || false, name: name, label: displayName || name, formRegistration: validation.register, helperText: errorMsg, error: !!errorMsg, onChange: handleChanges, onKeyDown: handleChanges, onFocus: handleChanges }));\n};\nconst OptionField = (field, onChange) => {\n    const { metadata: { displayName, optionField }, name, } = field;\n    const sortedOptions = _.sortBy(optionField.options, o => o.displayName);\n    React.useEffect(() => {\n        var _a;\n        onChange({\n            target: {\n                name,\n                value: (_a = sortedOptions === null || sortedOptions === void 0 ? void 0 : sortedOptions[0]) === null || _a === void 0 ? void 0 : _a.stringValue,\n            },\n            initialLoad: true,\n        });\n    }, []);\n    const options = sortedOptions.map(option => {\n        return { label: option.displayName, value: option.stringValue };\n    });\n    const updateSelectedOption = (value) => {\n        onChange({\n            target: {\n                name,\n                value,\n            },\n        });\n    };\n    return (React.createElement(Select, { key: displayName, label: displayName, onChange: updateSelectedOption, name: name, options: options }));\n};\nconst FIELD_TYPES = {\n    stringField: StringField,\n    optionField: OptionField,\n};\nconst hydrateField = (field, onChange, validation) => {\n    let component;\n    Object.keys(FIELD_TYPES).some(type => {\n        if (Object.keys(field.metadata).includes(type)) {\n            component = FIELD_TYPES[type];\n            return true;\n        }\n        return false;\n    });\n    return component(field, onChange, validation);\n};\nexport { convertChangeEvent, hydrateField };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}