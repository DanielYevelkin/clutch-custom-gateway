{"ast":null,"code":"import _slicedToArray from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport LinkIcon from \"@mui/icons-material/Link\";\nimport { ClickAwayListener, Grid, Grow as MuiGrow, MenuList, Paper as MuiPaper, Popper as MuiPopper } from \"@mui/material\";\nimport { generateShortLinkRoute } from \"../AppProvider/short-link-proxy\";\nimport { Button, ClipboardButton, IconButton } from \"../button\";\nimport { useAppContext, useShortLinkContext } from \"../Contexts\";\nimport { Toast } from \"../Feedback\";\nimport { TextField } from \"../Input\";\nimport { client } from \"../Network\";\nimport styled from \"../styled\";\nimport { workflowByRoute } from \"./utils\";\nvar Grow = styled(MuiGrow)(function (props) {\n  return {\n    transformOrigin: props.placement\n  };\n});\nvar Popper = styled(MuiPopper)({\n  padding: \"0 12px\",\n  marginLeft: \"12px\",\n  zIndex: 1201\n});\nvar Paper = styled(MuiPaper)({\n  width: \"400px\",\n  height: \"100px\",\n  padding: \"15px\",\n  boxShadow: \"0px 15px 35px rgba(53, 72, 212, 0.2)\",\n  borderRadius: \"8px\"\n});\nvar StyledLinkIcon = styled(IconButton)({\n  color: \"#ffffff\",\n  marginRight: \"8px\",\n  padding: \"12px\",\n  \"&:hover\": {\n    background: \"#2d3db4\"\n  },\n  \"&:active\": {\n    background: \"#2938a5\"\n  }\n}, function (props) {\n  return {\n    background: props.$open ? \"#2d3db4\" : \"unset\"\n  };\n});\n/**\n * Component that will display a Button to generate a short link\n * - Will only be displayed if the given workflow has defined the `shortLink` property\n * On click, the component will open a popper window with a Generate ShortLink button\n * On clicking the Generate ShortLink button, the component will do the following:\n * - Read in the data from the temporary storage in the ShortLinkContext\n * - Rotate it into a readable format for the API\n * - Send an API request asking for it to be stored\n * - If successful,\n * -     Will switch to a readable only input field with a clipboard button\n *        to copy the short link with generated hash\n *       (this is the only time it is ever displayed)\n * - If not successful,\n * -     Will display a toast error message for the user\n */\nvar ShortLinker = function ShortLinker() {\n  var _useAppContext = useAppContext(),\n    workflows = _useAppContext.workflows;\n  var _useShortLinkContext = useShortLinkContext(),\n    removeWorkflowSession = _useShortLinkContext.removeWorkflowSession,\n    retrieveWorkflowSession = _useShortLinkContext.retrieveWorkflowSession;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    open = _React$useState2[0],\n    setOpen = _React$useState2[1];\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    shortLink = _React$useState4[0],\n    setShortLink = _React$useState4[1];\n  var _React$useState5 = React.useState(false),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    validWorkflow = _React$useState6[0],\n    setValidWorkflow = _React$useState6[1];\n  var _React$useState7 = React.useState(null),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    error = _React$useState8[0],\n    setError = _React$useState8[1];\n  var anchorRef = React.useRef(null);\n  var location = useLocation();\n  /**\n   * Will fetch the the workflow based on the current route\n   * Then checks to see if the shortLink property of the workflow has been set.\n   *  - If it has, we will set the validWorkflow state which will allow the component to render\n   */\n  var checkValidWorkflow = function checkValidWorkflow() {\n    var _a;\n    var workflow = workflowByRoute(workflows, location.pathname);\n    setValidWorkflow((_a = workflow === null || workflow === void 0 ? void 0 : workflow.shortLink) !== null && _a !== void 0 ? _a : false);\n  };\n  // will trigger on a location change, emptying out our temporary storage and rechecking the workflow\n  React.useEffect(function () {\n    if (workflows.length) {\n      checkValidWorkflow();\n    }\n    removeWorkflowSession();\n  }, [location]);\n  // Used for initial load to verify that once our workflows have loaded we are on a valid workflow\n  React.useEffect(function () {\n    if (workflows.length) {\n      checkValidWorkflow();\n    }\n  }, [workflows]);\n  var handleToggle = function handleToggle() {\n    setOpen(function (o) {\n      return !o;\n    });\n    setShortLink(null);\n  };\n  var handleClose = function handleClose(event) {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n    setOpen(false);\n  };\n  // Will rotate our object into an array of type IShareableState to send in the API request\n  var rotateStore = function rotateStore(sessionStore) {\n    return Object.keys(sessionStore).map(function (key) {\n      return {\n        key: key,\n        state: sessionStore[key]\n      };\n    });\n  };\n  var generateShortLink = function generateShortLink() {\n    if (error) {\n      setError(null);\n    }\n    var requestData = {\n      path: \"\".concat(location.pathname).concat(location.search),\n      state: rotateStore(retrieveWorkflowSession())\n    };\n    client.post(\"/v1/shortlink/create\", requestData).then(function (response) {\n      var hash = response.data.hash;\n      setShortLink(generateShortLinkRoute(window.location.origin, hash));\n    }).catch(function (err) {\n      setError(err);\n      setOpen(false);\n    });\n  };\n  if (!validWorkflow) {\n    return null;\n  }\n  return React.createElement(React.Fragment, null, error && React.createElement(Toast, {\n    title: \"Generating Short Link\",\n    severity: \"error\",\n    onClose: function onClose() {\n      return setError(null);\n    }\n  }, error === null || error === void 0 ? void 0 : error.message), React.createElement(StyledLinkIcon, {\n    variant: \"neutral\",\n    ref: anchorRef,\n    \"aria-controls\": open ? \"header-shortlink\" : undefined,\n    \"$open\": open,\n    \"aria-haspopup\": \"true\",\n    onClick: handleToggle,\n    edge: \"end\",\n    id: \"headerShortLinkIcon\"\n  }, React.createElement(LinkIcon, null)), React.createElement(Popper, {\n    open: open,\n    anchorEl: anchorRef.current,\n    transition: true,\n    placement: \"bottom-end\"\n  }, function (_ref) {\n    var TransitionProps = _ref.TransitionProps,\n      placement = _ref.placement;\n    return React.createElement(Grow, Object.assign({}, TransitionProps, {\n      placement: placement === \"bottom\" ? \"center top\" : \"center bottom\"\n    }), React.createElement(Paper, null, React.createElement(ClickAwayListener, {\n      onClickAway: handleClose\n    }, React.createElement(MenuList, {\n      autoFocusItem: open,\n      id: \"options\"\n    }, React.createElement(Grid, {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      }\n    }, !shortLink && React.createElement(Button, {\n      onClick: generateShortLink,\n      text: \"Generate Short Link\"\n    }), shortLink && React.createElement(React.Fragment, null, React.createElement(TextField, {\n      disabled: true,\n      readOnly: true,\n      value: shortLink\n    }), React.createElement(ClipboardButton, {\n      text: shortLink,\n      tooltip: \"Copy Short Link\"\n    })))))));\n  }));\n};\nexport default ShortLinker;","map":{"version":3,"names":["React","useLocation","LinkIcon","ClickAwayListener","Grid","Grow","MuiGrow","MenuList","Paper","MuiPaper","Popper","MuiPopper","generateShortLinkRoute","Button","ClipboardButton","IconButton","useAppContext","useShortLinkContext","Toast","TextField","client","styled","workflowByRoute","props","transformOrigin","placement","padding","marginLeft","zIndex","width","height","boxShadow","borderRadius","StyledLinkIcon","color","marginRight","background","$open","ShortLinker","_useAppContext","workflows","_useShortLinkContext","removeWorkflowSession","retrieveWorkflowSession","_React$useState","useState","_React$useState2","_slicedToArray","open","setOpen","_React$useState3","_React$useState4","shortLink","setShortLink","_React$useState5","_React$useState6","validWorkflow","setValidWorkflow","_React$useState7","_React$useState8","error","setError","anchorRef","useRef","location","checkValidWorkflow","_a","workflow","pathname","useEffect","length","handleToggle","o","handleClose","event","current","contains","target","rotateStore","sessionStore","Object","keys","map","key","state","generateShortLink","requestData","path","concat","search","post","then","response","hash","data","window","origin","catch","err","createElement","Fragment","title","severity","onClose","message","variant","ref","undefined","onClick","edge","id","anchorEl","transition","_ref","TransitionProps","assign","onClickAway","autoFocusItem","style","display","justifyContent","text","disabled","readOnly","value","tooltip"],"sources":["/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@clutch-sh/core/dist/AppLayout/shortLinker.js"],"sourcesContent":["import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport LinkIcon from \"@mui/icons-material/Link\";\nimport { ClickAwayListener, Grid, Grow as MuiGrow, MenuList, Paper as MuiPaper, Popper as MuiPopper, } from \"@mui/material\";\nimport { generateShortLinkRoute } from \"../AppProvider/short-link-proxy\";\nimport { Button, ClipboardButton, IconButton } from \"../button\";\nimport { useAppContext, useShortLinkContext } from \"../Contexts\";\nimport { Toast } from \"../Feedback\";\nimport { TextField } from \"../Input\";\nimport { client } from \"../Network\";\nimport styled from \"../styled\";\nimport { workflowByRoute } from \"./utils\";\nconst Grow = styled(MuiGrow)((props) => ({\n    transformOrigin: props.placement,\n}));\nconst Popper = styled(MuiPopper)({\n    padding: \"0 12px\",\n    marginLeft: \"12px\",\n    zIndex: 1201,\n});\nconst Paper = styled(MuiPaper)({\n    width: \"400px\",\n    height: \"100px\",\n    padding: \"15px\",\n    boxShadow: \"0px 15px 35px rgba(53, 72, 212, 0.2)\",\n    borderRadius: \"8px\",\n});\nconst StyledLinkIcon = styled(IconButton)({\n    color: \"#ffffff\",\n    marginRight: \"8px\",\n    padding: \"12px\",\n    \"&:hover\": {\n        background: \"#2d3db4\",\n    },\n    \"&:active\": {\n        background: \"#2938a5\",\n    },\n}, props => ({\n    background: props.$open ? \"#2d3db4\" : \"unset\",\n}));\n/**\n * Component that will display a Button to generate a short link\n * - Will only be displayed if the given workflow has defined the `shortLink` property\n * On click, the component will open a popper window with a Generate ShortLink button\n * On clicking the Generate ShortLink button, the component will do the following:\n * - Read in the data from the temporary storage in the ShortLinkContext\n * - Rotate it into a readable format for the API\n * - Send an API request asking for it to be stored\n * - If successful,\n * -     Will switch to a readable only input field with a clipboard button\n *        to copy the short link with generated hash\n *       (this is the only time it is ever displayed)\n * - If not successful,\n * -     Will display a toast error message for the user\n */\nconst ShortLinker = () => {\n    const { workflows } = useAppContext();\n    const { removeWorkflowSession, retrieveWorkflowSession } = useShortLinkContext();\n    const [open, setOpen] = React.useState(false);\n    const [shortLink, setShortLink] = React.useState(null);\n    const [validWorkflow, setValidWorkflow] = React.useState(false);\n    const [error, setError] = React.useState(null);\n    const anchorRef = React.useRef(null);\n    const location = useLocation();\n    /**\n     * Will fetch the the workflow based on the current route\n     * Then checks to see if the shortLink property of the workflow has been set.\n     *  - If it has, we will set the validWorkflow state which will allow the component to render\n     */\n    const checkValidWorkflow = () => {\n        var _a;\n        const workflow = workflowByRoute(workflows, location.pathname);\n        setValidWorkflow((_a = workflow === null || workflow === void 0 ? void 0 : workflow.shortLink) !== null && _a !== void 0 ? _a : false);\n    };\n    // will trigger on a location change, emptying out our temporary storage and rechecking the workflow\n    React.useEffect(() => {\n        if (workflows.length) {\n            checkValidWorkflow();\n        }\n        removeWorkflowSession();\n    }, [location]);\n    // Used for initial load to verify that once our workflows have loaded we are on a valid workflow\n    React.useEffect(() => {\n        if (workflows.length) {\n            checkValidWorkflow();\n        }\n    }, [workflows]);\n    const handleToggle = () => {\n        setOpen(o => !o);\n        setShortLink(null);\n    };\n    const handleClose = event => {\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\n            return;\n        }\n        setOpen(false);\n    };\n    // Will rotate our object into an array of type IShareableState to send in the API request\n    const rotateStore = (sessionStore) => Object.keys(sessionStore).map(key => ({ key, state: sessionStore[key] }));\n    const generateShortLink = () => {\n        if (error) {\n            setError(null);\n        }\n        const requestData = {\n            path: `${location.pathname}${location.search}`,\n            state: rotateStore(retrieveWorkflowSession()),\n        };\n        client\n            .post(\"/v1/shortlink/create\", requestData)\n            .then(response => {\n            const { hash } = response.data;\n            setShortLink(generateShortLinkRoute(window.location.origin, hash));\n        })\n            .catch((err) => {\n            setError(err);\n            setOpen(false);\n        });\n    };\n    if (!validWorkflow) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        error && (React.createElement(Toast, { title: \"Generating Short Link\", severity: \"error\", onClose: () => setError(null) }, error === null || error === void 0 ? void 0 : error.message)),\n        React.createElement(StyledLinkIcon, { variant: \"neutral\", ref: anchorRef, \"aria-controls\": open ? \"header-shortlink\" : undefined, \"$open\": open, \"aria-haspopup\": \"true\", onClick: handleToggle, edge: \"end\", id: \"headerShortLinkIcon\" },\n            React.createElement(LinkIcon, null)),\n        React.createElement(Popper, { open: open, anchorEl: anchorRef.current, transition: true, placement: \"bottom-end\" }, ({ TransitionProps, placement }) => (React.createElement(Grow, Object.assign({}, TransitionProps, { placement: placement === \"bottom\" ? \"center top\" : \"center bottom\" }),\n            React.createElement(Paper, null,\n                React.createElement(ClickAwayListener, { onClickAway: handleClose },\n                    React.createElement(MenuList, { autoFocusItem: open, id: \"options\" },\n                        React.createElement(Grid, { style: { display: \"flex\", justifyContent: \"center\" } },\n                            !shortLink && (React.createElement(Button, { onClick: generateShortLink, text: \"Generate Short Link\" })),\n                            shortLink && (React.createElement(React.Fragment, null,\n                                React.createElement(TextField, { disabled: true, readOnly: true, value: shortLink }),\n                                React.createElement(ClipboardButton, { text: shortLink, tooltip: \"Copy Short Link\" }))))))))))));\n};\nexport default ShortLinker;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}