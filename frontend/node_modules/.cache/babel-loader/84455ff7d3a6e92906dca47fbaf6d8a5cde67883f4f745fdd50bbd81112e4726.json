{"ast":null,"code":"import _toConsumableArray from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport useThunkReducer from \"react-hook-thunk-reducer\";\nvar ManagerAction;\n(function (ManagerAction) {\n  ManagerAction[ManagerAction[\"HYDRATE_START\"] = 0] = \"HYDRATE_START\";\n  ManagerAction[ManagerAction[\"HYDRATE_END\"] = 1] = \"HYDRATE_END\";\n  ManagerAction[ManagerAction[\"SET\"] = 2] = \"SET\";\n  ManagerAction[ManagerAction[\"UPDATE\"] = 3] = \"UPDATE\";\n  ManagerAction[ManagerAction[\"RESET\"] = 4] = \"RESET\";\n})(ManagerAction || (ManagerAction = {}));\nvar reducer = function reducer(state, action) {\n  var _a, _b, _c, _d, _e, _f;\n  var layoutKey = (_a = action === null || action === void 0 ? void 0 : action.payload) === null || _a === void 0 ? void 0 : _a.key;\n  var stateClone = _objectSpread({}, state);\n  switch (action.type) {\n    case ManagerAction.HYDRATE_START:\n      return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, layoutKey, _objectSpread(_objectSpread({}, state[layoutKey]), {}, {\n        isLoading: true\n      })));\n    case ManagerAction.HYDRATE_END:\n      {\n        var newData = (_b = action.payload) === null || _b === void 0 ? void 0 : _b.result;\n        var existingData = (_c = state[layoutKey]) === null || _c === void 0 ? void 0 : _c.data;\n        var newDataIsArray = Array.isArray(newData);\n        var existingDataIsArray = Array.isArray(existingData);\n        var data;\n        if (newDataIsArray && !existingDataIsArray || !newDataIsArray && existingDataIsArray) {\n          data = newData;\n        } else if (newDataIsArray) {\n          data = [].concat(_toConsumableArray(existingData), _toConsumableArray(newData));\n        } else {\n          data = _objectSpread(_objectSpread({}, existingData), newData);\n        }\n        var update = {\n          isLoading: false,\n          data: data,\n          error: (_d = action.payload) === null || _d === void 0 ? void 0 : _d.error\n        };\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, layoutKey, _objectSpread(_objectSpread({}, state[layoutKey]), update)));\n      }\n    case ManagerAction.SET:\n      return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, layoutKey, _objectSpread(_objectSpread({}, state === null || state === void 0 ? void 0 : state[layoutKey]), {}, {\n        data: (_e = action.payload) === null || _e === void 0 ? void 0 : _e.value,\n        isLoading: false\n      })));\n    case ManagerAction.UPDATE:\n      return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, layoutKey, _objectSpread(_objectSpread({\n        isLoading: false\n      }, state[layoutKey]), (_f = action.payload) === null || _f === void 0 ? void 0 : _f.value)));\n    case ManagerAction.RESET:\n      Object.keys(state).forEach(function (key) {\n        stateClone[key] = _objectSpread(_objectSpread({}, state[key]), {}, {\n          data: {},\n          isLoading: true,\n          error: null\n        });\n      });\n      return stateClone;\n    default:\n      throw new Error(\"Unknown data manager action: \".concat(action.type));\n  }\n};\nvar useManagerState = function useManagerState(initialState) {\n  return useThunkReducer(reducer, initialState);\n};\nexport { ManagerAction, reducer, useManagerState };","map":{"version":3,"names":["useThunkReducer","ManagerAction","reducer","state","action","_a","_b","_c","_d","_e","_f","layoutKey","payload","key","stateClone","_objectSpread","type","HYDRATE_START","_defineProperty","isLoading","HYDRATE_END","newData","result","existingData","data","newDataIsArray","Array","isArray","existingDataIsArray","concat","_toConsumableArray","update","error","SET","value","UPDATE","RESET","Object","keys","forEach","Error","useManagerState","initialState"],"sources":["/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@clutch-sh/data-layout/dist/state.js"],"sourcesContent":["import useThunkReducer from \"react-hook-thunk-reducer\";\nvar ManagerAction;\n(function (ManagerAction) {\n    ManagerAction[ManagerAction[\"HYDRATE_START\"] = 0] = \"HYDRATE_START\";\n    ManagerAction[ManagerAction[\"HYDRATE_END\"] = 1] = \"HYDRATE_END\";\n    ManagerAction[ManagerAction[\"SET\"] = 2] = \"SET\";\n    ManagerAction[ManagerAction[\"UPDATE\"] = 3] = \"UPDATE\";\n    ManagerAction[ManagerAction[\"RESET\"] = 4] = \"RESET\";\n})(ManagerAction || (ManagerAction = {}));\nconst reducer = (state, action) => {\n    var _a, _b, _c, _d, _e, _f;\n    const layoutKey = (_a = action === null || action === void 0 ? void 0 : action.payload) === null || _a === void 0 ? void 0 : _a.key;\n    const stateClone = { ...state };\n    switch (action.type) {\n        case ManagerAction.HYDRATE_START:\n            return {\n                ...state,\n                [layoutKey]: { ...state[layoutKey], isLoading: true },\n            };\n        case ManagerAction.HYDRATE_END: {\n            const newData = (_b = action.payload) === null || _b === void 0 ? void 0 : _b.result;\n            const existingData = (_c = state[layoutKey]) === null || _c === void 0 ? void 0 : _c.data;\n            const newDataIsArray = Array.isArray(newData);\n            const existingDataIsArray = Array.isArray(existingData);\n            let data;\n            if ((newDataIsArray && !existingDataIsArray) || (!newDataIsArray && existingDataIsArray)) {\n                data = newData;\n            }\n            else if (newDataIsArray) {\n                data = [...existingData, ...newData];\n            }\n            else {\n                data = { ...existingData, ...newData };\n            }\n            const update = {\n                isLoading: false,\n                data,\n                error: (_d = action.payload) === null || _d === void 0 ? void 0 : _d.error,\n            };\n            return {\n                ...state,\n                [layoutKey]: { ...state[layoutKey], ...update },\n            };\n        }\n        case ManagerAction.SET:\n            return {\n                ...state,\n                [layoutKey]: {\n                    ...state === null || state === void 0 ? void 0 : state[layoutKey],\n                    data: (_e = action.payload) === null || _e === void 0 ? void 0 : _e.value,\n                    isLoading: false,\n                },\n            };\n        case ManagerAction.UPDATE:\n            return {\n                ...state,\n                [layoutKey]: {\n                    isLoading: false,\n                    ...state[layoutKey],\n                    ...(_f = action.payload) === null || _f === void 0 ? void 0 : _f.value,\n                },\n            };\n        case ManagerAction.RESET:\n            Object.keys(state).forEach(key => {\n                stateClone[key] = {\n                    ...state[key],\n                    data: {},\n                    isLoading: true,\n                    error: null,\n                };\n            });\n            return stateClone;\n        default:\n            throw new Error(`Unknown data manager action: ${action.type}`);\n    }\n};\nconst useManagerState = (initialState) => {\n    return useThunkReducer(reducer, initialState);\n};\nexport { ManagerAction, reducer, useManagerState };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}