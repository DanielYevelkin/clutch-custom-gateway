{"ast":null,"code":"import _objectSpread from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport React from \"react\";\nimport LaunchIcon from \"@mui/icons-material/Launch\";\nimport { Alert, Grid, IconButton } from \"@mui/material\";\nimport { Dialog, DialogContent } from \"../dialog\";\nimport Code from \"../text\";\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n  var _super = _createSuper(ErrorBoundary);\n  function ErrorBoundary(props) {\n    var _this;\n    _classCallCheck(this, ErrorBoundary);\n    _this = _super.call(this, props);\n    _this.state = {\n      error: null,\n      errorInfo: null,\n      showDetails: false\n    };\n    _this.onDetailsClose = _this.onDetailsClose.bind(_assertThisInitialized(_this));\n    _this.onDetailsOpen = _this.onDetailsOpen.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, errorInfo) {\n      this.setState({\n        error: error,\n        errorInfo: errorInfo\n      });\n    }\n  }, {\n    key: \"onDetailsClose\",\n    value: function onDetailsClose() {\n      this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          showDetails: false\n        });\n      });\n    }\n  }, {\n    key: \"onDetailsOpen\",\n    value: function onDetailsOpen() {\n      this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          showDetails: true\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _a;\n      var _this$props = this.props,\n        children = _this$props.children,\n        workflow = _this$props.workflow;\n      var _this$state = this.state,\n        error = _this$state.error,\n        errorInfo = _this$state.errorInfo,\n        showDetails = _this$state.showDetails;\n      var defaultErrorMsg = React.createElement(React.Fragment, null, \"Failed to load \", workflow.displayName, \" workflow. Please contact the developer\");\n      if (error) {\n        var message = defaultErrorMsg;\n        if (workflow === null || workflow === void 0 ? void 0 : workflow.developer) {\n          var developerName = \" \".concat((_a = workflow.developer) === null || _a === void 0 ? void 0 : _a.name) || \"Unknown\";\n          var link = React.createElement(\"a\", {\n            rel: \"noopener noreferrer\",\n            target: \"_blank\",\n            href: workflow.developer.contactUrl\n          }, developerName);\n          message = React.createElement(React.Fragment, null, defaultErrorMsg, \":\", link, \".\");\n        }\n        return React.createElement(Grid, {\n          container: true,\n          direction: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }, React.createElement(Dialog, {\n          onClose: this.onDetailsClose,\n          open: showDetails,\n          title: \"Stack Trace\"\n        }, React.createElement(DialogContent, null, React.createElement(Code, null, (errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.componentStack) || \"Could not determine stack trace\"))), React.createElement(Alert, {\n          severity: \"error\",\n          action: React.createElement(IconButton, {\n            \"aria-label\": \"error\",\n            color: \"inherit\",\n            size: \"small\",\n            onClick: this.onDetailsOpen\n          }, React.createElement(LaunchIcon, null))\n        }, React.createElement(\"div\", null, message)));\n      }\n      return children;\n    }\n  }]);\n  return ErrorBoundary;\n}(React.Component);\nexport default ErrorBoundary;","map":{"version":3,"names":["React","LaunchIcon","Alert","Grid","IconButton","Dialog","DialogContent","Code","ErrorBoundary","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","error","errorInfo","showDetails","onDetailsClose","bind","_assertThisInitialized","onDetailsOpen","_createClass","key","value","componentDidCatch","setState","_objectSpread","render","_a","_this$props","children","workflow","_this$state","defaultErrorMsg","createElement","Fragment","displayName","message","developer","developerName","concat","name","link","rel","target","href","contactUrl","container","direction","justifyContent","alignItems","onClose","open","title","componentStack","severity","action","color","size","onClick","Component"],"sources":["/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@clutch-sh/core/dist/AppProvider/workflow.js"],"sourcesContent":["import React from \"react\";\nimport LaunchIcon from \"@mui/icons-material/Launch\";\nimport { Alert, Grid, IconButton } from \"@mui/material\";\nimport { Dialog, DialogContent } from \"../dialog\";\nimport Code from \"../text\";\nclass ErrorBoundary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { error: null, errorInfo: null, showDetails: false };\n        this.onDetailsClose = this.onDetailsClose.bind(this);\n        this.onDetailsOpen = this.onDetailsOpen.bind(this);\n    }\n    componentDidCatch(error, errorInfo) {\n        this.setState({ error, errorInfo });\n    }\n    onDetailsClose() {\n        this.setState(state => {\n            return { ...state, showDetails: false };\n        });\n    }\n    onDetailsOpen() {\n        this.setState(state => {\n            return { ...state, showDetails: true };\n        });\n    }\n    render() {\n        var _a;\n        const { children, workflow } = this.props;\n        const { error, errorInfo, showDetails } = this.state;\n        const defaultErrorMsg = (React.createElement(React.Fragment, null,\n            \"Failed to load \",\n            workflow.displayName,\n            \" workflow. Please contact the developer\"));\n        if (error) {\n            let message = defaultErrorMsg;\n            if (workflow === null || workflow === void 0 ? void 0 : workflow.developer) {\n                const developerName = ` ${(_a = workflow.developer) === null || _a === void 0 ? void 0 : _a.name}` || \"Unknown\";\n                const link = (React.createElement(\"a\", { rel: \"noopener noreferrer\", target: \"_blank\", href: workflow.developer.contactUrl }, developerName));\n                message = (React.createElement(React.Fragment, null,\n                    defaultErrorMsg,\n                    \":\",\n                    link,\n                    \".\"));\n            }\n            return (React.createElement(Grid, { container: true, direction: \"column\", justifyContent: \"center\", alignItems: \"center\" },\n                React.createElement(Dialog, { onClose: this.onDetailsClose, open: showDetails, title: \"Stack Trace\" },\n                    React.createElement(DialogContent, null,\n                        React.createElement(Code, null, (errorInfo === null || errorInfo === void 0 ? void 0 : errorInfo.componentStack) || \"Could not determine stack trace\"))),\n                React.createElement(Alert, { severity: \"error\", action: React.createElement(IconButton, { \"aria-label\": \"error\", color: \"inherit\", size: \"small\", onClick: this.onDetailsOpen },\n                        React.createElement(LaunchIcon, null)) },\n                    React.createElement(\"div\", null, message))));\n        }\n        return children;\n    }\n}\nexport default ErrorBoundary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}