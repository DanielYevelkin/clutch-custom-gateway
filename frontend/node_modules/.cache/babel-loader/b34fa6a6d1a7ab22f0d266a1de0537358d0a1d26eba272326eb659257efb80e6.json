{"ast":null,"code":"import _objectSpread from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useState } from \"react\";\nimport { clutch as IClutch } from \"@clutch-sh/api\";\nimport { capitalize, isInteger } from \"lodash\";\nimport Emoji from \"../Assets/emojis\";\nimport { IconButton } from \"../button\";\nimport { Tooltip } from \"../Feedback\";\nimport styled from \"../styled\";\n// Will convert a given integer to a typed enum key if necessary\nvar getKey = function getKey(map, val) {\n  return Object.keys(map).find(function (key) {\n    return map[key] === val;\n  });\n};\n/**\n * EmojiRatings component which will take an array of emojis and given ratings and create IconButtons with them and return them on selection\n *\n * @param ratings given array of ratings to display\n * @param setRating function which will return the given selected rating\n * @returns rendered EmojiRatings component\n */\nvar EmojiRatings = function EmojiRatings(_ref) {\n  var _ref$ratings = _ref.ratings,\n    ratings = _ref$ratings === void 0 ? [] : _ref$ratings,\n    setRating = _ref.setRating,\n    _ref$placement = _ref.placement,\n    placement = _ref$placement === void 0 ? \"top\" : _ref$placement,\n    _ref$buttonSize = _ref.buttonSize,\n    buttonSize = _ref$buttonSize === void 0 ? \"small\" : _ref$buttonSize,\n    _ref$emojiSize = _ref.emojiSize,\n    emojiSize = _ref$emojiSize === void 0 ? \"medium\" : _ref$emojiSize;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedRating = _useState2[0],\n    selectRating = _useState2[1];\n  var StyledIconButton = styled(IconButton)({\n    \"&:hover\": {\n      opacity: 1\n    }\n  }, function (props) {\n    return _objectSpread({\n      opacity: props.$selected ? 1 : 0.5\n    }, (props === null || props === void 0 ? void 0 : props.size) === \"medium\" && {\n      padding: \"6px\"\n    });\n  });\n  var select = function select(rating) {\n    selectRating(rating);\n    setRating(rating);\n  };\n  return React.createElement(React.Fragment, null, ratings.map(function (rating) {\n    var label = rating.label;\n    var emoji = isInteger(rating.emoji) ? getKey(IClutch.feedback.v1.EmojiRating, rating.emoji) : rating.emoji;\n    return React.createElement(Tooltip, {\n      key: label,\n      title: capitalize(label),\n      placement: placement\n    }, React.createElement(StyledIconButton, {\n      key: \"rating-\".concat(emoji),\n      variant: \"neutral\",\n      \"$selected\": (selectedRating === null || selectedRating === void 0 ? void 0 : selectedRating.label) === label,\n      onClick: function onClick() {\n        return select({\n          label: label,\n          emoji: emoji\n        });\n      },\n      size: buttonSize\n    }, React.createElement(Emoji, {\n      type: emoji,\n      size: emojiSize\n    })));\n  }));\n};\nexport default EmojiRatings;","map":{"version":3,"names":["React","useState","clutch","IClutch","capitalize","isInteger","Emoji","IconButton","Tooltip","styled","getKey","map","val","Object","keys","find","key","EmojiRatings","_ref","_ref$ratings","ratings","setRating","_ref$placement","placement","_ref$buttonSize","buttonSize","_ref$emojiSize","emojiSize","_useState","_useState2","_slicedToArray","selectedRating","selectRating","StyledIconButton","opacity","props","_objectSpread","$selected","size","padding","select","rating","createElement","Fragment","label","emoji","feedback","v1","EmojiRating","title","concat","variant","onClick","type"],"sources":["/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@clutch-sh/core/dist/NPS/emojiRatings.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { clutch as IClutch } from \"@clutch-sh/api\";\nimport { capitalize, isInteger } from \"lodash\";\nimport Emoji from \"../Assets/emojis\";\nimport { IconButton } from \"../button\";\nimport { Tooltip } from \"../Feedback\";\nimport styled from \"../styled\";\n// Will convert a given integer to a typed enum key if necessary\nconst getKey = (map, val) => Object.keys(map).find(key => map[key] === val);\n/**\n * EmojiRatings component which will take an array of emojis and given ratings and create IconButtons with them and return them on selection\n *\n * @param ratings given array of ratings to display\n * @param setRating function which will return the given selected rating\n * @returns rendered EmojiRatings component\n */\nconst EmojiRatings = ({ ratings = [], setRating, placement = \"top\", buttonSize = \"small\", emojiSize = \"medium\", }) => {\n    const [selectedRating, selectRating] = useState(null);\n    const StyledIconButton = styled(IconButton)({\n        \"&:hover\": {\n            opacity: 1,\n        },\n    }, props => ({\n        opacity: props.$selected ? 1 : 0.5,\n        ...((props === null || props === void 0 ? void 0 : props.size) === \"medium\" && { padding: \"6px\" }),\n    }));\n    const select = (rating) => {\n        selectRating(rating);\n        setRating(rating);\n    };\n    return (React.createElement(React.Fragment, null, ratings.map((rating) => {\n        const { label } = rating;\n        const emoji = isInteger(rating.emoji)\n            ? getKey(IClutch.feedback.v1.EmojiRating, rating.emoji)\n            : rating.emoji;\n        return (React.createElement(Tooltip, { key: label, title: capitalize(label), placement: placement },\n            React.createElement(StyledIconButton, { key: `rating-${emoji}`, variant: \"neutral\", \"$selected\": (selectedRating === null || selectedRating === void 0 ? void 0 : selectedRating.label) === label, onClick: () => select({ label, emoji: emoji }), size: buttonSize },\n                React.createElement(Emoji, { type: emoji, size: emojiSize }))));\n    })));\n};\nexport default EmojiRatings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}