{"ast":null,"code":"(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n    g.Bugsnag = f();\n  }\n})(function () {\n  var define, module, exports;\n  var _$breadcrumbTypes_8 = ['navigation', 'request', 'process', 'log', 'user', 'state', 'error', 'manual'];\n\n  // Array#reduce\n  var _$reduce_17 = function _$reduce_17(arr, fn, accum) {\n    var val = accum;\n    for (var i = 0, len = arr.length; i < len; i++) {\n      val = fn(val, arr[i], i, arr);\n    }\n    return val;\n  };\n\n  /* removed: var _$reduce_17 = require('./reduce'); */\n  ; // Array#filter\n\n  var _$filter_12 = function _$filter_12(arr, fn) {\n    return _$reduce_17(arr, function (accum, item, i, arr) {\n      return !fn(item, i, arr) ? accum : accum.concat(item);\n    }, []);\n  };\n\n  /* removed: var _$reduce_17 = require('./reduce'); */\n  ; // Array#includes\n\n  var _$includes_13 = function _$includes_13(arr, x) {\n    return _$reduce_17(arr, function (accum, item, i, arr) {\n      return accum === true || item === x;\n    }, false);\n  };\n\n  // Array#isArray\n  var _$isArray_14 = function _$isArray_14(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n\n  /* eslint-disable-next-line no-prototype-builtins */\n  var _hasDontEnumBug = !{\n    toString: null\n  }.propertyIsEnumerable('toString');\n  var _dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor']; // Object#keys\n\n  var _$keys_15 = function _$keys_15(obj) {\n    // stripped down version of\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n    var result = [];\n    var prop;\n    for (prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop);\n    }\n    if (!_hasDontEnumBug) return result;\n    for (var i = 0, len = _dontEnums.length; i < len; i++) {\n      if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i]);\n    }\n    return result;\n  };\n  var _$intRange_24 = function _$intRange_24(min, max) {\n    if (min === void 0) {\n      min = 1;\n    }\n    if (max === void 0) {\n      max = Infinity;\n    }\n    return function (value) {\n      return typeof value === 'number' && parseInt('' + value, 10) === value && value >= min && value <= max;\n    };\n  };\n\n  /* removed: var _$filter_12 = require('../es-utils/filter'); */\n  ;\n\n  /* removed: var _$isArray_14 = require('../es-utils/is-array'); */\n  ;\n  var _$listOfFunctions_25 = function _$listOfFunctions_25(value) {\n    return typeof value === 'function' || _$isArray_14(value) && _$filter_12(value, function (f) {\n      return typeof f === 'function';\n    }).length === value.length;\n  };\n  var _$stringWithLength_26 = function _$stringWithLength_26(value) {\n    return typeof value === 'string' && !!value.length;\n  };\n  var _$config_5 = {};\n  /* removed: var _$filter_12 = require('./lib/es-utils/filter'); */\n  ;\n\n  /* removed: var _$reduce_17 = require('./lib/es-utils/reduce'); */\n  ;\n\n  /* removed: var _$keys_15 = require('./lib/es-utils/keys'); */\n  ;\n\n  /* removed: var _$isArray_14 = require('./lib/es-utils/is-array'); */\n  ;\n\n  /* removed: var _$includes_13 = require('./lib/es-utils/includes'); */\n  ;\n\n  /* removed: var _$intRange_24 = require('./lib/validators/int-range'); */\n  ;\n\n  /* removed: var _$stringWithLength_26 = require('./lib/validators/string-with-length'); */\n  ;\n\n  /* removed: var _$listOfFunctions_25 = require('./lib/validators/list-of-functions'); */\n  ;\n\n  /* removed: var _$breadcrumbTypes_8 = require('./lib/breadcrumb-types'); */\n  ;\n  var defaultErrorTypes = function defaultErrorTypes() {\n    return {\n      unhandledExceptions: true,\n      unhandledRejections: true\n    };\n  };\n  _$config_5.schema = {\n    apiKey: {\n      defaultValue: function defaultValue() {\n        return null;\n      },\n      message: 'is required',\n      validate: _$stringWithLength_26\n    },\n    appVersion: {\n      defaultValue: function defaultValue() {\n        return undefined;\n      },\n      message: 'should be a string',\n      validate: function validate(value) {\n        return value === undefined || _$stringWithLength_26(value);\n      }\n    },\n    appType: {\n      defaultValue: function defaultValue() {\n        return undefined;\n      },\n      message: 'should be a string',\n      validate: function validate(value) {\n        return value === undefined || _$stringWithLength_26(value);\n      }\n    },\n    autoDetectErrors: {\n      defaultValue: function defaultValue() {\n        return true;\n      },\n      message: 'should be true|false',\n      validate: function validate(value) {\n        return value === true || value === false;\n      }\n    },\n    enabledErrorTypes: {\n      defaultValue: function defaultValue() {\n        return defaultErrorTypes();\n      },\n      message: 'should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }',\n      allowPartialObject: true,\n      validate: function validate(value) {\n        // ensure we have an object\n        if (typeof value !== 'object' || !value) return false;\n        var providedKeys = _$keys_15(value);\n        var defaultKeys = _$keys_15(defaultErrorTypes()); // ensure it only has a subset of the allowed keys\n\n        if (_$filter_12(providedKeys, function (k) {\n          return _$includes_13(defaultKeys, k);\n        }).length < providedKeys.length) return false; // ensure all of the values are boolean\n\n        if (_$filter_12(_$keys_15(value), function (k) {\n          return typeof value[k] !== 'boolean';\n        }).length > 0) return false;\n        return true;\n      }\n    },\n    onError: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be a function or array of functions',\n      validate: _$listOfFunctions_25\n    },\n    onSession: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be a function or array of functions',\n      validate: _$listOfFunctions_25\n    },\n    onBreadcrumb: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be a function or array of functions',\n      validate: _$listOfFunctions_25\n    },\n    endpoints: {\n      defaultValue: function defaultValue() {\n        return {\n          notify: 'https://notify.bugsnag.com',\n          sessions: 'https://sessions.bugsnag.com'\n        };\n      },\n      message: 'should be an object containing endpoint URLs { notify, sessions }',\n      validate: function validate(val) {\n        return (\n          // first, ensure it's an object\n          val && typeof val === 'object' &&\n          // notify and sessions must always be set\n          _$stringWithLength_26(val.notify) && _$stringWithLength_26(val.sessions) &&\n          // ensure no keys other than notify/session are set on endpoints object\n          _$filter_12(_$keys_15(val), function (k) {\n            return !_$includes_13(['notify', 'sessions'], k);\n          }).length === 0\n        );\n      }\n    },\n    autoTrackSessions: {\n      defaultValue: function defaultValue(val) {\n        return true;\n      },\n      message: 'should be true|false',\n      validate: function validate(val) {\n        return val === true || val === false;\n      }\n    },\n    enabledReleaseStages: {\n      defaultValue: function defaultValue() {\n        return null;\n      },\n      message: 'should be an array of strings',\n      validate: function validate(value) {\n        return value === null || _$isArray_14(value) && _$filter_12(value, function (f) {\n          return typeof f === 'string';\n        }).length === value.length;\n      }\n    },\n    releaseStage: {\n      defaultValue: function defaultValue() {\n        return 'production';\n      },\n      message: 'should be a string',\n      validate: function validate(value) {\n        return typeof value === 'string' && value.length;\n      }\n    },\n    maxBreadcrumbs: {\n      defaultValue: function defaultValue() {\n        return 25;\n      },\n      message: 'should be a number â‰¤100',\n      validate: function validate(value) {\n        return _$intRange_24(0, 100)(value);\n      }\n    },\n    enabledBreadcrumbTypes: {\n      defaultValue: function defaultValue() {\n        return _$breadcrumbTypes_8;\n      },\n      message: \"should be null or a list of available breadcrumb types (\" + _$breadcrumbTypes_8.join(',') + \")\",\n      validate: function validate(value) {\n        return value === null || _$isArray_14(value) && _$reduce_17(value, function (accum, maybeType) {\n          if (accum === false) return accum;\n          return _$includes_13(_$breadcrumbTypes_8, maybeType);\n        }, true);\n      }\n    },\n    context: {\n      defaultValue: function defaultValue() {\n        return undefined;\n      },\n      message: 'should be a string',\n      validate: function validate(value) {\n        return value === undefined || typeof value === 'string';\n      }\n    },\n    user: {\n      defaultValue: function defaultValue() {\n        return {};\n      },\n      message: 'should be an object with { id, email, name } properties',\n      validate: function validate(value) {\n        return value === null || value && _$reduce_17(_$keys_15(value), function (accum, key) {\n          return accum && _$includes_13(['id', 'email', 'name'], key);\n        }, true);\n      }\n    },\n    metadata: {\n      defaultValue: function defaultValue() {\n        return {};\n      },\n      message: 'should be an object',\n      validate: function validate(value) {\n        return typeof value === 'object' && value !== null;\n      }\n    },\n    logger: {\n      defaultValue: function defaultValue() {\n        return undefined;\n      },\n      message: 'should be null or an object with methods { debug, info, warn, error }',\n      validate: function validate(value) {\n        return !value || value && _$reduce_17(['debug', 'info', 'warn', 'error'], function (accum, method) {\n          return accum && typeof value[method] === 'function';\n        }, true);\n      }\n    },\n    redactedKeys: {\n      defaultValue: function defaultValue() {\n        return ['password'];\n      },\n      message: 'should be an array of strings|regexes',\n      validate: function validate(value) {\n        return _$isArray_14(value) && value.length === _$filter_12(value, function (s) {\n          return typeof s === 'string' || s && typeof s.test === 'function';\n        }).length;\n      }\n    },\n    plugins: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be an array of plugin objects',\n      validate: function validate(value) {\n        return _$isArray_14(value) && value.length === _$filter_12(value, function (p) {\n          return p && typeof p === 'object' && typeof p.load === 'function';\n        }).length;\n      }\n    },\n    featureFlags: {\n      defaultValue: function defaultValue() {\n        return [];\n      },\n      message: 'should be an array of objects that have a \"name\" property',\n      validate: function validate(value) {\n        return _$isArray_14(value) && value.length === _$filter_12(value, function (feature) {\n          return feature && typeof feature === 'object' && typeof feature.name === 'string';\n        }).length;\n      }\n    }\n  };\n\n  // extends helper from babel\n  // https://github.com/babel/babel/blob/916429b516e6466fd06588ee820e40e025d7f3a3/packages/babel-helpers/src/helpers.js#L377-L393\n  var _$assign_11 = function _$assign_11(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n\n  /* removed: var _$reduce_17 = require('./reduce'); */\n  ; // Array#map\n\n  var _$map_16 = function _$map_16(arr, fn) {\n    return _$reduce_17(arr, function (accum, item, i, arr) {\n      return accum.concat(fn(item, i, arr));\n    }, []);\n  };\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return _extends.apply(this, arguments);\n  }\n  var schema = _$config_5.schema;\n\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n  ;\n\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n  ;\n  var _$config_1 = {\n    releaseStage: _$assign_11({}, schema.releaseStage, {\n      defaultValue: function defaultValue() {\n        if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development';\n        return 'production';\n      }\n    }),\n    appType: _extends({}, schema.appType, {\n      defaultValue: function defaultValue() {\n        return 'browser';\n      }\n    }),\n    logger: _$assign_11({}, schema.logger, {\n      defaultValue: function defaultValue() {\n        return (\n          // set logger based on browser capability\n          typeof console !== 'undefined' && typeof console.debug === 'function' ? getPrefixedConsole() : undefined\n        );\n      }\n    })\n  };\n  var getPrefixedConsole = function getPrefixedConsole() {\n    var logger = {};\n    var consoleLog = console.log;\n    _$map_16(['debug', 'info', 'warn', 'error'], function (method) {\n      var consoleMethod = console[method];\n      logger[method] = typeof consoleMethod === 'function' ? consoleMethod.bind(console, '[bugsnag]') : consoleLog.bind(console, '[bugsnag]');\n    });\n    return logger;\n  };\n  var Breadcrumb = /*#__PURE__*/function () {\n    function Breadcrumb(message, metadata, type, timestamp) {\n      if (timestamp === void 0) {\n        timestamp = new Date();\n      }\n      this.type = type;\n      this.message = message;\n      this.metadata = metadata;\n      this.timestamp = timestamp;\n    }\n    var _proto = Breadcrumb.prototype;\n    _proto.toJSON = function toJSON() {\n      return {\n        type: this.type,\n        name: this.message,\n        timestamp: this.timestamp,\n        metaData: this.metadata\n      };\n    };\n    return Breadcrumb;\n  }();\n  var _$Breadcrumb_3 = Breadcrumb;\n  var _$stackframe_34 = {};\n  (function (root, factory) {\n    'use strict';\n\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n      define('stackframe', [], factory);\n    } else if (typeof _$stackframe_34 === 'object') {\n      _$stackframe_34 = factory();\n    } else {\n      root.StackFrame = factory();\n    }\n  })(this, function () {\n    'use strict';\n\n    function _isNumber(n) {\n      return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n    function _capitalize(str) {\n      return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n    function _getter(p) {\n      return function () {\n        return this[p];\n      };\n    }\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n    function StackFrame(obj) {\n      if (obj instanceof Object) {\n        for (var i = 0; i < props.length; i++) {\n          if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n            this['set' + _capitalize(props[i])](obj[props[i]]);\n          }\n        }\n      }\n    }\n    StackFrame.prototype = {\n      getArgs: function getArgs() {\n        return this.args;\n      },\n      setArgs: function setArgs(v) {\n        if (Object.prototype.toString.call(v) !== '[object Array]') {\n          throw new TypeError('Args must be an Array');\n        }\n        this.args = v;\n      },\n      getEvalOrigin: function getEvalOrigin() {\n        return this.evalOrigin;\n      },\n      setEvalOrigin: function setEvalOrigin(v) {\n        if (v instanceof StackFrame) {\n          this.evalOrigin = v;\n        } else if (v instanceof Object) {\n          this.evalOrigin = new StackFrame(v);\n        } else {\n          throw new TypeError('Eval Origin must be an Object or StackFrame');\n        }\n      },\n      toString: function toString() {\n        var functionName = this.getFunctionName() || '{anonymous}';\n        var args = '(' + (this.getArgs() || []).join(',') + ')';\n        var fileName = this.getFileName() ? '@' + this.getFileName() : '';\n        var lineNumber = _isNumber(this.getLineNumber()) ? ':' + this.getLineNumber() : '';\n        var columnNumber = _isNumber(this.getColumnNumber()) ? ':' + this.getColumnNumber() : '';\n        return functionName + args + fileName + lineNumber + columnNumber;\n      }\n    };\n    for (var i = 0; i < booleanProps.length; i++) {\n      StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n      StackFrame.prototype['set' + _capitalize(booleanProps[i])] = function (p) {\n        return function (v) {\n          this[p] = Boolean(v);\n        };\n      }(booleanProps[i]);\n    }\n    for (var j = 0; j < numericProps.length; j++) {\n      StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n      StackFrame.prototype['set' + _capitalize(numericProps[j])] = function (p) {\n        return function (v) {\n          if (!_isNumber(v)) {\n            throw new TypeError(p + ' must be a Number');\n          }\n          this[p] = Number(v);\n        };\n      }(numericProps[j]);\n    }\n    for (var k = 0; k < stringProps.length; k++) {\n      StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n      StackFrame.prototype['set' + _capitalize(stringProps[k])] = function (p) {\n        return function (v) {\n          this[p] = String(v);\n        };\n      }(stringProps[k]);\n    }\n    return StackFrame;\n  });\n  var _$errorStackParser_31 = {};\n  (function (root, factory) {\n    'use strict';\n\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n      define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof _$errorStackParser_31 === 'object') {\n      _$errorStackParser_31 = factory(_$stackframe_34);\n    } else {\n      root.ErrorStackParser = factory(root.StackFrame);\n    }\n  })(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n    return {\n      /**\n       * Given an Error object, extract the most information from it.\n       *\n       * @param {Error} error object\n       * @return {Array} of StackFrames\n       */\n      parse: function ErrorStackParser$$parse(error) {\n        if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n          return this.parseOpera(error);\n        } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n          return this.parseV8OrIE(error);\n        } else if (error.stack) {\n          return this.parseFFOrSafari(error);\n        } else {\n          throw new Error('Cannot parse given Error object');\n        }\n      },\n      // Separate line and column numbers from a string of the form: (URI:Line:Column)\n      extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n        // Fail-fast but return locations like \"(native)\"\n        if (urlLike.indexOf(':') === -1) {\n          return [urlLike];\n        }\n        var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n        var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n        return [parts[1], parts[2] || undefined, parts[3] || undefined];\n      },\n      parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !!line.match(CHROME_IE_STACK_REGEXP);\n        }, this);\n        return filtered.map(function (line) {\n          if (line.indexOf('(eval ') > -1) {\n            // Throw away eval information until we implement stacktrace.js/stackframe#8\n            line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n          }\n          var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '('); // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n          // case it has spaces in it, as the string is split on \\s+ later on\n\n          var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/); // remove the parenthesized location from the line, if it was matched\n\n          sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n          var tokens = sanitizedLine.split(/\\s+/).slice(1); // if a location was matched, pass it to extractLocation() otherwise pop the last token\n\n          var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n          var functionName = tokens.join(' ') || undefined;\n          var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n          return new StackFrame({\n            functionName: functionName,\n            fileName: fileName,\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }, this);\n      },\n      parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n        }, this);\n        return filtered.map(function (line) {\n          // Throw away eval information until we implement stacktrace.js/stackframe#8\n          if (line.indexOf(' > eval') > -1) {\n            line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n          }\n          if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n            // Safari eval frames only have function names and nothing else\n            return new StackFrame({\n              functionName: line\n            });\n          } else {\n            var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n            var matches = line.match(functionNameRegex);\n            var functionName = matches && matches[1] ? matches[1] : undefined;\n            var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n            return new StackFrame({\n              functionName: functionName,\n              fileName: locationParts[0],\n              lineNumber: locationParts[1],\n              columnNumber: locationParts[2],\n              source: line\n            });\n          }\n        }, this);\n      },\n      parseOpera: function ErrorStackParser$$parseOpera(e) {\n        if (!e.stacktrace || e.message.indexOf('\\n') > -1 && e.message.split('\\n').length > e.stacktrace.split('\\n').length) {\n          return this.parseOpera9(e);\n        } else if (!e.stack) {\n          return this.parseOpera10(e);\n        } else {\n          return this.parseOpera11(e);\n        }\n      },\n      parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n        var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n        var lines = e.message.split('\\n');\n        var result = [];\n        for (var i = 2, len = lines.length; i < len; i += 2) {\n          var match = lineRE.exec(lines[i]);\n          if (match) {\n            result.push(new StackFrame({\n              fileName: match[2],\n              lineNumber: match[1],\n              source: lines[i]\n            }));\n          }\n        }\n        return result;\n      },\n      parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n        var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n        var lines = e.stacktrace.split('\\n');\n        var result = [];\n        for (var i = 0, len = lines.length; i < len; i += 2) {\n          var match = lineRE.exec(lines[i]);\n          if (match) {\n            result.push(new StackFrame({\n              functionName: match[3] || undefined,\n              fileName: match[2],\n              lineNumber: match[1],\n              source: lines[i]\n            }));\n          }\n        }\n        return result;\n      },\n      // Opera 10.65+ Error.stack very similar to FF/Safari\n      parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n        var filtered = error.stack.split('\\n').filter(function (line) {\n          return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n        }, this);\n        return filtered.map(function (line) {\n          var tokens = line.split('@');\n          var locationParts = this.extractLocation(tokens.pop());\n          var functionCall = tokens.shift() || '';\n          var functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, '$2').replace(/\\([^\\)]*\\)/g, '') || undefined;\n          var argsRaw;\n          if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n            argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n          }\n          var args = argsRaw === undefined || argsRaw === '[arguments not available]' ? undefined : argsRaw.split(',');\n          return new StackFrame({\n            functionName: functionName,\n            args: args,\n            fileName: locationParts[0],\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }, this);\n      }\n    };\n  });\n  var _$errorStackParser_10 = _$errorStackParser_31;\n  var _$safeJsonStringify_30 = function _$safeJsonStringify_30(data, replacer, space, opts) {\n    var redactedKeys = opts && opts.redactedKeys ? opts.redactedKeys : [];\n    var redactedPaths = opts && opts.redactedPaths ? opts.redactedPaths : [];\n    return JSON.stringify(prepareObjForSerialization(data, redactedKeys, redactedPaths), replacer, space);\n  };\n  var MAX_DEPTH = 20;\n  var MAX_EDGES = 25000;\n  var MIN_PRESERVED_DEPTH = 8;\n  var REPLACEMENT_NODE = '...';\n  function isError(o) {\n    return o instanceof Error || /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o));\n  }\n  function throwsMessage(err) {\n    return '[Throws: ' + (err ? err.message : '?') + ']';\n  }\n  function find(haystack, needle) {\n    for (var i = 0, len = haystack.length; i < len; i++) {\n      if (haystack[i] === needle) return true;\n    }\n    return false;\n  } // returns true if the string `path` starts with any of the provided `paths`\n\n  function isDescendent(paths, path) {\n    for (var i = 0, len = paths.length; i < len; i++) {\n      if (path.indexOf(paths[i]) === 0) return true;\n    }\n    return false;\n  }\n  function shouldRedact(patterns, key) {\n    for (var i = 0, len = patterns.length; i < len; i++) {\n      if (typeof patterns[i] === 'string' && patterns[i].toLowerCase() === key.toLowerCase()) return true;\n      if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true;\n    }\n    return false;\n  }\n  function __isArray_30(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  }\n  function safelyGetProp(obj, prop) {\n    try {\n      return obj[prop];\n    } catch (err) {\n      return throwsMessage(err);\n    }\n  }\n  function prepareObjForSerialization(obj, redactedKeys, redactedPaths) {\n    var seen = []; // store references to objects we have seen before\n\n    var edges = 0;\n    function visit(obj, path) {\n      function edgesExceeded() {\n        return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES;\n      }\n      edges++;\n      if (path.length > MAX_DEPTH) return REPLACEMENT_NODE;\n      if (edgesExceeded()) return REPLACEMENT_NODE;\n      if (obj === null || typeof obj !== 'object') return obj;\n      if (find(seen, obj)) return '[Circular]';\n      seen.push(obj);\n      if (typeof obj.toJSON === 'function') {\n        try {\n          // we're not going to count this as an edge because it\n          // replaces the value of the currently visited object\n          edges--;\n          var fResult = visit(obj.toJSON(), path);\n          seen.pop();\n          return fResult;\n        } catch (err) {\n          return throwsMessage(err);\n        }\n      }\n      var er = isError(obj);\n      if (er) {\n        edges--;\n        var eResult = visit({\n          name: obj.name,\n          message: obj.message\n        }, path);\n        seen.pop();\n        return eResult;\n      }\n      if (__isArray_30(obj)) {\n        var aResult = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n          if (edgesExceeded()) {\n            aResult.push(REPLACEMENT_NODE);\n            break;\n          }\n          aResult.push(visit(obj[i], path.concat('[]')));\n        }\n        seen.pop();\n        return aResult;\n      }\n      var result = {};\n      try {\n        for (var prop in obj) {\n          if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue;\n          if (isDescendent(redactedPaths, path.join('.')) && shouldRedact(redactedKeys, prop)) {\n            result[prop] = '[REDACTED]';\n            continue;\n          }\n          if (edgesExceeded()) {\n            result[prop] = REPLACEMENT_NODE;\n            break;\n          }\n          result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop));\n        }\n      } catch (e) {}\n      seen.pop();\n      return result;\n    }\n    return visit(obj, []);\n  }\n\n  /* removed: var _$map_16 = require('./es-utils/map'); */\n  ;\n\n  /* removed: var _$filter_12 = require('./es-utils/filter'); */\n  ;\n\n  /* removed: var _$isArray_14 = require('./es-utils/is-array'); */\n  ;\n\n  /* removed: var _$safeJsonStringify_30 = require('@bugsnag/safe-json-stringify'); */\n  ;\n  function add(existingFeatures, existingFeatureKeys, name, variant) {\n    if (typeof name !== 'string') {\n      return;\n    }\n    if (variant === undefined) {\n      variant = null;\n    } else if (variant !== null && typeof variant !== 'string') {\n      variant = _$safeJsonStringify_30(variant);\n    }\n    var existingIndex = existingFeatureKeys[name];\n    if (typeof existingIndex === 'number') {\n      existingFeatures[existingIndex] = {\n        name: name,\n        variant: variant\n      };\n      return;\n    }\n    existingFeatures.push({\n      name: name,\n      variant: variant\n    });\n    existingFeatureKeys[name] = existingFeatures.length - 1;\n  }\n  function merge(existingFeatures, newFeatures, existingFeatureKeys) {\n    if (!_$isArray_14(newFeatures)) {\n      return;\n    }\n    for (var i = 0; i < newFeatures.length; ++i) {\n      var feature = newFeatures[i];\n      if (feature === null || typeof feature !== 'object') {\n        continue;\n      } // 'add' will handle if 'name' doesn't exist & 'variant' is optional\n\n      add(existingFeatures, existingFeatureKeys, feature.name, feature.variant);\n    }\n    return existingFeatures;\n  } // convert feature flags from a map of 'name -> variant' into the format required\n  // by the Bugsnag Event API:\n  //   [{ featureFlag: 'name', variant: 'variant' }, { featureFlag: 'name 2' }]\n\n  function toEventApi(featureFlags) {\n    return _$map_16(_$filter_12(featureFlags, Boolean), function (_ref) {\n      var name = _ref.name,\n        variant = _ref.variant;\n      var flag = {\n        featureFlag: name\n      }; // don't add a 'variant' property unless there's actually a value\n\n      if (typeof variant === 'string') {\n        flag.variant = variant;\n      }\n      return flag;\n    });\n  }\n  function clear(features, featuresIndex, name) {\n    var existingIndex = featuresIndex[name];\n    if (typeof existingIndex === 'number') {\n      features[existingIndex] = null;\n      delete featuresIndex[name];\n    }\n  }\n  var _$featureFlagDelegate_18 = {\n    add: add,\n    clear: clear,\n    merge: merge,\n    toEventApi: toEventApi\n  };\n\n  // Given `err` which may be an error, does it have a stack property which is a string?\n  var _$hasStack_19 = function _$hasStack_19(err) {\n    return !!err && (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) && typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' && err.stack !== err.name + \": \" + err.message;\n  };\n\n  /**\n   * Expose `isError`.\n   */\n  var _$isError_32 = __isError_32;\n  /**\n   * Test whether `value` is error object.\n   *\n   * @param {*} value\n   * @returns {boolean}\n   */\n\n  function __isError_32(value) {\n    switch (Object.prototype.toString.call(value)) {\n      case '[object Error]':\n        return true;\n      case '[object Exception]':\n        return true;\n      case '[object DOMException]':\n        return true;\n      default:\n        return value instanceof Error;\n    }\n  }\n  var _$iserror_20 = _$isError_32;\n\n  /* removed: var _$assign_11 = require('./es-utils/assign'); */\n  ;\n  var __add_22 = function __add_22(state, section, keyOrObj, maybeVal) {\n    var _updates;\n    if (!section) return;\n    var updates; // addMetadata(\"section\", null) -> clears section\n\n    if (keyOrObj === null) return __clear_22(state, section); // normalise the two supported input types into object form\n\n    if (typeof keyOrObj === 'object') updates = keyOrObj;\n    if (typeof keyOrObj === 'string') updates = (_updates = {}, _updates[keyOrObj] = maybeVal, _updates); // exit if we don't have an updates object at this point\n\n    if (!updates) return; // ensure a section with this name exists\n\n    if (!state[section]) state[section] = {}; // merge the updates with the existing section\n\n    state[section] = _$assign_11({}, state[section], updates);\n  };\n  var get = function get(state, section, key) {\n    if (typeof section !== 'string') return undefined;\n    if (!key) {\n      return state[section];\n    }\n    if (state[section]) {\n      return state[section][key];\n    }\n    return undefined;\n  };\n  var __clear_22 = function __clear_22(state, section, key) {\n    if (typeof section !== 'string') return; // clear an entire section\n\n    if (!key) {\n      delete state[section];\n      return;\n    } // clear a single value from a section\n\n    if (state[section]) {\n      delete state[section][key];\n    }\n  };\n  var _$metadataDelegate_22 = {\n    add: __add_22,\n    get: get,\n    clear: __clear_22\n  };\n  var _$stackGenerator_33 = {};\n  (function (root, factory) {\n    'use strict';\n\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n      define('stack-generator', ['stackframe'], factory);\n    } else if (typeof _$stackGenerator_33 === 'object') {\n      _$stackGenerator_33 = factory(_$stackframe_34);\n    } else {\n      root.StackGenerator = factory(root.StackFrame);\n    }\n  })(this, function (StackFrame) {\n    return {\n      backtrace: function StackGenerator$$backtrace(opts) {\n        var stack = [];\n        var maxStackSize = 10;\n        if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n          maxStackSize = opts.maxStackSize;\n        }\n        var curr = arguments.callee;\n        while (curr && stack.length < maxStackSize && curr['arguments']) {\n          // Allow V8 optimizations\n          var args = new Array(curr['arguments'].length);\n          for (var i = 0; i < args.length; ++i) {\n            args[i] = curr['arguments'][i];\n          }\n          if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n            stack.push(new StackFrame({\n              functionName: RegExp.$1 || undefined,\n              args: args\n            }));\n          } else {\n            stack.push(new StackFrame({\n              args: args\n            }));\n          }\n          try {\n            curr = curr.caller;\n          } catch (e) {\n            break;\n          }\n        }\n        return stack;\n      }\n    };\n  });\n\n  /* removed: var _$errorStackParser_10 = require('./lib/error-stack-parser'); */\n  ;\n\n  /* removed: var _$stackGenerator_33 = require('stack-generator'); */\n  ;\n\n  /* removed: var _$hasStack_19 = require('./lib/has-stack'); */\n  ;\n\n  /* removed: var _$map_16 = require('./lib/es-utils/map'); */\n  ;\n\n  /* removed: var _$reduce_17 = require('./lib/es-utils/reduce'); */\n  ;\n\n  /* removed: var _$filter_12 = require('./lib/es-utils/filter'); */\n  ;\n\n  /* removed: var _$assign_11 = require('./lib/es-utils/assign'); */\n  ;\n\n  /* removed: var _$metadataDelegate_22 = require('./lib/metadata-delegate'); */\n  ;\n\n  /* removed: var _$featureFlagDelegate_18 = require('./lib/feature-flag-delegate'); */\n  ;\n\n  /* removed: var _$iserror_20 = require('./lib/iserror'); */\n  ;\n  var Event = /*#__PURE__*/function () {\n    function Event(errorClass, errorMessage, stacktrace, handledState, originalError) {\n      if (stacktrace === void 0) {\n        stacktrace = [];\n      }\n      if (handledState === void 0) {\n        handledState = defaultHandledState();\n      }\n      this.apiKey = undefined;\n      this.context = undefined;\n      this.groupingHash = undefined;\n      this.originalError = originalError;\n      this._handledState = handledState;\n      this.severity = this._handledState.severity;\n      this.unhandled = this._handledState.unhandled;\n      this.app = {};\n      this.device = {};\n      this.request = {};\n      this.breadcrumbs = [];\n      this.threads = [];\n      this._metadata = {};\n      this._features = [];\n      this._featuresIndex = {};\n      this._user = {};\n      this._session = undefined;\n      this.errors = [createBugsnagError(errorClass, errorMessage, Event.__type, stacktrace)]; // Flags.\n      // Note these are not initialised unless they are used\n      // to save unnecessary bytes in the browser bundle\n\n      /* this.attemptImmediateDelivery, default: true */\n    }\n\n    var _proto = Event.prototype;\n    _proto.addMetadata = function addMetadata(section, keyOrObj, maybeVal) {\n      return _$metadataDelegate_22.add(this._metadata, section, keyOrObj, maybeVal);\n    };\n    _proto.getMetadata = function getMetadata(section, key) {\n      return _$metadataDelegate_22.get(this._metadata, section, key);\n    };\n    _proto.clearMetadata = function clearMetadata(section, key) {\n      return _$metadataDelegate_22.clear(this._metadata, section, key);\n    };\n    _proto.addFeatureFlag = function addFeatureFlag(name, variant) {\n      if (variant === void 0) {\n        variant = null;\n      }\n      _$featureFlagDelegate_18.add(this._features, this._featuresIndex, name, variant);\n    };\n    _proto.addFeatureFlags = function addFeatureFlags(featureFlags) {\n      _$featureFlagDelegate_18.merge(this._features, featureFlags, this._featuresIndex);\n    };\n    _proto.getFeatureFlags = function getFeatureFlags() {\n      return _$featureFlagDelegate_18.toEventApi(this._features);\n    };\n    _proto.clearFeatureFlag = function clearFeatureFlag(name) {\n      _$featureFlagDelegate_18.clear(this._features, this._featuresIndex, name);\n    };\n    _proto.clearFeatureFlags = function clearFeatureFlags() {\n      this._features = [];\n      this._featuresIndex = {};\n    };\n    _proto.getUser = function getUser() {\n      return this._user;\n    };\n    _proto.setUser = function setUser(id, email, name) {\n      this._user = {\n        id: id,\n        email: email,\n        name: name\n      };\n    };\n    _proto.toJSON = function toJSON() {\n      return {\n        payloadVersion: '4',\n        exceptions: _$map_16(this.errors, function (er) {\n          return _$assign_11({}, er, {\n            message: er.errorMessage\n          });\n        }),\n        severity: this.severity,\n        unhandled: this._handledState.unhandled,\n        severityReason: this._handledState.severityReason,\n        app: this.app,\n        device: this.device,\n        request: this.request,\n        breadcrumbs: this.breadcrumbs,\n        context: this.context,\n        groupingHash: this.groupingHash,\n        metaData: this._metadata,\n        user: this._user,\n        session: this._session,\n        featureFlags: this.getFeatureFlags()\n      };\n    };\n    return Event;\n  }(); // takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n  // and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\n\n  var formatStackframe = function formatStackframe(frame) {\n    var f = {\n      file: frame.fileName,\n      method: normaliseFunctionName(frame.functionName),\n      lineNumber: frame.lineNumber,\n      columnNumber: frame.columnNumber,\n      code: undefined,\n      inProject: undefined\n    }; // Some instances result in no file:\n    // - calling notify() from chrome's terminal results in no file/method.\n    // - non-error exception thrown from global code in FF\n    // This adds one.\n\n    if (f.lineNumber > -1 && !f.file && !f.method) {\n      f.file = 'global code';\n    }\n    return f;\n  };\n  var normaliseFunctionName = function normaliseFunctionName(name) {\n    return /^global code$/i.test(name) ? 'global code' : name;\n  };\n  var defaultHandledState = function defaultHandledState() {\n    return {\n      unhandled: false,\n      severity: 'warning',\n      severityReason: {\n        type: 'handledException'\n      }\n    };\n  };\n  var ensureString = function ensureString(str) {\n    return typeof str === 'string' ? str : '';\n  };\n  function createBugsnagError(errorClass, errorMessage, type, stacktrace) {\n    return {\n      errorClass: ensureString(errorClass),\n      errorMessage: ensureString(errorMessage),\n      type: type,\n      stacktrace: _$reduce_17(stacktrace, function (accum, frame) {\n        var f = formatStackframe(frame); // don't include a stackframe if none of its properties are defined\n\n        try {\n          if (JSON.stringify(f) === '{}') return accum;\n          return accum.concat(f);\n        } catch (e) {\n          return accum;\n        }\n      }, [])\n    };\n  }\n  function getCauseStack(error) {\n    if (error.cause) {\n      return [error].concat(getCauseStack(error.cause));\n    } else {\n      return [error];\n    }\n  } // Helpers\n\n  Event.getStacktrace = function (error, errorFramesToSkip, backtraceFramesToSkip) {\n    if (_$hasStack_19(error)) return _$errorStackParser_10.parse(error).slice(errorFramesToSkip); // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n\n    try {\n      return _$filter_12(_$stackGenerator_33.backtrace(), function (frame) {\n        return (frame.functionName || '').indexOf('StackGenerator$$') === -1;\n      }).slice(1 + backtraceFramesToSkip);\n    } catch (e) {\n      return [];\n    }\n  };\n  Event.create = function (maybeError, tolerateNonErrors, handledState, component, errorFramesToSkip, logger) {\n    if (errorFramesToSkip === void 0) {\n      errorFramesToSkip = 0;\n    }\n    var _normaliseError = normaliseError(maybeError, tolerateNonErrors, component, logger),\n      error = _normaliseError[0],\n      internalFrames = _normaliseError[1];\n    var event;\n    try {\n      var stacktrace = Event.getStacktrace(error,\n      // if an error was created/throw in the normaliseError() function, we need to\n      // tell the getStacktrace() function to skip the number of frames we know will\n      // be from our own functions. This is added to the number of frames deep we\n      // were told about\n      internalFrames > 0 ? 1 + internalFrames + errorFramesToSkip : 0,\n      // if there's no stacktrace, the callstack may be walked to generated one.\n      // this is how many frames should be removed because they come from our library\n      1 + errorFramesToSkip);\n      event = new Event(error.name, error.message, stacktrace, handledState, maybeError);\n    } catch (e) {\n      event = new Event(error.name, error.message, [], handledState, maybeError);\n    }\n    if (error.name === 'InvalidError') {\n      event.addMetadata(\"\" + component, 'non-error parameter', makeSerialisable(maybeError));\n    }\n    if (error.cause) {\n      var _event$errors;\n      var causes = getCauseStack(error).slice(1);\n      var normalisedCauses = _$map_16(causes, function (cause) {\n        // Only get stacktrace for error causes that are a valid JS Error and already have a stack\n        var stacktrace = _$iserror_20(cause) && _$hasStack_19(cause) ? _$errorStackParser_10.parse(cause) : [];\n        var _normaliseError2 = normaliseError(cause, true, 'error cause'),\n          error = _normaliseError2[0];\n        if (error.name === 'InvalidError') event.addMetadata('error cause', makeSerialisable(cause));\n        return createBugsnagError(error.name, error.message, Event.__type, stacktrace);\n      });\n      (_event$errors = event.errors).push.apply(_event$errors, normalisedCauses);\n    }\n    return event;\n  };\n  var makeSerialisable = function makeSerialisable(err) {\n    if (err === null) return 'null';\n    if (err === undefined) return 'undefined';\n    return err;\n  };\n  var normaliseError = function normaliseError(maybeError, tolerateNonErrors, component, logger) {\n    var error;\n    var internalFrames = 0;\n    var createAndLogInputError = function createAndLogInputError(reason) {\n      var verb = component === 'error cause' ? 'was' : 'received';\n      if (logger) logger.warn(component + \" \" + verb + \" a non-error: \\\"\" + reason + \"\\\"\");\n      var err = new Error(component + \" \" + verb + \" a non-error. See \\\"\" + component + \"\\\" tab for more detail.\");\n      err.name = 'InvalidError';\n      return err;\n    }; // In some cases:\n    //\n    //  - the promise rejection handler (both in the browser and node)\n    //  - the node uncaughtException handler\n    //\n    // We are really limited in what we can do to get a stacktrace. So we use the\n    // tolerateNonErrors option to ensure that the resulting error communicates as\n    // such.\n\n    if (!tolerateNonErrors) {\n      if (_$iserror_20(maybeError)) {\n        error = maybeError;\n      } else {\n        error = createAndLogInputError(typeof maybeError);\n        internalFrames += 2;\n      }\n    } else {\n      switch (typeof maybeError) {\n        case 'string':\n        case 'number':\n        case 'boolean':\n          error = new Error(String(maybeError));\n          internalFrames += 1;\n          break;\n        case 'function':\n          error = createAndLogInputError('function');\n          internalFrames += 2;\n          break;\n        case 'object':\n          if (maybeError !== null && _$iserror_20(maybeError)) {\n            error = maybeError;\n          } else if (maybeError !== null && hasNecessaryFields(maybeError)) {\n            error = new Error(maybeError.message || maybeError.errorMessage);\n            error.name = maybeError.name || maybeError.errorClass;\n            internalFrames += 1;\n          } else {\n            error = createAndLogInputError(maybeError === null ? 'null' : 'unsupported object');\n            internalFrames += 2;\n          }\n          break;\n        default:\n          error = createAndLogInputError('nothing');\n          internalFrames += 2;\n      }\n    }\n    if (!_$hasStack_19(error)) {\n      // in IE10/11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n      try {\n        throw error;\n      } catch (e) {\n        if (_$hasStack_19(e)) {\n          error = e; // if the error only got a stacktrace after we threw it here, we know it\n          // will only have one extra internal frame from this function, regardless\n          // of whether it went through createAndLogInputError() or not\n\n          internalFrames = 1;\n        }\n      }\n    }\n    return [error, internalFrames];\n  }; // default value for stacktrace.type\n\n  Event.__type = 'browserjs';\n  var hasNecessaryFields = function hasNecessaryFields(error) {\n    return (typeof error.name === 'string' || typeof error.errorClass === 'string') && (typeof error.message === 'string' || typeof error.errorMessage === 'string');\n  };\n  var _$Event_6 = Event;\n\n  // This is a heavily modified/simplified version of\n  //   https://github.com/othiym23/async-some\n  // with the logic flipped so that it is akin to the\n  // synchronous \"every\" method instead of \"some\".\n  // run the asynchronous test function (fn) over each item in the array (arr)\n  // in series until:\n  //   - fn(item, cb) => calls cb(null, false)\n  //   - or the end of the array is reached\n  // the callback (cb) will be passed (null, false) if any of the items in arr\n  // caused fn to call back with false, otherwise it will be passed (null, true)\n  var _$asyncEvery_7 = function _$asyncEvery_7(arr, fn, cb) {\n    var index = 0;\n    var next = function next() {\n      if (index >= arr.length) return cb(null, true);\n      fn(arr[index], function (err, result) {\n        if (err) return cb(err);\n        if (result === false) return cb(null, false);\n        index++;\n        next();\n      });\n    };\n    next();\n  };\n\n  /* removed: var _$asyncEvery_7 = require('./async-every'); */\n  ;\n  var _$callbackRunner_9 = function _$callbackRunner_9(callbacks, event, onCallbackError, cb) {\n    // This function is how we support different kinds of callback:\n    //  - synchronous - return value\n    //  - node-style async with callback - cb(err, value)\n    //  - promise/thenable - resolve(value)\n    // It normalises each of these into the lowest common denominator â€“ a node-style callback\n    var runMaybeAsyncCallback = function runMaybeAsyncCallback(fn, cb) {\n      if (typeof fn !== 'function') return cb(null);\n      try {\n        // if function appears syncâ€¦\n        if (fn.length !== 2) {\n          var ret = fn(event); // check if it returned a \"thenable\" (promise)\n\n          if (ret && typeof ret.then === 'function') {\n            return ret.then(\n            // resolve\n            function (val) {\n              return setTimeout(function () {\n                return cb(null, val);\n              });\n            },\n            // reject\n            function (err) {\n              setTimeout(function () {\n                onCallbackError(err);\n                return cb(null, true);\n              });\n            });\n          }\n          return cb(null, ret);\n        } // if function is asyncâ€¦\n\n        fn(event, function (err, result) {\n          if (err) {\n            onCallbackError(err);\n            return cb(null);\n          }\n          cb(null, result);\n        });\n      } catch (e) {\n        onCallbackError(e);\n        cb(null);\n      }\n    };\n    _$asyncEvery_7(callbacks, runMaybeAsyncCallback, cb);\n  };\n  var _$syncCallbackRunner_23 = function _$syncCallbackRunner_23(callbacks, callbackArg, callbackType, logger) {\n    var ignore = false;\n    var cbs = callbacks.slice();\n    while (!ignore) {\n      if (!cbs.length) break;\n      try {\n        ignore = cbs.pop()(callbackArg) === false;\n      } catch (e) {\n        logger.error(\"Error occurred in \" + callbackType + \" callback, continuing anyway\\u2026\");\n        logger.error(e);\n      }\n    }\n    return ignore;\n  };\n  var _$pad_29 = function pad(num, size) {\n    var s = '000000000' + num;\n    return s.substr(s.length - size);\n  };\n\n  /* removed: var _$pad_29 = require('./pad.js'); */\n  ;\n  var env = typeof window === 'object' ? window : self;\n  var globalCount = 0;\n  for (var prop in env) {\n    if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n  }\n  var mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\n  var clientId = _$pad_29((mimeTypesLength + navigator.userAgent.length).toString(36) + globalCount.toString(36), 4);\n  var _$fingerprint_28 = function fingerprint() {\n    return clientId;\n  };\n\n  /**\n   * cuid.js\n   * Collision-resistant UID generator for browsers and node.\n   * Sequential for fast db lookups and recency sorting.\n   * Safe for element IDs and server-side lookups.\n   *\n   * Extracted from CLCTR\n   *\n   * Copyright (c) Eric Elliott 2012\n   * MIT License\n   */\n  /* removed: var _$fingerprint_28 = require('./lib/fingerprint.js'); */\n  ;\n\n  /* removed: var _$pad_29 = require('./lib/pad.js'); */\n  ;\n  var c = 0,\n    blockSize = 4,\n    base = 36,\n    discreteValues = Math.pow(base, blockSize);\n  function randomBlock() {\n    return _$pad_29((Math.random() * discreteValues << 0).toString(base), blockSize);\n  }\n  function safeCounter() {\n    c = c < discreteValues ? c : 0;\n    c++; // this is not subliminal\n\n    return c - 1;\n  }\n  function cuid() {\n    // Starting with a lowercase letter makes\n    // it HTML element ID friendly.\n    var letter = 'c',\n      // hard-coded allows for sequential access\n      // timestamp\n      // warning: this exposes the exact date and time\n      // that the uid was created.\n      timestamp = new Date().getTime().toString(base),\n      // Prevent same-machine collisions.\n      counter = _$pad_29(safeCounter().toString(base), blockSize),\n      // A few chars to generate distinct ids for different\n      // clients (so different computers are far less\n      // likely to generate the same id)\n      print = _$fingerprint_28(),\n      // Grab some more chars from Math.random()\n      random = randomBlock() + randomBlock();\n    return letter + timestamp + counter + print + random;\n  }\n  cuid.fingerprint = _$fingerprint_28;\n  var _$cuid_27 = cuid;\n\n  /* removed: var _$cuid_27 = require('@bugsnag/cuid'); */\n  ;\n  var Session = /*#__PURE__*/function () {\n    function Session() {\n      this.id = _$cuid_27();\n      this.startedAt = new Date();\n      this._handled = 0;\n      this._unhandled = 0;\n      this._user = {};\n      this.app = {};\n      this.device = {};\n    }\n    var _proto = Session.prototype;\n    _proto.getUser = function getUser() {\n      return this._user;\n    };\n    _proto.setUser = function setUser(id, email, name) {\n      this._user = {\n        id: id,\n        email: email,\n        name: name\n      };\n    };\n    _proto.toJSON = function toJSON() {\n      return {\n        id: this.id,\n        startedAt: this.startedAt,\n        events: {\n          handled: this._handled,\n          unhandled: this._unhandled\n        }\n      };\n    };\n    _proto._track = function _track(event) {\n      this[event._handledState.unhandled ? '_unhandled' : '_handled'] += 1;\n    };\n    return Session;\n  }();\n  var _$Session_35 = Session;\n\n  /* removed: var _$config_5 = require('./config'); */\n  ;\n\n  /* removed: var _$Event_6 = require('./event'); */\n  ;\n\n  /* removed: var _$Breadcrumb_3 = require('./breadcrumb'); */\n  ;\n\n  /* removed: var _$Session_35 = require('./session'); */\n  ;\n\n  /* removed: var _$map_16 = require('./lib/es-utils/map'); */\n  ;\n\n  /* removed: var _$includes_13 = require('./lib/es-utils/includes'); */\n  ;\n\n  /* removed: var _$filter_12 = require('./lib/es-utils/filter'); */\n  ;\n\n  /* removed: var _$reduce_17 = require('./lib/es-utils/reduce'); */\n  ;\n\n  /* removed: var _$keys_15 = require('./lib/es-utils/keys'); */\n  ;\n\n  /* removed: var _$assign_11 = require('./lib/es-utils/assign'); */\n  ;\n\n  /* removed: var _$callbackRunner_9 = require('./lib/callback-runner'); */\n  ;\n\n  /* removed: var _$metadataDelegate_22 = require('./lib/metadata-delegate'); */\n  ;\n\n  /* removed: var _$syncCallbackRunner_23 = require('./lib/sync-callback-runner'); */\n  ;\n\n  /* removed: var _$breadcrumbTypes_8 = require('./lib/breadcrumb-types'); */\n  ;\n  var __add_4 = _$featureFlagDelegate_18.add,\n    __clear_4 = _$featureFlagDelegate_18.clear,\n    __merge_4 = _$featureFlagDelegate_18.merge;\n  var noop = function noop() {};\n  var Client = /*#__PURE__*/function () {\n    function Client(configuration, schema, internalPlugins, notifier) {\n      var _this = this;\n      if (schema === void 0) {\n        schema = _$config_5.schema;\n      }\n      if (internalPlugins === void 0) {\n        internalPlugins = [];\n      }\n\n      // notifier id\n      this._notifier = notifier; // intialise opts and config\n\n      this._config = {};\n      this._schema = schema; // i/o\n\n      this._delivery = {\n        sendSession: noop,\n        sendEvent: noop\n      };\n      this._logger = {\n        debug: noop,\n        info: noop,\n        warn: noop,\n        error: noop\n      }; // plugins\n\n      this._plugins = {}; // state\n\n      this._breadcrumbs = [];\n      this._session = null;\n      this._metadata = {};\n      this._featuresIndex = {};\n      this._features = [];\n      this._context = undefined;\n      this._user = {}; // callbacks:\n      //  e: onError\n      //  s: onSession\n      //  sp: onSessionPayload\n      //  b: onBreadcrumb\n      // (note these names are minified by hand because object\n      // properties are not safe to minify automatically)\n\n      this._cbs = {\n        e: [],\n        s: [],\n        sp: [],\n        b: []\n      }; // expose internal constructors\n\n      this.Client = Client;\n      this.Event = _$Event_6;\n      this.Breadcrumb = _$Breadcrumb_3;\n      this.Session = _$Session_35;\n      this._config = this._configure(configuration, internalPlugins);\n      _$map_16(internalPlugins.concat(this._config.plugins), function (pl) {\n        if (pl) _this._loadPlugin(pl);\n      }); // when notify() is called we need to know how many frames are from our own source\n      // this inital value is 1 not 0 because we wrap notify() to ensure it is always\n      // bound to have the client as its `this` value â€“ see below.\n\n      this._depth = 1;\n      var self = this;\n      var notify = this.notify;\n      this.notify = function () {\n        return notify.apply(self, arguments);\n      };\n    }\n    var _proto = Client.prototype;\n    _proto.addMetadata = function addMetadata(section, keyOrObj, maybeVal) {\n      return _$metadataDelegate_22.add(this._metadata, section, keyOrObj, maybeVal);\n    };\n    _proto.getMetadata = function getMetadata(section, key) {\n      return _$metadataDelegate_22.get(this._metadata, section, key);\n    };\n    _proto.clearMetadata = function clearMetadata(section, key) {\n      return _$metadataDelegate_22.clear(this._metadata, section, key);\n    };\n    _proto.addFeatureFlag = function addFeatureFlag(name, variant) {\n      if (variant === void 0) {\n        variant = null;\n      }\n      __add_4(this._features, this._featuresIndex, name, variant);\n    };\n    _proto.addFeatureFlags = function addFeatureFlags(featureFlags) {\n      __merge_4(this._features, featureFlags, this._featuresIndex);\n    };\n    _proto.clearFeatureFlag = function clearFeatureFlag(name) {\n      __clear_4(this._features, this._featuresIndex, name);\n    };\n    _proto.clearFeatureFlags = function clearFeatureFlags() {\n      this._features = [];\n      this._featuresIndex = {};\n    };\n    _proto.getContext = function getContext() {\n      return this._context;\n    };\n    _proto.setContext = function setContext(c) {\n      this._context = c;\n    };\n    _proto._configure = function _configure(opts, internalPlugins) {\n      var schema = _$reduce_17(internalPlugins, function (schema, plugin) {\n        if (plugin && plugin.configSchema) return _$assign_11({}, schema, plugin.configSchema);\n        return schema;\n      }, this._schema); // accumulate configuration and error messages\n\n      var _reduce = _$reduce_17(_$keys_15(schema), function (accum, key) {\n          var defaultValue = schema[key].defaultValue(opts[key]);\n          if (opts[key] !== undefined) {\n            var valid = schema[key].validate(opts[key]);\n            if (!valid) {\n              accum.errors[key] = schema[key].message;\n              accum.config[key] = defaultValue;\n            } else {\n              if (schema[key].allowPartialObject) {\n                accum.config[key] = _$assign_11(defaultValue, opts[key]);\n              } else {\n                accum.config[key] = opts[key];\n              }\n            }\n          } else {\n            accum.config[key] = defaultValue;\n          }\n          return accum;\n        }, {\n          errors: {},\n          config: {}\n        }),\n        errors = _reduce.errors,\n        config = _reduce.config;\n      if (schema.apiKey) {\n        // missing api key is the only fatal error\n        if (!config.apiKey) throw new Error('No Bugsnag API Key set'); // warn about an apikey that is not of the expected format\n\n        if (!/^[0-9a-f]{32}$/i.test(config.apiKey)) errors.apiKey = 'should be a string of 32 hexadecimal characters';\n      } // update and elevate some options\n\n      this._metadata = _$assign_11({}, config.metadata);\n      __merge_4(this._features, config.featureFlags, this._featuresIndex);\n      this._user = _$assign_11({}, config.user);\n      this._context = config.context;\n      if (config.logger) this._logger = config.logger; // add callbacks\n\n      if (config.onError) this._cbs.e = this._cbs.e.concat(config.onError);\n      if (config.onBreadcrumb) this._cbs.b = this._cbs.b.concat(config.onBreadcrumb);\n      if (config.onSession) this._cbs.s = this._cbs.s.concat(config.onSession); // finally warn about any invalid config where we fell back to the default\n\n      if (_$keys_15(errors).length) {\n        this._logger.warn(generateConfigErrorMessage(errors, opts));\n      }\n      return config;\n    };\n    _proto.getUser = function getUser() {\n      return this._user;\n    };\n    _proto.setUser = function setUser(id, email, name) {\n      this._user = {\n        id: id,\n        email: email,\n        name: name\n      };\n    };\n    _proto._loadPlugin = function _loadPlugin(plugin) {\n      var result = plugin.load(this); // JS objects are not the safest way to store arbitrarily keyed values,\n      // so bookend the key with some characters that prevent tampering with\n      // stuff like __proto__ etc. (only store the result if the plugin had a\n      // name)\n\n      if (plugin.name) this._plugins[\"~\" + plugin.name + \"~\"] = result;\n      return this;\n    };\n    _proto.getPlugin = function getPlugin(name) {\n      return this._plugins[\"~\" + name + \"~\"];\n    };\n    _proto._setDelivery = function _setDelivery(d) {\n      this._delivery = d(this);\n    };\n    _proto.startSession = function startSession() {\n      var session = new _$Session_35();\n      session.app.releaseStage = this._config.releaseStage;\n      session.app.version = this._config.appVersion;\n      session.app.type = this._config.appType;\n      session._user = _$assign_11({}, this._user); // run onSession callbacks\n\n      var ignore = _$syncCallbackRunner_23(this._cbs.s, session, 'onSession', this._logger);\n      if (ignore) {\n        this._logger.debug('Session not started due to onSession callback');\n        return this;\n      }\n      return this._sessionDelegate.startSession(this, session);\n    };\n    _proto.addOnError = function addOnError(fn, front) {\n      if (front === void 0) {\n        front = false;\n      }\n      this._cbs.e[front ? 'unshift' : 'push'](fn);\n    };\n    _proto.removeOnError = function removeOnError(fn) {\n      this._cbs.e = _$filter_12(this._cbs.e, function (f) {\n        return f !== fn;\n      });\n    };\n    _proto._addOnSessionPayload = function _addOnSessionPayload(fn) {\n      this._cbs.sp.push(fn);\n    };\n    _proto.addOnSession = function addOnSession(fn) {\n      this._cbs.s.push(fn);\n    };\n    _proto.removeOnSession = function removeOnSession(fn) {\n      this._cbs.s = _$filter_12(this._cbs.s, function (f) {\n        return f !== fn;\n      });\n    };\n    _proto.addOnBreadcrumb = function addOnBreadcrumb(fn, front) {\n      if (front === void 0) {\n        front = false;\n      }\n      this._cbs.b[front ? 'unshift' : 'push'](fn);\n    };\n    _proto.removeOnBreadcrumb = function removeOnBreadcrumb(fn) {\n      this._cbs.b = _$filter_12(this._cbs.b, function (f) {\n        return f !== fn;\n      });\n    };\n    _proto.pauseSession = function pauseSession() {\n      return this._sessionDelegate.pauseSession(this);\n    };\n    _proto.resumeSession = function resumeSession() {\n      return this._sessionDelegate.resumeSession(this);\n    };\n    _proto.leaveBreadcrumb = function leaveBreadcrumb(message, metadata, type) {\n      // coerce bad values so that the defaults get set\n      message = typeof message === 'string' ? message : '';\n      type = typeof type === 'string' && _$includes_13(_$breadcrumbTypes_8, type) ? type : 'manual';\n      metadata = typeof metadata === 'object' && metadata !== null ? metadata : {}; // if no message, discard\n\n      if (!message) return;\n      var crumb = new _$Breadcrumb_3(message, metadata, type); // run onBreadcrumb callbacks\n\n      var ignore = _$syncCallbackRunner_23(this._cbs.b, crumb, 'onBreadcrumb', this._logger);\n      if (ignore) {\n        this._logger.debug('Breadcrumb not attached due to onBreadcrumb callback');\n        return;\n      } // push the valid crumb onto the queue and maintain the length\n\n      this._breadcrumbs.push(crumb);\n      if (this._breadcrumbs.length > this._config.maxBreadcrumbs) {\n        this._breadcrumbs = this._breadcrumbs.slice(this._breadcrumbs.length - this._config.maxBreadcrumbs);\n      }\n    };\n    _proto._isBreadcrumbTypeEnabled = function _isBreadcrumbTypeEnabled(type) {\n      var types = this._config.enabledBreadcrumbTypes;\n      return types === null || _$includes_13(types, type);\n    };\n    _proto.notify = function notify(maybeError, onError, postReportCallback) {\n      if (postReportCallback === void 0) {\n        postReportCallback = noop;\n      }\n      var event = _$Event_6.create(maybeError, true, undefined, 'notify()', this._depth + 1, this._logger);\n      this._notify(event, onError, postReportCallback);\n    };\n    _proto._notify = function _notify(event, onError, postReportCallback) {\n      var _this2 = this;\n      if (postReportCallback === void 0) {\n        postReportCallback = noop;\n      }\n      event.app = _$assign_11({}, event.app, {\n        releaseStage: this._config.releaseStage,\n        version: this._config.appVersion,\n        type: this._config.appType\n      });\n      event.context = event.context || this._context;\n      event._metadata = _$assign_11({}, event._metadata, this._metadata);\n      event._user = _$assign_11({}, event._user, this._user);\n      event.breadcrumbs = this._breadcrumbs.slice();\n      __merge_4(event._features, this._features, event._featuresIndex); // exit early if events should not be sent on the current releaseStage\n\n      if (this._config.enabledReleaseStages !== null && !_$includes_13(this._config.enabledReleaseStages, this._config.releaseStage)) {\n        this._logger.warn('Event not sent due to releaseStage/enabledReleaseStages configuration');\n        return postReportCallback(null, event);\n      }\n      var originalSeverity = event.severity;\n      var onCallbackError = function onCallbackError(err) {\n        // errors in callbacks are tolerated but we want to log them out\n        _this2._logger.error('Error occurred in onError callback, continuing anywayâ€¦');\n        _this2._logger.error(err);\n      };\n      var callbacks = [].concat(this._cbs.e).concat(onError);\n      _$callbackRunner_9(callbacks, event, onCallbackError, function (err, shouldSend) {\n        if (err) onCallbackError(err);\n        if (!shouldSend) {\n          _this2._logger.debug('Event not sent due to onError callback');\n          return postReportCallback(null, event);\n        }\n        if (_this2._isBreadcrumbTypeEnabled('error')) {\n          // only leave a crumb for the error if actually got sent\n          Client.prototype.leaveBreadcrumb.call(_this2, event.errors[0].errorClass, {\n            errorClass: event.errors[0].errorClass,\n            errorMessage: event.errors[0].errorMessage,\n            severity: event.severity\n          }, 'error');\n        }\n        if (originalSeverity !== event.severity) {\n          event._handledState.severityReason = {\n            type: 'userCallbackSetSeverity'\n          };\n        }\n        if (event.unhandled !== event._handledState.unhandled) {\n          event._handledState.severityReason.unhandledOverridden = true;\n          event._handledState.unhandled = event.unhandled;\n        }\n        if (_this2._session) {\n          _this2._session._track(event);\n          event._session = _this2._session;\n        }\n        _this2._delivery.sendEvent({\n          apiKey: event.apiKey || _this2._config.apiKey,\n          notifier: _this2._notifier,\n          events: [event]\n        }, function (err) {\n          return postReportCallback(err, event);\n        });\n      });\n    };\n    return Client;\n  }();\n  var generateConfigErrorMessage = function generateConfigErrorMessage(errors, rawInput) {\n    var er = new Error(\"Invalid configuration\\n\" + _$map_16(_$keys_15(errors), function (key) {\n      return \"  - \" + key + \" \" + errors[key] + \", got \" + stringify(rawInput[key]);\n    }).join('\\n\\n'));\n    return er;\n  };\n  var stringify = function stringify(val) {\n    switch (typeof val) {\n      case 'string':\n      case 'number':\n      case 'object':\n        return JSON.stringify(val);\n      default:\n        return String(val);\n    }\n  };\n  var _$Client_4 = Client;\n  var _$jsonPayload_21 = {};\n  /* removed: var _$safeJsonStringify_30 = require('@bugsnag/safe-json-stringify'); */\n  ;\n  var EVENT_REDACTION_PATHS = ['events.[].metaData', 'events.[].breadcrumbs.[].metaData', 'events.[].request'];\n  _$jsonPayload_21.event = function (event, redactedKeys) {\n    var payload = _$safeJsonStringify_30(event, null, null, {\n      redactedPaths: EVENT_REDACTION_PATHS,\n      redactedKeys: redactedKeys\n    });\n    if (payload.length > 10e5) {\n      event.events[0]._metadata = {\n        notifier: \"WARNING!\\nSerialized payload was \" + payload.length / 10e5 + \"MB (limit = 1MB)\\nmetadata was removed\"\n      };\n      payload = _$safeJsonStringify_30(event, null, null, {\n        redactedPaths: EVENT_REDACTION_PATHS,\n        redactedKeys: redactedKeys\n      });\n    }\n    return payload;\n  };\n  _$jsonPayload_21.session = function (session, redactedKeys) {\n    var payload = _$safeJsonStringify_30(session, null, null);\n    return payload;\n  };\n  var _$delivery_36 = {};\n  /* removed: var _$jsonPayload_21 = require('@bugsnag/core/lib/json-payload'); */\n  ;\n  _$delivery_36 = function _$delivery_36(client, win) {\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      sendEvent: function sendEvent(event, cb) {\n        if (cb === void 0) {\n          cb = function cb() {};\n        }\n        var url = getApiUrl(client._config, 'notify', '4', win);\n        var body = _$jsonPayload_21.event(event, client._config.redactedKeys);\n        var req = new win.XDomainRequest();\n        req.onload = function () {\n          cb(null);\n        };\n        req.onerror = function () {\n          var err = new Error('Event failed to send');\n          client._logger.error('Event failed to sendâ€¦', err);\n          if (body.length > 10e5) {\n            client._logger.warn(\"Event oversized (\" + (body.length / 10e5).toFixed(2) + \" MB)\");\n          }\n          cb(err);\n        };\n        req.open('POST', url);\n        setTimeout(function () {\n          try {\n            req.send(body);\n          } catch (e) {\n            client._logger.error(e);\n            cb(e);\n          }\n        }, 0);\n      },\n      sendSession: function sendSession(session, cb) {\n        if (cb === void 0) {\n          cb = function cb() {};\n        }\n        var url = getApiUrl(client._config, 'sessions', '1', win);\n        var req = new win.XDomainRequest();\n        req.onload = function () {\n          cb(null);\n        };\n        req.open('POST', url);\n        setTimeout(function () {\n          try {\n            req.send(_$jsonPayload_21.session(session, client._config.redactedKeys));\n          } catch (e) {\n            client._logger.error(e);\n            cb(e);\n          }\n        }, 0);\n      }\n    };\n  };\n  var getApiUrl = function getApiUrl(config, endpoint, version, win) {\n    // IE8 doesn't support Date.prototype.toISOstring(), but it does convert a date\n    // to an ISO string when you use JSON stringify. Simply parsing the result of\n    // JSON.stringify is smaller than using a toISOstring() polyfill.\n    var isoDate = JSON.parse(JSON.stringify(new Date()));\n    var url = matchPageProtocol(config.endpoints[endpoint], win.location.protocol);\n    return url + \"?apiKey=\" + encodeURIComponent(config.apiKey) + \"&payloadVersion=\" + version + \"&sentAt=\" + encodeURIComponent(isoDate);\n  };\n  var matchPageProtocol = _$delivery_36._matchPageProtocol = function (endpoint, pageProtocol) {\n    return pageProtocol === 'http:' ? endpoint.replace(/^https:/, 'http:') : endpoint;\n  };\n\n  /* removed: var _$jsonPayload_21 = require('@bugsnag/core/lib/json-payload'); */\n  ;\n  var _$delivery_37 = function _$delivery_37(client, win) {\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      sendEvent: function sendEvent(event, cb) {\n        if (cb === void 0) {\n          cb = function cb() {};\n        }\n        try {\n          var url = client._config.endpoints.notify;\n          var req = new win.XMLHttpRequest();\n          var body = _$jsonPayload_21.event(event, client._config.redactedKeys);\n          req.onreadystatechange = function () {\n            if (req.readyState === win.XMLHttpRequest.DONE) {\n              var status = req.status;\n              if (status === 0 || status >= 400) {\n                var err = new Error(\"Request failed with status \" + status);\n                client._logger.error('Event failed to sendâ€¦', err);\n                if (body.length > 10e5) {\n                  client._logger.warn(\"Event oversized (\" + (body.length / 10e5).toFixed(2) + \" MB)\");\n                }\n                cb(err);\n              } else {\n                cb(null);\n              }\n            }\n          };\n          req.open('POST', url);\n          req.setRequestHeader('Content-Type', 'application/json');\n          req.setRequestHeader('Bugsnag-Api-Key', event.apiKey || client._config.apiKey);\n          req.setRequestHeader('Bugsnag-Payload-Version', '4');\n          req.setRequestHeader('Bugsnag-Sent-At', new Date().toISOString());\n          req.send(body);\n        } catch (e) {\n          client._logger.error(e);\n        }\n      },\n      sendSession: function sendSession(session, cb) {\n        if (cb === void 0) {\n          cb = function cb() {};\n        }\n        try {\n          var url = client._config.endpoints.sessions;\n          var req = new win.XMLHttpRequest();\n          req.onreadystatechange = function () {\n            if (req.readyState === win.XMLHttpRequest.DONE) {\n              var status = req.status;\n              if (status === 0 || status >= 400) {\n                var err = new Error(\"Request failed with status \" + status);\n                client._logger.error('Session failed to sendâ€¦', err);\n                cb(err);\n              } else {\n                cb(null);\n              }\n            }\n          };\n          req.open('POST', url);\n          req.setRequestHeader('Content-Type', 'application/json');\n          req.setRequestHeader('Bugsnag-Api-Key', client._config.apiKey);\n          req.setRequestHeader('Bugsnag-Payload-Version', '1');\n          req.setRequestHeader('Bugsnag-Sent-At', new Date().toISOString());\n          req.send(_$jsonPayload_21.session(session, client._config.redactedKeys));\n        } catch (e) {\n          client._logger.error(e);\n        }\n      }\n    };\n  };\n  var appStart = new Date();\n  var reset = function reset() {\n    appStart = new Date();\n  };\n  var _$app_38 = {\n    name: 'appDuration',\n    load: function load(client) {\n      client.addOnError(function (event) {\n        var now = new Date();\n        event.app.duration = now - appStart;\n      }, true);\n      return {\n        reset: reset\n      };\n    }\n  };\n\n  /*\n   * Sets the default context to be the current URL\n   */\n  var _$context_39 = function _$context_39(win) {\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      load: function load(client) {\n        client.addOnError(function (event) {\n          if (event.context !== undefined) return;\n          event.context = win.location.pathname;\n        }, true);\n      }\n    };\n  };\n  var _$pad_43 = function pad(num, size) {\n    var s = '000000000' + num;\n    return s.substr(s.length - size);\n  };\n\n  /* removed: var _$pad_43 = require('./pad.js'); */\n  ;\n  var __env_42 = typeof window === 'object' ? window : self;\n  var __globalCount_42 = 0;\n  for (var __prop_42 in __env_42) {\n    if (Object.hasOwnProperty.call(__env_42, __prop_42)) __globalCount_42++;\n  }\n  var __mimeTypesLength_42 = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\n  var __clientId_42 = _$pad_43((__mimeTypesLength_42 + navigator.userAgent.length).toString(36) + __globalCount_42.toString(36), 4);\n  var _$fingerprint_42 = function fingerprint() {\n    return __clientId_42;\n  };\n\n  /**\n   * cuid.js\n   * Collision-resistant UID generator for browsers and node.\n   * Sequential for fast db lookups and recency sorting.\n   * Safe for element IDs and server-side lookups.\n   *\n   * Extracted from CLCTR\n   *\n   * Copyright (c) Eric Elliott 2012\n   * MIT License\n   */\n  /* removed: var _$fingerprint_42 = require('./lib/fingerprint.js'); */\n  ;\n\n  /* removed: var _$pad_43 = require('./lib/pad.js'); */\n  ;\n  var __c_41 = 0,\n    __blockSize_41 = 4,\n    __base_41 = 36,\n    __discreteValues_41 = Math.pow(__base_41, __blockSize_41);\n  function __randomBlock_41() {\n    return _$pad_43((Math.random() * __discreteValues_41 << 0).toString(__base_41), __blockSize_41);\n  }\n  function __safeCounter_41() {\n    __c_41 = __c_41 < __discreteValues_41 ? __c_41 : 0;\n    __c_41++; // this is not subliminal\n\n    return __c_41 - 1;\n  }\n  function __cuid_41() {\n    // Starting with a lowercase letter makes\n    // it HTML element ID friendly.\n    var letter = 'c',\n      // hard-coded allows for sequential access\n      // timestamp\n      // warning: this exposes the exact date and time\n      // that the uid was created.\n      timestamp = new Date().getTime().toString(__base_41),\n      // Prevent same-machine collisions.\n      counter = _$pad_43(__safeCounter_41().toString(__base_41), __blockSize_41),\n      // A few chars to generate distinct ids for different\n      // clients (so different computers are far less\n      // likely to generate the same id)\n      print = _$fingerprint_42(),\n      // Grab some more chars from Math.random()\n      random = __randomBlock_41() + __randomBlock_41();\n    return letter + timestamp + counter + print + random;\n  }\n  __cuid_41.fingerprint = _$fingerprint_42;\n  var _$cuid_41 = __cuid_41;\n\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n  ;\n  var BUGSNAG_ANONYMOUS_ID_KEY = 'bugsnag-anonymous-id';\n  var getDeviceId = function getDeviceId(win) {\n    try {\n      var storage = win.localStorage;\n      var id = storage.getItem(BUGSNAG_ANONYMOUS_ID_KEY); // If we get an ID, make sure it looks like a valid cuid. The length can\n      // fluctuate slightly, so some leeway is built in\n\n      if (id && /^c[a-z0-9]{20,32}$/.test(id)) {\n        return id;\n      }\n\n      /* removed: var _$cuid_41 = require('@bugsnag/cuid'); */\n      ;\n      id = _$cuid_41();\n      storage.setItem(BUGSNAG_ANONYMOUS_ID_KEY, id);\n      return id;\n    } catch (err) {// If localStorage is not available (e.g. because it's disabled) then give up\n    }\n  };\n  /*\n   * Automatically detects browser device details\n   */\n\n  var _$device_40 = function _$device_40(nav, win) {\n    if (nav === void 0) {\n      nav = navigator;\n    }\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      load: function load(client) {\n        var device = {\n          locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n          userAgent: nav.userAgent\n        };\n        if (win && win.screen && win.screen.orientation && win.screen.orientation.type) {\n          device.orientation = win.screen.orientation.type;\n        } else if (win && win.document) {\n          device.orientation = win.document.documentElement.clientWidth > win.document.documentElement.clientHeight ? 'landscape' : 'portrait';\n        }\n        if (client._config.generateAnonymousId) {\n          device.id = getDeviceId(win);\n        }\n        client.addOnSession(function (session) {\n          session.device = _$assign_11({}, session.device, device); // only set device id if collectUserIp is false\n\n          if (!client._config.collectUserIp) setDefaultUserId(session);\n        }); // add time just as the event is sent\n\n        client.addOnError(function (event) {\n          event.device = _$assign_11({}, event.device, device, {\n            time: new Date()\n          });\n          if (!client._config.collectUserIp) setDefaultUserId(event);\n        }, true);\n      },\n      configSchema: {\n        generateAnonymousId: {\n          validate: function validate(value) {\n            return value === true || value === false;\n          },\n          defaultValue: function defaultValue() {\n            return true;\n          },\n          message: 'should be true|false'\n        }\n      }\n    };\n  };\n  var setDefaultUserId = function setDefaultUserId(eventOrSession) {\n    // device id is also used to populate the user id field, if it's not already set\n    var user = eventOrSession.getUser();\n    if (!user || !user.id) {\n      eventOrSession.setUser(eventOrSession.device.id);\n    }\n  };\n\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n  ;\n  /*\n   * Sets the event request: { url } to be the current href\n   */\n\n  var _$request_44 = function _$request_44(win) {\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      load: function load(client) {\n        client.addOnError(function (event) {\n          if (event.request && event.request.url) return;\n          event.request = _$assign_11({}, event.request, {\n            url: win.location.href\n          });\n        }, true);\n      }\n    };\n  };\n\n  /* removed: var _$includes_13 = require('@bugsnag/core/lib/es-utils/includes'); */\n  ;\n  var _$session_45 = {\n    load: function load(client) {\n      client._sessionDelegate = sessionDelegate;\n    }\n  };\n  var sessionDelegate = {\n    startSession: function startSession(client, session) {\n      var sessionClient = client;\n      sessionClient._session = session;\n      sessionClient._pausedSession = null; // exit early if the current releaseStage is not enabled\n\n      if (sessionClient._config.enabledReleaseStages !== null && !_$includes_13(sessionClient._config.enabledReleaseStages, sessionClient._config.releaseStage)) {\n        sessionClient._logger.warn('Session not sent due to releaseStage/enabledReleaseStages configuration');\n        return sessionClient;\n      }\n      sessionClient._delivery.sendSession({\n        notifier: sessionClient._notifier,\n        device: session.device,\n        app: session.app,\n        sessions: [{\n          id: session.id,\n          startedAt: session.startedAt,\n          user: session._user\n        }]\n      });\n      return sessionClient;\n    },\n    resumeSession: function resumeSession(client) {\n      // Do nothing if there's already an active session\n      if (client._session) {\n        return client;\n      } // If we have a paused session then make it the active session\n\n      if (client._pausedSession) {\n        client._session = client._pausedSession;\n        client._pausedSession = null;\n        return client;\n      } // Otherwise start a new session\n\n      return client.startSession();\n    },\n    pauseSession: function pauseSession(client) {\n      client._pausedSession = client._session;\n      client._session = null;\n    }\n  };\n\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n  ;\n  /*\n   * Prevent collection of user IPs\n   */\n\n  var _$clientIp_46 = {\n    load: function load(client) {\n      if (client._config.collectUserIp) return;\n      client.addOnError(function (event) {\n        // If user.id is explicitly undefined, it will be missing from the payload. It needs\n        // removing so that the following line replaces it\n        if (event._user && typeof event._user.id === 'undefined') delete event._user.id;\n        event._user = _$assign_11({\n          id: '[REDACTED]'\n        }, event._user);\n        event.request = _$assign_11({\n          clientIp: '[REDACTED]'\n        }, event.request);\n      });\n    },\n    configSchema: {\n      collectUserIp: {\n        defaultValue: function defaultValue() {\n          return true;\n        },\n        message: 'should be true|false',\n        validate: function validate(value) {\n          return value === true || value === false;\n        }\n      }\n    }\n  };\n  var _$consoleBreadcrumbs_47 = {};\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n  ;\n\n  /* removed: var _$reduce_17 = require('@bugsnag/core/lib/es-utils/reduce'); */\n  ;\n\n  /* removed: var _$filter_12 = require('@bugsnag/core/lib/es-utils/filter'); */\n  ;\n  /*\n   * Leaves breadcrumbs when console log methods are called\n   */\n\n  _$consoleBreadcrumbs_47.load = function (client) {\n    var isDev = /^(local-)?dev(elopment)?$/.test(client._config.releaseStage);\n    if (isDev || !client._isBreadcrumbTypeEnabled('log')) return;\n    _$map_16(CONSOLE_LOG_METHODS, function (method) {\n      var original = console[method];\n      console[method] = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        client.leaveBreadcrumb('Console output', _$reduce_17(args, function (accum, arg, i) {\n          // do the best/simplest stringification of each argument\n          var stringified = '[Unknown value]'; // this may fail if the input is:\n          // - an object whose [[Prototype]] is null (no toString)\n          // - an object with a broken toString or @@toPrimitive implementation\n\n          try {\n            stringified = String(arg);\n          } catch (e) {} // if it stringifies to [object Object] attempt to JSON stringify\n\n          if (stringified === '[object Object]') {\n            // catch stringify errors and fallback to [object Object]\n            try {\n              stringified = JSON.stringify(arg);\n            } catch (e) {}\n          }\n          accum[\"[\" + i + \"]\"] = stringified;\n          return accum;\n        }, {\n          severity: method.indexOf('group') === 0 ? 'log' : method\n        }), 'log');\n        original.apply(console, args);\n      };\n      console[method]._restore = function () {\n        console[method] = original;\n      };\n    });\n  };\n  if (\"production\" !== 'production') {\n    _$consoleBreadcrumbs_47.destroy = function () {\n      return CONSOLE_LOG_METHODS.forEach(function (method) {\n        if (typeof console[method]._restore === 'function') console[method]._restore();\n      });\n    };\n  }\n  var CONSOLE_LOG_METHODS = _$filter_12(['log', 'debug', 'info', 'warn', 'error'], function (method) {\n    return typeof console !== 'undefined' && typeof console[method] === 'function';\n  });\n\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n  ;\n\n  /* removed: var _$reduce_17 = require('@bugsnag/core/lib/es-utils/reduce'); */\n  ;\n\n  /* removed: var _$filter_12 = require('@bugsnag/core/lib/es-utils/filter'); */\n  ;\n  var MAX_LINE_LENGTH = 200;\n  var MAX_SCRIPT_LENGTH = 500000;\n  var _$inlineScriptContent_48 = function _$inlineScriptContent_48(doc, win) {\n    if (doc === void 0) {\n      doc = document;\n    }\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      load: function load(client) {\n        if (!client._config.trackInlineScripts) return;\n        var originalLocation = win.location.href;\n        var html = ''; // in IE8-10 the 'interactive' state can fire too soon (before scripts have finished executing), so in those\n        // we wait for the 'complete' state before assuming that synchronous scripts are no longer executing\n\n        var isOldIe = !!doc.attachEvent;\n        var DOMContentLoaded = isOldIe ? doc.readyState === 'complete' : doc.readyState !== 'loading';\n        var getHtml = function getHtml() {\n          return doc.documentElement.outerHTML;\n        }; // get whatever HTML exists at this point in time\n\n        html = getHtml();\n        var prev = doc.onreadystatechange; // then update it when the DOM content has loaded\n\n        doc.onreadystatechange = function () {\n          // IE8 compatible alternative to document#DOMContentLoaded\n          if (doc.readyState === 'interactive') {\n            html = getHtml();\n            DOMContentLoaded = true;\n          }\n          try {\n            prev.apply(this, arguments);\n          } catch (e) {}\n        };\n        var _lastScript = null;\n        var updateLastScript = function updateLastScript(script) {\n          _lastScript = script;\n        };\n        var getCurrentScript = function getCurrentScript() {\n          var script = doc.currentScript || _lastScript;\n          if (!script && !DOMContentLoaded) {\n            var scripts = doc.scripts || doc.getElementsByTagName('script');\n            script = scripts[scripts.length - 1];\n          }\n          return script;\n        };\n        var addSurroundingCode = function addSurroundingCode(lineNumber) {\n          // get whatever html has rendered at this point\n          if (!DOMContentLoaded || !html) html = getHtml(); // simulate the raw html\n\n          var htmlLines = ['<!-- DOC START -->'].concat(html.split('\\n'));\n          var zeroBasedLine = lineNumber - 1;\n          var start = Math.max(zeroBasedLine - 3, 0);\n          var end = Math.min(zeroBasedLine + 3, htmlLines.length);\n          return _$reduce_17(htmlLines.slice(start, end), function (accum, line, i) {\n            accum[start + 1 + i] = line.length <= MAX_LINE_LENGTH ? line : line.substr(0, MAX_LINE_LENGTH);\n            return accum;\n          }, {});\n        };\n        client.addOnError(function (event) {\n          // remove any of our own frames that may be part the stack this\n          // happens before the inline script check as it happens for all errors\n          event.errors[0].stacktrace = _$filter_12(event.errors[0].stacktrace, function (f) {\n            return !/__trace__$/.test(f.method);\n          });\n          var frame = event.errors[0].stacktrace[0]; // remove hash and query string from url\n\n          var cleanUrl = function cleanUrl(url) {\n            return url.replace(/#.*$/, '').replace(/\\?.*$/, '');\n          }; // if frame.file exists and is not the original location of the page, this can't be an inline script\n\n          if (frame && frame.file && cleanUrl(frame.file) !== cleanUrl(originalLocation)) return; // grab the last script known to have run\n\n          var currentScript = getCurrentScript();\n          if (currentScript) {\n            var content = currentScript.innerHTML;\n            event.addMetadata('script', 'content', content.length <= MAX_SCRIPT_LENGTH ? content : content.substr(0, MAX_SCRIPT_LENGTH)); // only attempt to grab some surrounding code if we have a line number\n\n            if (frame && frame.lineNumber) {\n              frame.code = addSurroundingCode(frame.lineNumber);\n            }\n          }\n        }, true); // Proxy all the timer functions whose callback is their 0th argument.\n        // Keep a reference to the original setTimeout because we need it later\n\n        var _map = _$map_16(['setTimeout', 'setInterval', 'setImmediate', 'requestAnimationFrame'], function (fn) {\n            return __proxy(win, fn, function (original) {\n              return __traceOriginalScript(original, function (args) {\n                return {\n                  get: function get() {\n                    return args[0];\n                  },\n                  replace: function replace(fn) {\n                    args[0] = fn;\n                  }\n                };\n              });\n            });\n          }),\n          _setTimeout = _map[0]; // Proxy all the host objects whose prototypes have an addEventListener function\n\n        _$map_16(['EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode', 'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase', 'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow', 'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList', 'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'], function (o) {\n          if (!win[o] || !win[o].prototype || !Object.prototype.hasOwnProperty.call(win[o].prototype, 'addEventListener')) return;\n          __proxy(win[o].prototype, 'addEventListener', function (original) {\n            return __traceOriginalScript(original, eventTargetCallbackAccessor);\n          });\n          __proxy(win[o].prototype, 'removeEventListener', function (original) {\n            return __traceOriginalScript(original, eventTargetCallbackAccessor, true);\n          });\n        });\n        function __traceOriginalScript(fn, callbackAccessor, alsoCallOriginal) {\n          if (alsoCallOriginal === void 0) {\n            alsoCallOriginal = false;\n          }\n          return function () {\n            // this is required for removeEventListener to remove anything added with\n            // addEventListener before the functions started being wrapped by Bugsnag\n            var args = [].slice.call(arguments);\n            try {\n              var cba = callbackAccessor(args);\n              var cb = cba.get();\n              if (alsoCallOriginal) fn.apply(this, args);\n              if (typeof cb !== 'function') return fn.apply(this, args);\n              if (cb.__trace__) {\n                cba.replace(cb.__trace__);\n              } else {\n                var script = getCurrentScript(); // this function mustn't be annonymous due to a bug in the stack\n                // generation logic, meaning it gets tripped up\n                // see: https://github.com/stacktracejs/stack-generator/issues/6\n\n                cb.__trace__ = function __trace__() {\n                  // set the script that called this function\n                  updateLastScript(script); // immediately unset the currentScript synchronously below, however\n                  // if this cb throws an error the line after will not get run so schedule\n                  // an almost-immediate aysnc update too\n\n                  _setTimeout(function () {\n                    updateLastScript(null);\n                  }, 0);\n                  var ret = cb.apply(this, arguments);\n                  updateLastScript(null);\n                  return ret;\n                };\n                cb.__trace__.__trace__ = cb.__trace__;\n                cba.replace(cb.__trace__);\n              }\n            } catch (e) {// swallow these errors on Selenium:\n              // Permission denied to access property '__trace__'\n              // WebDriverException: Message: Permission denied to access property \"handleEvent\"\n            } // IE8 doesn't let you call .apply() on setTimeout/setInterval\n\n            if (fn.apply) return fn.apply(this, args);\n            switch (args.length) {\n              case 1:\n                return fn(args[0]);\n              case 2:\n                return fn(args[0], args[1]);\n              default:\n                return fn();\n            }\n          };\n        }\n      },\n      configSchema: {\n        trackInlineScripts: {\n          validate: function validate(value) {\n            return value === true || value === false;\n          },\n          defaultValue: function defaultValue() {\n            return true;\n          },\n          message: 'should be true|false'\n        }\n      }\n    };\n  };\n  function __proxy(host, name, replacer) {\n    var original = host[name];\n    if (!original) return original;\n    var replacement = replacer(original);\n    host[name] = replacement;\n    return original;\n  }\n  function eventTargetCallbackAccessor(args) {\n    var isEventHandlerObj = !!args[1] && typeof args[1].handleEvent === 'function';\n    return {\n      get: function get() {\n        return isEventHandlerObj ? args[1].handleEvent : args[1];\n      },\n      replace: function replace(fn) {\n        if (isEventHandlerObj) {\n          args[1].handleEvent = fn;\n        } else {\n          args[1] = fn;\n        }\n      }\n    };\n  }\n\n  /*\n   * Leaves breadcrumbs when the user interacts with the DOM\n   */\n  var _$interactionBreadcrumbs_49 = function _$interactionBreadcrumbs_49(win) {\n    if (win === void 0) {\n      win = window;\n    }\n    return {\n      load: function load(client) {\n        if (!('addEventListener' in win)) return;\n        if (!client._isBreadcrumbTypeEnabled('user')) return;\n        win.addEventListener('click', function (event) {\n          var targetText, targetSelector;\n          try {\n            targetText = getNodeText(event.target);\n            targetSelector = getNodeSelector(event.target, win);\n          } catch (e) {\n            targetText = '[hidden]';\n            targetSelector = '[hidden]';\n            client._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z');\n          }\n          client.leaveBreadcrumb('UI click', {\n            targetText: targetText,\n            targetSelector: targetSelector\n          }, 'user');\n        }, true);\n      }\n    };\n  };\n  var trimStart = /^\\s+/;\n  var trimEnd = /(^|[^\\s])\\s+$/;\n  function getNodeText(el) {\n    var text = el.textContent || el.innerText || '';\n    if (!text && (el.type === 'submit' || el.type === 'button')) {\n      text = el.value;\n    }\n    text = text.replace(trimStart, '').replace(trimEnd, '$1');\n    if (text.length > 140) {\n      return text.slice(0, 135) + '(...)';\n    }\n    return text;\n  } // Create a label from tagname, id and css class of the element\n\n  function getNodeSelector(el, win) {\n    var parts = [el.tagName];\n    if (el.id) parts.push('#' + el.id);\n    if (el.className && el.className.length) parts.push(\".\" + el.className.split(' ').join('.')); // Can't get much more advanced with the current browser\n\n    if (!win.document.querySelectorAll || !Array.prototype.indexOf) return parts.join('');\n    try {\n      if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('');\n    } catch (e) {\n      // Sometimes the query selector can be invalid just return it as-is\n      return parts.join('');\n    } // try to get a more specific selector if this one matches more than one element\n\n    if (el.parentNode.childNodes.length > 1) {\n      var index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1;\n      parts.push(\":nth-child(\" + index + \")\");\n    }\n    if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join(''); // try prepending the parent node selector\n\n    if (el.parentNode) return getNodeSelector(el.parentNode, win) + \" > \" + parts.join('');\n    return parts.join('');\n  }\n  var _$navigationBreadcrumbs_50 = {};\n  /*\n  * Leaves breadcrumbs when navigation methods are called or events are emitted\n  */\n  _$navigationBreadcrumbs_50 = function _$navigationBreadcrumbs_50(win) {\n    if (win === void 0) {\n      win = window;\n    }\n    var plugin = {\n      load: function load(client) {\n        if (!('addEventListener' in win)) return;\n        if (!client._isBreadcrumbTypeEnabled('navigation')) return; // returns a function that will drop a breadcrumb with a given name\n\n        var drop = function drop(name) {\n          return function () {\n            return client.leaveBreadcrumb(name, {}, 'navigation');\n          };\n        }; // simple drops â€“ just names, no meta\n\n        win.addEventListener('pagehide', drop('Page hidden'), true);\n        win.addEventListener('pageshow', drop('Page shown'), true);\n        win.addEventListener('load', drop('Page loaded'), true);\n        win.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true); // some browsers like to emit popstate when the page loads, so only add the popstate listener after that\n\n        win.addEventListener('load', function () {\n          return win.addEventListener('popstate', drop('Navigated back'), true);\n        }); // hashchange has some metadata that we care about\n\n        win.addEventListener('hashchange', function (event) {\n          var metadata = event.oldURL ? {\n            from: relativeLocation(event.oldURL, win),\n            to: relativeLocation(event.newURL, win),\n            state: getCurrentState(win)\n          } : {\n            to: relativeLocation(win.location.href, win)\n          };\n          client.leaveBreadcrumb('Hash changed', metadata, 'navigation');\n        }, true); // the only way to know about replaceState/pushState is to wrap themâ€¦ >_<\n\n        if (win.history.replaceState) wrapHistoryFn(client, win.history, 'replaceState', win);\n        if (win.history.pushState) wrapHistoryFn(client, win.history, 'pushState', win);\n      }\n    };\n    if (\"production\" !== 'production') {\n      plugin.destroy = function (win) {\n        if (win === void 0) {\n          win = window;\n        }\n        win.history.replaceState._restore();\n        win.history.pushState._restore();\n      };\n    }\n    return plugin;\n  };\n  if (\"production\" !== 'production') {\n    _$navigationBreadcrumbs_50.destroy = function (win) {\n      if (win === void 0) {\n        win = window;\n      }\n      win.history.replaceState._restore();\n      win.history.pushState._restore();\n    };\n  } // takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n  // just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\n\n  var relativeLocation = function relativeLocation(url, win) {\n    var a = win.document.createElement('A');\n    a.href = url;\n    return \"\" + a.pathname + a.search + a.hash;\n  };\n  var stateChangeToMetadata = function stateChangeToMetadata(win, state, title, url) {\n    var currentPath = relativeLocation(win.location.href, win);\n    return {\n      title: title,\n      state: state,\n      prevState: getCurrentState(win),\n      to: url || currentPath,\n      from: currentPath\n    };\n  };\n  var wrapHistoryFn = function wrapHistoryFn(client, target, fn, win) {\n    var orig = target[fn];\n    target[fn] = function (state, title, url) {\n      client.leaveBreadcrumb(\"History \" + fn, stateChangeToMetadata(win, state, title, url), 'navigation'); // if throttle plugin is in use, reset the event sent count\n\n      if (typeof client.resetEventCount === 'function') client.resetEventCount(); // if the client is operating in auto session-mode, a new route should trigger a new session\n\n      if (client._config.autoTrackSessions) client.startSession(); // Internet Explorer will convert `undefined` to a string when passed, causing an unintended redirect\n      // to '/undefined'. therefore we only pass the url if it's not undefined.\n\n      orig.apply(target, [state, title].concat(url !== undefined ? url : []));\n    };\n    if (\"production\" !== 'production') {\n      target[fn]._restore = function () {\n        target[fn] = orig;\n      };\n    }\n  };\n  var getCurrentState = function getCurrentState(win) {\n    try {\n      return win.history.state;\n    } catch (e) {}\n  };\n  var BREADCRUMB_TYPE = 'request';\n\n  /* removed: var _$includes_13 = require('@bugsnag/core/lib/es-utils/includes'); */\n  ;\n  /*\n   * Leaves breadcrumbs when network requests occur\n   */\n\n  var _$networkBreadcrumbs_51 = function _$networkBreadcrumbs_51(_ignoredUrls, win) {\n    if (_ignoredUrls === void 0) {\n      _ignoredUrls = [];\n    }\n    if (win === void 0) {\n      win = window;\n    }\n    var restoreFunctions = [];\n    var plugin = {\n      load: function load(client) {\n        if (!client._isBreadcrumbTypeEnabled('request')) return;\n        var ignoredUrls = [client._config.endpoints.notify, client._config.endpoints.sessions].concat(_ignoredUrls);\n        monkeyPatchXMLHttpRequest();\n        monkeyPatchFetch(); // XMLHttpRequest monkey patch\n\n        function monkeyPatchXMLHttpRequest() {\n          if (!('addEventListener' in win.XMLHttpRequest.prototype)) return;\n          var nativeOpen = win.XMLHttpRequest.prototype.open; // override native open()\n\n          win.XMLHttpRequest.prototype.open = function open(method, url) {\n            var _this = this;\n            var requestSetupKey = false;\n            var error = function error() {\n              return handleXHRError(method, url);\n            };\n            var load = function load() {\n              return handleXHRLoad(method, url, _this.status);\n            }; // if we have already setup listeners, it means open() was called twice, we need to remove\n            // the listeners and recreate them\n\n            if (requestSetupKey) {\n              this.removeEventListener('load', load);\n              this.removeEventListener('error', error);\n            } // attach load event listener\n\n            this.addEventListener('load', load); // attach error event listener\n\n            this.addEventListener('error', error);\n            requestSetupKey = true;\n            nativeOpen.apply(this, arguments);\n          };\n          if (\"production\" !== 'production') {\n            restoreFunctions.push(function () {\n              win.XMLHttpRequest.prototype.open = nativeOpen;\n            });\n          }\n        }\n        function handleXHRLoad(method, url, status) {\n          if (url === undefined) {\n            client._logger.warn('The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.');\n            return;\n          } // an XMLHttpRequest's URL can be an object as long as its 'toString'\n          // returns a URL, e.g. a HTMLAnchorElement\n\n          if (typeof url === 'string' && _$includes_13(ignoredUrls, url.replace(/\\?.*$/, ''))) {\n            // don't leave a network breadcrumb from bugsnag notify calls\n            return;\n          }\n          var metadata = {\n            status: status,\n            request: method + \" \" + url\n          };\n          if (status >= 400) {\n            // contacted server but got an error response\n            client.leaveBreadcrumb('XMLHttpRequest failed', metadata, BREADCRUMB_TYPE);\n          } else {\n            client.leaveBreadcrumb('XMLHttpRequest succeeded', metadata, BREADCRUMB_TYPE);\n          }\n        }\n        function handleXHRError(method, url) {\n          if (url === undefined) {\n            client._logger.warn('The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.');\n            return;\n          }\n          if (typeof url === 'string' && _$includes_13(ignoredUrls, url.replace(/\\?.*$/, ''))) {\n            // don't leave a network breadcrumb from bugsnag notify calls\n            return;\n          } // failed to contact server\n\n          client.leaveBreadcrumb('XMLHttpRequest error', {\n            request: method + \" \" + url\n          }, BREADCRUMB_TYPE);\n        } // window.fetch monkey patch\n\n        function monkeyPatchFetch() {\n          // only patch it if it exists and if it is not a polyfill (patching a polyfilled\n          // fetch() results in duplicate breadcrumbs for the same request because the\n          // implementation uses XMLHttpRequest which is also patched)\n          if (!('fetch' in win) || win.fetch.polyfill) return;\n          var oldFetch = win.fetch;\n          win.fetch = function fetch() {\n            var _arguments = arguments;\n            var urlOrRequest = arguments[0];\n            var options = arguments[1];\n            var method;\n            var url = null;\n            if (urlOrRequest && typeof urlOrRequest === 'object') {\n              url = urlOrRequest.url;\n              if (options && 'method' in options) {\n                method = options.method;\n              } else if (urlOrRequest && 'method' in urlOrRequest) {\n                method = urlOrRequest.method;\n              }\n            } else {\n              url = urlOrRequest;\n              if (options && 'method' in options) {\n                method = options.method;\n              }\n            }\n            if (method === undefined) {\n              method = 'GET';\n            }\n            return new Promise(function (resolve, reject) {\n              // pass through to native fetch\n              oldFetch.apply(void 0, _arguments).then(function (response) {\n                handleFetchSuccess(response, method, url);\n                resolve(response);\n              })[\"catch\"](function (error) {\n                handleFetchError(method, url);\n                reject(error);\n              });\n            });\n          };\n          if (\"production\" !== 'production') {\n            restoreFunctions.push(function () {\n              win.fetch = oldFetch;\n            });\n          }\n        }\n        var handleFetchSuccess = function handleFetchSuccess(response, method, url) {\n          var metadata = {\n            status: response.status,\n            request: method + \" \" + url\n          };\n          if (response.status >= 400) {\n            // when the request comes back with a 4xx or 5xx status it does not reject the fetch promise,\n            client.leaveBreadcrumb('fetch() failed', metadata, BREADCRUMB_TYPE);\n          } else {\n            client.leaveBreadcrumb('fetch() succeeded', metadata, BREADCRUMB_TYPE);\n          }\n        };\n        var handleFetchError = function handleFetchError(method, url) {\n          client.leaveBreadcrumb('fetch() error', {\n            request: method + \" \" + url\n          }, BREADCRUMB_TYPE);\n        };\n      }\n    };\n    if (\"production\" !== 'production') {\n      plugin.destroy = function () {\n        restoreFunctions.forEach(function (fn) {\n          return fn();\n        });\n        restoreFunctions = [];\n      };\n    }\n    return plugin;\n  };\n\n  /* removed: var _$intRange_24 = require('@bugsnag/core/lib/validators/int-range'); */\n  ;\n  /*\n   * Throttles and dedupes events\n   */\n\n  var _$throttle_52 = {\n    load: function load(client) {\n      // track sent events for each init of the plugin\n      var n = 0; // add onError hook\n\n      client.addOnError(function (event) {\n        // have max events been sent already?\n        if (n >= client._config.maxEvents) {\n          client._logger.warn(\"Cancelling event send due to maxEvents per session limit of \" + client._config.maxEvents + \" being reached\");\n          return false;\n        }\n        n++;\n      });\n      client.resetEventCount = function () {\n        n = 0;\n      };\n    },\n    configSchema: {\n      maxEvents: {\n        defaultValue: function defaultValue() {\n          return 10;\n        },\n        message: 'should be a positive integer â‰¤100',\n        validate: function validate(val) {\n          return _$intRange_24(1, 100)(val);\n        }\n      }\n    }\n  };\n  var _$stripQueryString_53 = {};\n  /*\n   * Remove query strings (and fragments) from stacktraces\n   */\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n  ;\n\n  /* removed: var _$reduce_17 = require('@bugsnag/core/lib/es-utils/reduce'); */\n  ;\n  _$stripQueryString_53 = {\n    load: function load(client) {\n      client.addOnError(function (event) {\n        var allFrames = _$reduce_17(event.errors, function (accum, er) {\n          return accum.concat(er.stacktrace);\n        }, []);\n        _$map_16(allFrames, function (frame) {\n          frame.file = strip(frame.file);\n        });\n      });\n    }\n  };\n  var strip = _$stripQueryString_53._strip = function (str) {\n    return typeof str === 'string' ? str.replace(/\\?.*$/, '').replace(/#.*$/, '') : str;\n  };\n\n  /*\n   * Automatically notifies Bugsnag when window.onerror is called\n   */\n  var _$onerror_54 = function _$onerror_54(win, component) {\n    if (win === void 0) {\n      win = window;\n    }\n    if (component === void 0) {\n      component = 'window onerror';\n    }\n    return {\n      load: function load(client) {\n        if (!client._config.autoDetectErrors) return;\n        if (!client._config.enabledErrorTypes.unhandledExceptions) return;\n        function onerror(messageOrEvent, url, lineNo, charNo, error) {\n          // Ignore errors with no info due to CORS settings\n          if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n            client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z');\n          } else {\n            // any error sent to window.onerror is unhandled and has severity=error\n            var handledState = {\n              severity: 'error',\n              unhandled: true,\n              severityReason: {\n                type: 'unhandledException'\n              }\n            };\n            var event; // window.onerror can be called in a number of ways. This big if-else is how we\n            // figure out which arguments were supplied, and what kind of values it received.\n\n            if (error) {\n              // if the last parameter (error) was supplied, this is a modern browser's\n              // way of saying \"this value was thrown and not caught\"\n              event = client.Event.create(error, true, handledState, component, 1);\n              decorateStack(event.errors[0].stacktrace, url, lineNo, charNo);\n            } else if (\n            // This complex case detects \"error\" events that are typically synthesised\n            // by jquery's trigger method (although can be created in other ways). In\n            // order to detect this:\n            // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n            // - the second argument (url) must either not exist or be something other than a string (if it\n            //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n            //    function)\n            // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n            typeof messageOrEvent === 'object' && messageOrEvent !== null && (!url || typeof url !== 'string') && !lineNo && !charNo && !error) {\n              // The jQuery event may have a \"type\" property, if so use it as part of the error message\n              var name = messageOrEvent.type ? \"Event: \" + messageOrEvent.type : 'Error'; // attempt to find a message from one of the conventional properties, but\n              // default to empty string (the event will fill it with a placeholder)\n\n              var message = messageOrEvent.message || messageOrEvent.detail || '';\n              event = client.Event.create({\n                name: name,\n                message: message\n              }, true, handledState, component, 1); // provide the original thing onerror received â€“ not our error-like object we passed to _notify\n\n              event.originalError = messageOrEvent; // include the raw input as metadata â€“ it might contain more info than we extracted\n\n              event.addMetadata(component, {\n                event: messageOrEvent,\n                extraParameters: url\n              });\n            } else {\n              // Lastly, if there was no \"error\" parameter this event was probably from an old\n              // browser that doesn't support that. Instead we need to generate a stacktrace.\n              event = client.Event.create(messageOrEvent, true, handledState, component, 1);\n              decorateStack(event.errors[0].stacktrace, url, lineNo, charNo);\n            }\n            client._notify(event);\n          }\n          if (typeof prevOnError === 'function') prevOnError.apply(this, arguments);\n        }\n        var prevOnError = win.onerror;\n        win.onerror = onerror;\n      }\n    };\n  }; // Sometimes the stacktrace has less information than was passed to window.onerror.\n  // This function will augment the first stackframe with any useful info that was\n  // received as arguments to the onerror callback.\n\n  var decorateStack = function decorateStack(stack, url, lineNo, charNo) {\n    if (!stack[0]) stack.push({});\n    var culprit = stack[0];\n    if (!culprit.file && typeof url === 'string') culprit.file = url;\n    if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.lineNumber = lineNo;\n    if (!culprit.columnNumber) {\n      if (isActualNumber(charNo)) {\n        culprit.columnNumber = charNo;\n      } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n        culprit.columnNumber = window.event.errorCharacter;\n      }\n    }\n  };\n  var isActualNumber = function isActualNumber(n) {\n    return typeof n === 'number' && String.call(n) !== 'NaN';\n  };\n\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n  ;\n\n  /* removed: var _$iserror_20 = require('@bugsnag/core/lib/iserror'); */\n  ;\n  var _listener;\n  /*\n   * Automatically notifies Bugsnag when window.onunhandledrejection is called\n   */\n\n  var _$unhandledRejection_55 = function _$unhandledRejection_55(win) {\n    if (win === void 0) {\n      win = window;\n    }\n    var plugin = {\n      load: function load(client) {\n        if (!client._config.autoDetectErrors || !client._config.enabledErrorTypes.unhandledRejections) return;\n        var listener = function listener(evt) {\n          var error = evt.reason;\n          var isBluebird = false; // accessing properties on evt.detail can throw errors (see #394)\n\n          try {\n            if (evt.detail && evt.detail.reason) {\n              error = evt.detail.reason;\n              isBluebird = true;\n            }\n          } catch (e) {}\n          var event = client.Event.create(error, false, {\n            severity: 'error',\n            unhandled: true,\n            severityReason: {\n              type: 'unhandledPromiseRejection'\n            }\n          }, 'unhandledrejection handler', 1, client._logger);\n          if (isBluebird) {\n            _$map_16(event.errors[0].stacktrace, fixBluebirdStacktrace(error));\n          }\n          client._notify(event, function (event) {\n            if (_$iserror_20(event.originalError) && !event.originalError.stack) {\n              var _event$addMetadata;\n              event.addMetadata('unhandledRejection handler', (_event$addMetadata = {}, _event$addMetadata[Object.prototype.toString.call(event.originalError)] = {\n                name: event.originalError.name,\n                message: event.originalError.message,\n                code: event.originalError.code\n              }, _event$addMetadata));\n            }\n          });\n        };\n        if ('addEventListener' in win) {\n          win.addEventListener('unhandledrejection', listener);\n        } else {\n          win.onunhandledrejection = function (reason, promise) {\n            listener({\n              detail: {\n                reason: reason,\n                promise: promise\n              }\n            });\n          };\n        }\n        _listener = listener;\n      }\n    };\n    if (\"production\" !== 'production') {\n      plugin.destroy = function (win) {\n        if (win === void 0) {\n          win = window;\n        }\n        if (_listener) {\n          if ('addEventListener' in win) {\n            win.removeEventListener('unhandledrejection', _listener);\n          } else {\n            win.onunhandledrejection = null;\n          }\n        }\n        _listener = null;\n      };\n    }\n    return plugin;\n  }; // The stack parser on bluebird stacks in FF get a suprious first frame:\n  //\n  // Error: derp\n  //   b@http://localhost:5000/bluebird.html:22:24\n  //   a@http://localhost:5000/bluebird.html:18:9\n  //   @http://localhost:5000/bluebird.html:14:9\n  //\n  // results in\n  //   [â€¦]\n  //     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined, â€¦ }\n  //     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22, â€¦ }\n  //     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18, â€¦ }\n  //     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9, â€¦ }\n  //\n  // so the following reduce/accumulator function removes such frames\n  //\n  // Bluebird pads method names with spaces so trim that tooâ€¦\n  // https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\n\n  var fixBluebirdStacktrace = function fixBluebirdStacktrace(error) {\n    return function (frame) {\n      if (frame.file === error.toString()) return;\n      if (frame.method) {\n        frame.method = frame.method.replace(/^\\s+/, '');\n      }\n    };\n  };\n  var _$notifier_2 = {};\n  var name = 'Bugsnag JavaScript';\n  var version = '7.20.2';\n  var url = 'https://github.com/bugsnag/bugsnag-js';\n\n  /* removed: var _$Client_4 = require('@bugsnag/core/client'); */\n  ;\n\n  /* removed: var _$Event_6 = require('@bugsnag/core/event'); */\n  ;\n\n  /* removed: var _$Session_35 = require('@bugsnag/core/session'); */\n  ;\n\n  /* removed: var _$Breadcrumb_3 = require('@bugsnag/core/breadcrumb'); */\n  ;\n\n  /* removed: var _$map_16 = require('@bugsnag/core/lib/es-utils/map'); */\n  ;\n\n  /* removed: var _$keys_15 = require('@bugsnag/core/lib/es-utils/keys'); */\n  ;\n\n  /* removed: var _$assign_11 = require('@bugsnag/core/lib/es-utils/assign'); */\n  ; // extend the base config schema with some browser-specific options\n\n  var __schema_2 = _$assign_11({}, _$config_5.schema, _$config_1);\n\n  /* removed: var _$onerror_54 = require('@bugsnag/plugin-window-onerror'); */\n  ;\n\n  /* removed: var _$unhandledRejection_55 = require('@bugsnag/plugin-window-unhandled-rejection'); */\n  ;\n\n  /* removed: var _$app_38 = require('@bugsnag/plugin-app-duration'); */\n  ;\n\n  /* removed: var _$device_40 = require('@bugsnag/plugin-browser-device'); */\n  ;\n\n  /* removed: var _$context_39 = require('@bugsnag/plugin-browser-context'); */\n  ;\n\n  /* removed: var _$request_44 = require('@bugsnag/plugin-browser-request'); */\n  ;\n\n  /* removed: var _$throttle_52 = require('@bugsnag/plugin-simple-throttle'); */\n  ;\n\n  /* removed: var _$consoleBreadcrumbs_47 = require('@bugsnag/plugin-console-breadcrumbs'); */\n  ;\n\n  /* removed: var _$networkBreadcrumbs_51 = require('@bugsnag/plugin-network-breadcrumbs'); */\n  ;\n\n  /* removed: var _$navigationBreadcrumbs_50 = require('@bugsnag/plugin-navigation-breadcrumbs'); */\n  ;\n\n  /* removed: var _$interactionBreadcrumbs_49 = require('@bugsnag/plugin-interaction-breadcrumbs'); */\n  ;\n\n  /* removed: var _$inlineScriptContent_48 = require('@bugsnag/plugin-inline-script-content'); */\n  ;\n\n  /* removed: var _$session_45 = require('@bugsnag/plugin-browser-session'); */\n  ;\n\n  /* removed: var _$clientIp_46 = require('@bugsnag/plugin-client-ip'); */\n  ;\n\n  /* removed: var _$stripQueryString_53 = require('@bugsnag/plugin-strip-query-string'); */\n  ; // delivery mechanisms\n\n  /* removed: var _$delivery_36 = require('@bugsnag/delivery-x-domain-request'); */\n  ;\n\n  /* removed: var _$delivery_37 = require('@bugsnag/delivery-xml-http-request'); */\n  ;\n  var Bugsnag = {\n    _client: null,\n    createClient: function createClient(opts) {\n      // handle very simple use case where user supplies just the api key as a string\n      if (typeof opts === 'string') opts = {\n        apiKey: opts\n      };\n      if (!opts) opts = {};\n      var internalPlugins = [\n      // add browser-specific plugins\n      _$app_38, _$device_40(), _$context_39(), _$request_44(), _$throttle_52, _$session_45, _$clientIp_46, _$stripQueryString_53, _$onerror_54(), _$unhandledRejection_55(), _$navigationBreadcrumbs_50(), _$interactionBreadcrumbs_49(), _$networkBreadcrumbs_51(), _$consoleBreadcrumbs_47,\n      // this one added last to avoid wrapping functionality before bugsnag uses it\n      _$inlineScriptContent_48()]; // configure a client with user supplied options\n\n      var bugsnag = new _$Client_4(opts, __schema_2, internalPlugins, {\n        name: name,\n        version: version,\n        url: url\n      }); // set delivery based on browser capability (IE 8+9 have an XDomainRequest object)\n\n      bugsnag._setDelivery(window.XDomainRequest ? _$delivery_36 : _$delivery_37);\n      bugsnag._logger.debug('Loaded!');\n      bugsnag.leaveBreadcrumb('Bugsnag loaded', {}, 'state');\n      return bugsnag._config.autoTrackSessions ? bugsnag.startSession() : bugsnag;\n    },\n    start: function start(opts) {\n      if (Bugsnag._client) {\n        Bugsnag._client._logger.warn('Bugsnag.start() was called more than once. Ignoring.');\n        return Bugsnag._client;\n      }\n      Bugsnag._client = Bugsnag.createClient(opts);\n      return Bugsnag._client;\n    },\n    isStarted: function isStarted() {\n      return Bugsnag._client != null;\n    }\n  };\n  _$map_16(['resetEventCount'].concat(_$keys_15(_$Client_4.prototype)), function (m) {\n    if (/^_/.test(m)) return;\n    Bugsnag[m] = function () {\n      if (!Bugsnag._client) return console.log(\"Bugsnag.\" + m + \"() was called before Bugsnag.start()\");\n      Bugsnag._client._depth += 1;\n      var ret = Bugsnag._client[m].apply(Bugsnag._client, arguments);\n      Bugsnag._client._depth -= 1;\n      return ret;\n    };\n  });\n  _$notifier_2 = Bugsnag;\n  _$notifier_2.Client = _$Client_4;\n  _$notifier_2.Event = _$Event_6;\n  _$notifier_2.Session = _$Session_35;\n  _$notifier_2.Breadcrumb = _$Breadcrumb_3; // Export a \"default\" property for compatibility with ESM imports\n\n  _$notifier_2[\"default\"] = Bugsnag;\n  return _$notifier_2;\n});","map":{"version":3,"names":["f","exports","module","define","amd","g","window","global","self","Bugsnag","_$breadcrumbTypes_8","_$reduce_17","arr","fn","accum","val","i","len","length","_$filter_12","item","concat","_$includes_13","x","_$isArray_14","obj","Object","prototype","toString","call","_hasDontEnumBug","propertyIsEnumerable","_dontEnums","_$keys_15","result","prop","hasOwnProperty","push","_$intRange_24","min","max","Infinity","value","parseInt","_$listOfFunctions_25","_$stringWithLength_26","defaultErrorTypes","unhandledExceptions","unhandledRejections","_$config_5","schema","apiKey","defaultValue","message","validate","appVersion","undefined","appType","autoDetectErrors","enabledErrorTypes","allowPartialObject","providedKeys","defaultKeys","k","onError","onSession","onBreadcrumb","endpoints","notify","sessions","autoTrackSessions","enabledReleaseStages","releaseStage","maxBreadcrumbs","enabledBreadcrumbTypes","join","maybeType","context","user","key","metadata","logger","method","redactedKeys","s","test","plugins","p","load","featureFlags","feature","name","_$assign_11","target","arguments","source","_$map_16","_$config_1","location","host","_extends","console","debug","getPrefixedConsole","consoleLog","log","consoleMethod","bind","Breadcrumb","type","timestamp","Date","toJSON","metaData","_$Breadcrumb_3","root","factory","_$stackframe_34","StackFrame","_isNumber","n","isNaN","parseFloat","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","booleanProps","numericProps","stringProps","arrayProps","props","getArgs","args","setArgs","v","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","functionName","getFunctionName","fileName","getFileName","lineNumber","getLineNumber","columnNumber","getColumnNumber","Boolean","j","Number","String","_$errorStackParser_31","ErrorStackParser","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","ErrorStackParser$$parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","Error","extractLocation","ErrorStackParser$$extractLocation","urlLike","indexOf","regExp","parts","exec","replace","ErrorStackParser$$parseV8OrIE","filtered","split","filter","line","map","sanitizedLine","tokens","slice","locationParts","pop","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","e","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","shift","argsRaw","_$errorStackParser_10","_$safeJsonStringify_30","data","replacer","space","opts","redactedPaths","JSON","stringify","prepareObjForSerialization","MAX_DEPTH","MAX_EDGES","MIN_PRESERVED_DEPTH","REPLACEMENT_NODE","isError","o","throwsMessage","err","find","haystack","needle","isDescendent","paths","path","shouldRedact","patterns","toLowerCase","__isArray_30","safelyGetProp","seen","edges","visit","edgesExceeded","fResult","er","eResult","aResult","add","existingFeatures","existingFeatureKeys","variant","existingIndex","merge","newFeatures","toEventApi","_ref","flag","featureFlag","clear","features","featuresIndex","_$featureFlagDelegate_18","_$hasStack_19","_$isError_32","__isError_32","_$iserror_20","__add_22","state","section","keyOrObj","maybeVal","_updates","updates","__clear_22","get","_$metadataDelegate_22","_$stackGenerator_33","StackGenerator","backtrace","StackGenerator$$backtrace","maxStackSize","curr","callee","Array","RegExp","$1","caller","Event","errorClass","errorMessage","handledState","originalError","defaultHandledState","groupingHash","_handledState","severity","unhandled","app","device","request","breadcrumbs","threads","_metadata","_features","_featuresIndex","_user","_session","errors","createBugsnagError","__type","addMetadata","getMetadata","clearMetadata","addFeatureFlag","addFeatureFlags","getFeatureFlags","clearFeatureFlag","clearFeatureFlags","getUser","setUser","id","email","payloadVersion","exceptions","severityReason","session","formatStackframe","frame","file","normaliseFunctionName","code","inProject","ensureString","getCauseStack","cause","getStacktrace","errorFramesToSkip","backtraceFramesToSkip","create","maybeError","tolerateNonErrors","component","_normaliseError","normaliseError","internalFrames","event","makeSerialisable","_event$errors","causes","normalisedCauses","_normaliseError2","apply","createAndLogInputError","reason","verb","warn","hasNecessaryFields","_$Event_6","_$asyncEvery_7","cb","index","next","_$callbackRunner_9","callbacks","onCallbackError","runMaybeAsyncCallback","ret","then","setTimeout","_$syncCallbackRunner_23","callbackArg","callbackType","ignore","cbs","_$pad_29","pad","num","size","substr","env","globalCount","mimeTypesLength","navigator","mimeTypes","clientId","userAgent","_$fingerprint_28","fingerprint","c","blockSize","base","discreteValues","Math","pow","randomBlock","random","safeCounter","cuid","letter","getTime","counter","print","_$cuid_27","Session","startedAt","_handled","_unhandled","events","handled","_track","_$Session_35","__add_4","__clear_4","__merge_4","noop","Client","configuration","internalPlugins","notifier","_this","_notifier","_config","_schema","_delivery","sendSession","sendEvent","_logger","info","_plugins","_breadcrumbs","_context","_cbs","sp","b","_configure","pl","_loadPlugin","_depth","getContext","setContext","plugin","configSchema","_reduce","valid","config","generateConfigErrorMessage","getPlugin","_setDelivery","d","startSession","version","_sessionDelegate","addOnError","front","removeOnError","_addOnSessionPayload","addOnSession","removeOnSession","addOnBreadcrumb","removeOnBreadcrumb","pauseSession","resumeSession","leaveBreadcrumb","crumb","_isBreadcrumbTypeEnabled","types","postReportCallback","_notify","_this2","originalSeverity","shouldSend","unhandledOverridden","rawInput","_$Client_4","EVENT_REDACTION_PATHS","_$jsonPayload_21","payload","_$delivery_36","client","win","url","getApiUrl","body","req","XDomainRequest","onload","onerror","toFixed","open","send","endpoint","isoDate","matchPageProtocol","protocol","encodeURIComponent","_matchPageProtocol","pageProtocol","_$delivery_37","XMLHttpRequest","onreadystatechange","readyState","DONE","status","setRequestHeader","toISOString","appStart","reset","_$app_38","now","duration","_$context_39","pathname","BUGSNAG_ANONYMOUS_ID_KEY","getDeviceId","storage","localStorage","getItem","_$cuid_41","setItem","_$device_40","nav","locale","browserLanguage","systemLanguage","userLanguage","language","screen","orientation","document","documentElement","clientWidth","clientHeight","generateAnonymousId","collectUserIp","setDefaultUserId","time","eventOrSession","_$request_44","href","_$session_45","sessionDelegate","sessionClient","_pausedSession","_$clientIp_46","clientIp","_$consoleBreadcrumbs_47","isDev","CONSOLE_LOG_METHODS","original","_len","_key","arg","stringified","_restore","destroy","forEach","MAX_LINE_LENGTH","MAX_SCRIPT_LENGTH","_$inlineScriptContent_48","doc","trackInlineScripts","originalLocation","html","isOldIe","attachEvent","DOMContentLoaded","getHtml","outerHTML","prev","_lastScript","updateLastScript","script","getCurrentScript","currentScript","scripts","getElementsByTagName","addSurroundingCode","htmlLines","zeroBasedLine","start","end","cleanUrl","content","innerHTML","_map","__proxy","__traceOriginalScript","_setTimeout","eventTargetCallbackAccessor","callbackAccessor","alsoCallOriginal","cba","__trace__","replacement","isEventHandlerObj","handleEvent","_$interactionBreadcrumbs_49","addEventListener","targetText","targetSelector","getNodeText","getNodeSelector","trimStart","trimEnd","el","text","textContent","innerText","tagName","className","querySelectorAll","parentNode","childNodes","_$navigationBreadcrumbs_50","drop","oldURL","from","relativeLocation","to","newURL","getCurrentState","history","replaceState","wrapHistoryFn","pushState","a","createElement","search","hash","stateChangeToMetadata","title","currentPath","prevState","orig","resetEventCount","BREADCRUMB_TYPE","_$networkBreadcrumbs_51","_ignoredUrls","restoreFunctions","ignoredUrls","monkeyPatchXMLHttpRequest","monkeyPatchFetch","nativeOpen","requestSetupKey","handleXHRError","handleXHRLoad","removeEventListener","fetch","polyfill","oldFetch","_arguments","urlOrRequest","options","Promise","resolve","reject","response","handleFetchSuccess","handleFetchError","_$throttle_52","maxEvents","_$stripQueryString_53","allFrames","strip","_strip","_$onerror_54","messageOrEvent","lineNo","charNo","decorateStack","detail","extraParameters","prevOnError","culprit","isActualNumber","errorCharacter","_listener","_$unhandledRejection_55","listener","evt","isBluebird","fixBluebirdStacktrace","_event$addMetadata","onunhandledrejection","promise","__schema_2","_client","createClient","bugsnag","isStarted","m","_$notifier_2"],"sources":["/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/node_modules/browser-pack-flat/_prelude","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/breadcrumb-types.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/es-utils/reduce.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/es-utils/filter.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/es-utils/includes.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/es-utils/is-array.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/es-utils/keys.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/validators/int-range.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/validators/list-of-functions.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/validators/string-with-length.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/config.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/es-utils/assign.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/es-utils/map.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/dist/src/config.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/breadcrumb.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/node_modules/stackframe/stackframe.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/node_modules/error-stack-parser/error-stack-parser.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/error-stack-parser.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/node_modules/@bugsnag/safe-json-stringify/index.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/feature-flag-delegate.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/has-stack.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/node_modules/iserror/index.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/iserror.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/metadata-delegate.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/node_modules/stack-generator/stack-generator.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/event.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/async-every.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/callback-runner.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/sync-callback-runner.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/node_modules/@bugsnag/cuid/lib/pad.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/node_modules/@bugsnag/cuid/lib/fingerprint.browser.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/node_modules/@bugsnag/cuid/index.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/session.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/client.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/core/lib/json-payload.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/delivery-x-domain-request/delivery.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/delivery-xml-http-request/delivery.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-app-duration/app.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-browser-context/context.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-browser-device/device.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-browser-request/request.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-browser-session/session.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-client-ip/client-ip.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-console-breadcrumbs/console-breadcrumbs.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-inline-script-content/inline-script-content.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-interaction-breadcrumbs/interaction-breadcrumbs.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-navigation-breadcrumbs/navigation-breadcrumbs.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-network-breadcrumbs/network-breadcrumbs.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-simple-throttle/throttle.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-strip-query-string/strip-query-string.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-window-onerror/onerror.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/plugin-window-unhandled-rejection/unhandled-rejection.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/browser/dist/src/notifier.js","/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@bugsnag/node_modules/browser-pack-flat/_postlude"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Bugsnag = f()}})(function(){var define,module,exports;\n","module.exports = ['navigation', 'request', 'process', 'log', 'user', 'state', 'error', 'manual']\n","// Array#reduce\nmodule.exports = (arr, fn, accum) => {\n  let val = accum\n  for (let i = 0, len = arr.length; i < len; i++) val = fn(val, arr[i], i, arr)\n  return val\n}\n","const reduce = require('./reduce')\n\n// Array#filter\nmodule.exports = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => !fn(item, i, arr) ? accum : accum.concat(item), [])\n","const reduce = require('./reduce')\n// Array#includes\nmodule.exports = (arr, x) =>\n  reduce(arr, (accum, item, i, arr) => accum === true || item === x, false)\n","// Array#isArray\nmodule.exports = obj => Object.prototype.toString.call(obj) === '[object Array]'\n","/* eslint-disable-next-line no-prototype-builtins */\nconst _hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString')\nconst _dontEnums = [\n  'toString', 'toLocaleString', 'valueOf', 'hasOwnProperty',\n  'isPrototypeOf', 'propertyIsEnumerable', 'constructor'\n]\n\n// Object#keys\nmodule.exports = obj => {\n  // stripped down version of\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n  const result = []\n  let prop\n  for (prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop)\n  }\n  if (!_hasDontEnumBug) return result\n  for (let i = 0, len = _dontEnums.length; i < len; i++) {\n    if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i])\n  }\n  return result\n}\n","module.exports = (min = 1, max = Infinity) => value =>\n  typeof value === 'number' &&\n  parseInt('' + value, 10) === value &&\n  value >= min && value <= max\n","const filter = require('../es-utils/filter')\nconst isArray = require('../es-utils/is-array')\n\nmodule.exports = value => typeof value === 'function' || (isArray(value) && filter(value, f => typeof f === 'function').length === value.length)\n","module.exports = value => typeof value === 'string' && !!value.length\n","const filter = require('./lib/es-utils/filter')\nconst reduce = require('./lib/es-utils/reduce')\nconst keys = require('./lib/es-utils/keys')\nconst isArray = require('./lib/es-utils/is-array')\nconst includes = require('./lib/es-utils/includes')\nconst intRange = require('./lib/validators/int-range')\nconst stringWithLength = require('./lib/validators/string-with-length')\nconst listOfFunctions = require('./lib/validators/list-of-functions')\n\nconst BREADCRUMB_TYPES = require('./lib/breadcrumb-types')\nconst defaultErrorTypes = () => ({ unhandledExceptions: true, unhandledRejections: true })\n\nmodule.exports.schema = {\n  apiKey: {\n    defaultValue: () => null,\n    message: 'is required',\n    validate: stringWithLength\n  },\n  appVersion: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || stringWithLength(value)\n  },\n  appType: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || stringWithLength(value)\n  },\n  autoDetectErrors: {\n    defaultValue: () => true,\n    message: 'should be true|false',\n    validate: value => value === true || value === false\n  },\n  enabledErrorTypes: {\n    defaultValue: () => defaultErrorTypes(),\n    message: 'should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }',\n    allowPartialObject: true,\n    validate: value => {\n      // ensure we have an object\n      if (typeof value !== 'object' || !value) return false\n      const providedKeys = keys(value)\n      const defaultKeys = keys(defaultErrorTypes())\n      // ensure it only has a subset of the allowed keys\n      if (filter(providedKeys, k => includes(defaultKeys, k)).length < providedKeys.length) return false\n      // ensure all of the values are boolean\n      if (filter(keys(value), k => typeof value[k] !== 'boolean').length > 0) return false\n      return true\n    }\n  },\n  onError: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  onSession: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  onBreadcrumb: {\n    defaultValue: () => [],\n    message: 'should be a function or array of functions',\n    validate: listOfFunctions\n  },\n  endpoints: {\n    defaultValue: () => ({\n      notify: 'https://notify.bugsnag.com',\n      sessions: 'https://sessions.bugsnag.com'\n    }),\n    message: 'should be an object containing endpoint URLs { notify, sessions }',\n    validate: val =>\n      // first, ensure it's an object\n      (val && typeof val === 'object') &&\n      (\n        // notify and sessions must always be set\n        stringWithLength(val.notify) && stringWithLength(val.sessions)\n      ) &&\n      // ensure no keys other than notify/session are set on endpoints object\n      filter(keys(val), k => !includes(['notify', 'sessions'], k)).length === 0\n  },\n  autoTrackSessions: {\n    defaultValue: val => true,\n    message: 'should be true|false',\n    validate: val => val === true || val === false\n  },\n  enabledReleaseStages: {\n    defaultValue: () => null,\n    message: 'should be an array of strings',\n    validate: value => value === null || (isArray(value) && filter(value, f => typeof f === 'string').length === value.length)\n  },\n  releaseStage: {\n    defaultValue: () => 'production',\n    message: 'should be a string',\n    validate: value => typeof value === 'string' && value.length\n  },\n  maxBreadcrumbs: {\n    defaultValue: () => 25,\n    message: 'should be a number â‰¤100',\n    validate: value => intRange(0, 100)(value)\n  },\n  enabledBreadcrumbTypes: {\n    defaultValue: () => BREADCRUMB_TYPES,\n    message: `should be null or a list of available breadcrumb types (${BREADCRUMB_TYPES.join(',')})`,\n    validate: value => value === null || (isArray(value) && reduce(value, (accum, maybeType) => {\n      if (accum === false) return accum\n      return includes(BREADCRUMB_TYPES, maybeType)\n    }, true))\n  },\n  context: {\n    defaultValue: () => undefined,\n    message: 'should be a string',\n    validate: value => value === undefined || typeof value === 'string'\n  },\n  user: {\n    defaultValue: () => ({}),\n    message: 'should be an object with { id, email, name } properties',\n    validate: value =>\n      (value === null) ||\n      (value && reduce(\n        keys(value),\n        (accum, key) => accum && includes(['id', 'email', 'name'], key),\n        true\n      ))\n  },\n  metadata: {\n    defaultValue: () => ({}),\n    message: 'should be an object',\n    validate: (value) => typeof value === 'object' && value !== null\n  },\n  logger: {\n    defaultValue: () => undefined,\n    message: 'should be null or an object with methods { debug, info, warn, error }',\n    validate: value =>\n      (!value) ||\n      (value && reduce(\n        ['debug', 'info', 'warn', 'error'],\n        (accum, method) => accum && typeof value[method] === 'function',\n        true\n      ))\n  },\n  redactedKeys: {\n    defaultValue: () => ['password'],\n    message: 'should be an array of strings|regexes',\n    validate: value =>\n      isArray(value) && value.length === filter(value, s =>\n        (typeof s === 'string' || (s && typeof s.test === 'function'))\n      ).length\n  },\n  plugins: {\n    defaultValue: () => ([]),\n    message: 'should be an array of plugin objects',\n    validate: value =>\n      isArray(value) && value.length === filter(value, p =>\n        (p && typeof p === 'object' && typeof p.load === 'function')\n      ).length\n  },\n  featureFlags: {\n    defaultValue: () => [],\n    message: 'should be an array of objects that have a \"name\" property',\n    validate: value =>\n      isArray(value) && value.length === filter(value, feature =>\n        feature && typeof feature === 'object' && typeof feature.name === 'string'\n      ).length\n  }\n}\n","// extends helper from babel\n// https://github.com/babel/babel/blob/916429b516e6466fd06588ee820e40e025d7f3a3/packages/babel-helpers/src/helpers.js#L377-L393\nmodule.exports = function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i]\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key]\n      }\n    }\n  }\n  return target\n}\n","const reduce = require('./reduce')\n\n// Array#map\nmodule.exports = (arr, fn) =>\n  reduce(arr, (accum, item, i, arr) => accum.concat(fn(item, i, arr)), [])\n","const { schema } = require('@bugsnag/core/config')\nconst map = require('@bugsnag/core/lib/es-utils/map')\nconst assign = require('@bugsnag/core/lib/es-utils/assign')\n\nmodule.exports = {\n  releaseStage: assign({}, schema.releaseStage, {\n    defaultValue: () => {\n      if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development'\n      return 'production'\n    }\n  }),\n  appType: {\n    ...schema.appType,\n    defaultValue: () => 'browser'\n  },\n  logger: assign({}, schema.logger, {\n    defaultValue: () =>\n      // set logger based on browser capability\n      (typeof console !== 'undefined' && typeof console.debug === 'function')\n        ? getPrefixedConsole()\n        : undefined\n  })\n}\n\nconst getPrefixedConsole = () => {\n  const logger = {}\n  const consoleLog = console.log\n  map(['debug', 'info', 'warn', 'error'], (method) => {\n    const consoleMethod = console[method]\n    logger[method] = typeof consoleMethod === 'function'\n      ? consoleMethod.bind(console, '[bugsnag]')\n      : consoleLog.bind(console, '[bugsnag]')\n  })\n  return logger\n}\n","class Breadcrumb {\n  constructor (message, metadata, type, timestamp = new Date()) {\n    this.type = type\n    this.message = message\n    this.metadata = metadata\n    this.timestamp = timestamp\n  }\n\n  toJSON () {\n    return {\n      type: this.type,\n      name: this.message,\n      timestamp: this.timestamp,\n      metaData: this.metadata\n    }\n  }\n}\n\nmodule.exports = Breadcrumb\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","module.exports = require('error-stack-parser')\n","module.exports = function (data, replacer, space, opts) {\n  var redactedKeys = opts && opts.redactedKeys ? opts.redactedKeys : []\n  var redactedPaths = opts && opts.redactedPaths ? opts.redactedPaths : []\n  return JSON.stringify(\n    prepareObjForSerialization(data, redactedKeys, redactedPaths),\n    replacer,\n    space\n  )\n}\n\nvar MAX_DEPTH = 20\nvar MAX_EDGES = 25000\nvar MIN_PRESERVED_DEPTH = 8\n\nvar REPLACEMENT_NODE = '...'\n\nfunction isError (o) {\n  return o instanceof Error ||\n    /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o))\n}\n\nfunction throwsMessage (err) {\n  return '[Throws: ' + (err ? err.message : '?') + ']'\n}\n\nfunction find (haystack, needle) {\n  for (var i = 0, len = haystack.length; i < len; i++) {\n    if (haystack[i] === needle) return true\n  }\n  return false\n}\n\n// returns true if the string `path` starts with any of the provided `paths`\nfunction isDescendent (paths, path) {\n  for (var i = 0, len = paths.length; i < len; i++) {\n    if (path.indexOf(paths[i]) === 0) return true\n  }\n  return false\n}\n\nfunction shouldRedact (patterns, key) {\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    if (typeof patterns[i] === 'string' && patterns[i].toLowerCase() === key.toLowerCase()) return true\n    if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true\n  }\n  return false\n}\n\nfunction isArray (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]'\n}\n\nfunction safelyGetProp (obj, prop) {\n  try {\n    return obj[prop]\n  } catch (err) {\n    return throwsMessage(err)\n  }\n}\n\nfunction prepareObjForSerialization (obj, redactedKeys, redactedPaths) {\n  var seen = [] // store references to objects we have seen before\n  var edges = 0\n\n  function visit (obj, path) {\n    function edgesExceeded () {\n      return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES\n    }\n\n    edges++\n\n    if (path.length > MAX_DEPTH) return REPLACEMENT_NODE\n    if (edgesExceeded()) return REPLACEMENT_NODE\n    if (obj === null || typeof obj !== 'object') return obj\n    if (find(seen, obj)) return '[Circular]'\n\n    seen.push(obj)\n\n    if (typeof obj.toJSON === 'function') {\n      try {\n        // we're not going to count this as an edge because it\n        // replaces the value of the currently visited object\n        edges--\n        var fResult = visit(obj.toJSON(), path)\n        seen.pop()\n        return fResult\n      } catch (err) {\n        return throwsMessage(err)\n      }\n    }\n\n    var er = isError(obj)\n    if (er) {\n      edges--\n      var eResult = visit({ name: obj.name, message: obj.message }, path)\n      seen.pop()\n      return eResult\n    }\n\n    if (isArray(obj)) {\n      var aResult = []\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (edgesExceeded()) {\n          aResult.push(REPLACEMENT_NODE)\n          break\n        }\n        aResult.push(visit(obj[i], path.concat('[]')))\n      }\n      seen.pop()\n      return aResult\n    }\n\n    var result = {}\n    try {\n      for (var prop in obj) {\n        if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue\n        if (isDescendent(redactedPaths, path.join('.')) && shouldRedact(redactedKeys, prop)) {\n          result[prop] = '[REDACTED]'\n          continue\n        }\n        if (edgesExceeded()) {\n          result[prop] = REPLACEMENT_NODE\n          break\n        }\n        result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop))\n      }\n    } catch (e) {}\n    seen.pop()\n    return result\n  }\n\n  return visit(obj, [])\n}\n","const map = require('./es-utils/map')\nconst filter = require('./es-utils/filter')\nconst isArray = require('./es-utils/is-array')\nconst jsonStringify = require('@bugsnag/safe-json-stringify')\n\nfunction add (existingFeatures, existingFeatureKeys, name, variant) {\n  if (typeof name !== 'string') {\n    return\n  }\n\n  if (variant === undefined) {\n    variant = null\n  } else if (variant !== null && typeof variant !== 'string') {\n    variant = jsonStringify(variant)\n  }\n\n  const existingIndex = existingFeatureKeys[name]\n  if (typeof existingIndex === 'number') {\n    existingFeatures[existingIndex] = { name, variant }\n    return\n  }\n\n  existingFeatures.push({ name, variant })\n  existingFeatureKeys[name] = existingFeatures.length - 1\n}\n\nfunction merge (existingFeatures, newFeatures, existingFeatureKeys) {\n  if (!isArray(newFeatures)) {\n    return\n  }\n\n  for (let i = 0; i < newFeatures.length; ++i) {\n    const feature = newFeatures[i]\n\n    if (feature === null || typeof feature !== 'object') {\n      continue\n    }\n\n    // 'add' will handle if 'name' doesn't exist & 'variant' is optional\n    add(existingFeatures, existingFeatureKeys, feature.name, feature.variant)\n  }\n\n  return existingFeatures\n}\n\n// convert feature flags from a map of 'name -> variant' into the format required\n// by the Bugsnag Event API:\n//   [{ featureFlag: 'name', variant: 'variant' }, { featureFlag: 'name 2' }]\nfunction toEventApi (featureFlags) {\n  return map(\n    filter(featureFlags, Boolean),\n    ({ name, variant }) => {\n      const flag = { featureFlag: name }\n\n      // don't add a 'variant' property unless there's actually a value\n      if (typeof variant === 'string') {\n        flag.variant = variant\n      }\n\n      return flag\n    }\n  )\n}\n\nfunction clear (features, featuresIndex, name) {\n  const existingIndex = featuresIndex[name]\n  if (typeof existingIndex === 'number') {\n    features[existingIndex] = null\n    delete featuresIndex[name]\n  }\n}\n\nmodule.exports = { add, clear, merge, toEventApi }\n","// Given `err` which may be an error, does it have a stack property which is a string?\nmodule.exports = err =>\n  !!err &&\n  (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) &&\n  typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' &&\n  err.stack !== `${err.name}: ${err.message}`\n","\n/**\n * Expose `isError`.\n */\n\nmodule.exports = isError;\n\n/**\n * Test whether `value` is error object.\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isError(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]': return true;\n    case '[object Exception]': return true;\n    case '[object DOMException]': return true;\n    default: return value instanceof Error;\n  }\n}\n","module.exports = require('iserror')\n","const assign = require('./es-utils/assign')\n\nconst add = (state, section, keyOrObj, maybeVal) => {\n  if (!section) return\n  let updates\n\n  // addMetadata(\"section\", null) -> clears section\n  if (keyOrObj === null) return clear(state, section)\n\n  // normalise the two supported input types into object form\n  if (typeof keyOrObj === 'object') updates = keyOrObj\n  if (typeof keyOrObj === 'string') updates = { [keyOrObj]: maybeVal }\n\n  // exit if we don't have an updates object at this point\n  if (!updates) return\n\n  // ensure a section with this name exists\n  if (!state[section]) state[section] = {}\n\n  // merge the updates with the existing section\n  state[section] = assign({}, state[section], updates)\n}\n\nconst get = (state, section, key) => {\n  if (typeof section !== 'string') return undefined\n  if (!key) {\n    return state[section]\n  }\n  if (state[section]) {\n    return state[section][key]\n  }\n  return undefined\n}\n\nconst clear = (state, section, key) => {\n  if (typeof section !== 'string') return\n\n  // clear an entire section\n  if (!key) {\n    delete state[section]\n    return\n  }\n\n  // clear a single value from a section\n  if (state[section]) {\n    delete state[section][key]\n  }\n}\n\nmodule.exports = { add, get, clear }\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize && curr['arguments']) {\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n","const ErrorStackParser = require('./lib/error-stack-parser')\nconst StackGenerator = require('stack-generator')\nconst hasStack = require('./lib/has-stack')\nconst map = require('./lib/es-utils/map')\nconst reduce = require('./lib/es-utils/reduce')\nconst filter = require('./lib/es-utils/filter')\nconst assign = require('./lib/es-utils/assign')\nconst metadataDelegate = require('./lib/metadata-delegate')\nconst featureFlagDelegate = require('./lib/feature-flag-delegate')\nconst isError = require('./lib/iserror')\n\nclass Event {\n  constructor (errorClass, errorMessage, stacktrace = [], handledState = defaultHandledState(), originalError) {\n    this.apiKey = undefined\n    this.context = undefined\n    this.groupingHash = undefined\n    this.originalError = originalError\n\n    this._handledState = handledState\n    this.severity = this._handledState.severity\n    this.unhandled = this._handledState.unhandled\n\n    this.app = {}\n    this.device = {}\n    this.request = {}\n\n    this.breadcrumbs = []\n    this.threads = []\n\n    this._metadata = {}\n    this._features = []\n    this._featuresIndex = {}\n    this._user = {}\n    this._session = undefined\n\n    this.errors = [\n      createBugsnagError(errorClass, errorMessage, Event.__type, stacktrace)\n    ]\n\n    // Flags.\n    // Note these are not initialised unless they are used\n    // to save unnecessary bytes in the browser bundle\n\n    /* this.attemptImmediateDelivery, default: true */\n  }\n\n  addMetadata (section, keyOrObj, maybeVal) {\n    return metadataDelegate.add(this._metadata, section, keyOrObj, maybeVal)\n  }\n\n  getMetadata (section, key) {\n    return metadataDelegate.get(this._metadata, section, key)\n  }\n\n  clearMetadata (section, key) {\n    return metadataDelegate.clear(this._metadata, section, key)\n  }\n\n  addFeatureFlag (name, variant = null) {\n    featureFlagDelegate.add(this._features, this._featuresIndex, name, variant)\n  }\n\n  addFeatureFlags (featureFlags) {\n    featureFlagDelegate.merge(this._features, featureFlags, this._featuresIndex)\n  }\n\n  getFeatureFlags () {\n    return featureFlagDelegate.toEventApi(this._features)\n  }\n\n  clearFeatureFlag (name) {\n    featureFlagDelegate.clear(this._features, this._featuresIndex, name)\n  }\n\n  clearFeatureFlags () {\n    this._features = []\n    this._featuresIndex = {}\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  toJSON () {\n    return {\n      payloadVersion: '4',\n      exceptions: map(this.errors, er => assign({}, er, { message: er.errorMessage })),\n      severity: this.severity,\n      unhandled: this._handledState.unhandled,\n      severityReason: this._handledState.severityReason,\n      app: this.app,\n      device: this.device,\n      request: this.request,\n      breadcrumbs: this.breadcrumbs,\n      context: this.context,\n      groupingHash: this.groupingHash,\n      metaData: this._metadata,\n      user: this._user,\n      session: this._session,\n      featureFlags: this.getFeatureFlags()\n    }\n  }\n}\n\n// takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n// and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\nconst formatStackframe = frame => {\n  const f = {\n    file: frame.fileName,\n    method: normaliseFunctionName(frame.functionName),\n    lineNumber: frame.lineNumber,\n    columnNumber: frame.columnNumber,\n    code: undefined,\n    inProject: undefined\n  }\n  // Some instances result in no file:\n  // - calling notify() from chrome's terminal results in no file/method.\n  // - non-error exception thrown from global code in FF\n  // This adds one.\n  if (f.lineNumber > -1 && !f.file && !f.method) {\n    f.file = 'global code'\n  }\n  return f\n}\n\nconst normaliseFunctionName = name => /^global code$/i.test(name) ? 'global code' : name\n\nconst defaultHandledState = () => ({\n  unhandled: false,\n  severity: 'warning',\n  severityReason: { type: 'handledException' }\n})\n\nconst ensureString = (str) => typeof str === 'string' ? str : ''\n\nfunction createBugsnagError (errorClass, errorMessage, type, stacktrace) {\n  return {\n    errorClass: ensureString(errorClass),\n    errorMessage: ensureString(errorMessage),\n    type,\n    stacktrace: reduce(stacktrace, (accum, frame) => {\n      const f = formatStackframe(frame)\n      // don't include a stackframe if none of its properties are defined\n      try {\n        if (JSON.stringify(f) === '{}') return accum\n        return accum.concat(f)\n      } catch (e) {\n        return accum\n      }\n    }, [])\n  }\n}\n\nfunction getCauseStack (error) {\n  if (error.cause) {\n    return [error, ...getCauseStack(error.cause)]\n  } else {\n    return [error]\n  }\n}\n\n// Helpers\n\nEvent.getStacktrace = function (error, errorFramesToSkip, backtraceFramesToSkip) {\n  if (hasStack(error)) return ErrorStackParser.parse(error).slice(errorFramesToSkip)\n  // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n  try {\n    return filter(StackGenerator.backtrace(), frame =>\n      (frame.functionName || '').indexOf('StackGenerator$$') === -1\n    ).slice(1 + backtraceFramesToSkip)\n  } catch (e) {\n    return []\n  }\n}\n\nEvent.create = function (maybeError, tolerateNonErrors, handledState, component, errorFramesToSkip = 0, logger) {\n  const [error, internalFrames] = normaliseError(maybeError, tolerateNonErrors, component, logger)\n  let event\n  try {\n    const stacktrace = Event.getStacktrace(\n      error,\n      // if an error was created/throw in the normaliseError() function, we need to\n      // tell the getStacktrace() function to skip the number of frames we know will\n      // be from our own functions. This is added to the number of frames deep we\n      // were told about\n      internalFrames > 0 ? 1 + internalFrames + errorFramesToSkip : 0,\n      // if there's no stacktrace, the callstack may be walked to generated one.\n      // this is how many frames should be removed because they come from our library\n      1 + errorFramesToSkip\n    )\n    event = new Event(error.name, error.message, stacktrace, handledState, maybeError)\n  } catch (e) {\n    event = new Event(error.name, error.message, [], handledState, maybeError)\n  }\n  if (error.name === 'InvalidError') {\n    event.addMetadata(`${component}`, 'non-error parameter', makeSerialisable(maybeError))\n  }\n  if (error.cause) {\n    const causes = getCauseStack(error).slice(1)\n    const normalisedCauses = map(causes, (cause) => {\n      // Only get stacktrace for error causes that are a valid JS Error and already have a stack\n      const stacktrace = (isError(cause) && hasStack(cause)) ? ErrorStackParser.parse(cause) : []\n      const [error] = normaliseError(cause, true, 'error cause')\n      if (error.name === 'InvalidError') event.addMetadata('error cause', makeSerialisable(cause))\n      return createBugsnagError(error.name, error.message, Event.__type, stacktrace)\n    })\n\n    event.errors.push(...normalisedCauses)\n  }\n\n  return event\n}\n\nconst makeSerialisable = (err) => {\n  if (err === null) return 'null'\n  if (err === undefined) return 'undefined'\n  return err\n}\n\nconst normaliseError = (maybeError, tolerateNonErrors, component, logger) => {\n  let error\n  let internalFrames = 0\n\n  const createAndLogInputError = (reason) => {\n    const verb = (component === 'error cause' ? 'was' : 'received')\n    if (logger) logger.warn(`${component} ${verb} a non-error: \"${reason}\"`)\n    const err = new Error(`${component} ${verb} a non-error. See \"${component}\" tab for more detail.`)\n    err.name = 'InvalidError'\n    return err\n  }\n\n  // In some cases:\n  //\n  //  - the promise rejection handler (both in the browser and node)\n  //  - the node uncaughtException handler\n  //\n  // We are really limited in what we can do to get a stacktrace. So we use the\n  // tolerateNonErrors option to ensure that the resulting error communicates as\n  // such.\n  if (!tolerateNonErrors) {\n    if (isError(maybeError)) {\n      error = maybeError\n    } else {\n      error = createAndLogInputError(typeof maybeError)\n      internalFrames += 2\n    }\n  } else {\n    switch (typeof maybeError) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n        error = new Error(String(maybeError))\n        internalFrames += 1\n        break\n      case 'function':\n        error = createAndLogInputError('function')\n        internalFrames += 2\n        break\n      case 'object':\n        if (maybeError !== null && isError(maybeError)) {\n          error = maybeError\n        } else if (maybeError !== null && hasNecessaryFields(maybeError)) {\n          error = new Error(maybeError.message || maybeError.errorMessage)\n          error.name = maybeError.name || maybeError.errorClass\n          internalFrames += 1\n        } else {\n          error = createAndLogInputError(maybeError === null ? 'null' : 'unsupported object')\n          internalFrames += 2\n        }\n        break\n      default:\n        error = createAndLogInputError('nothing')\n        internalFrames += 2\n    }\n  }\n\n  if (!hasStack(error)) {\n    // in IE10/11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n    try {\n      throw error\n    } catch (e) {\n      if (hasStack(e)) {\n        error = e\n        // if the error only got a stacktrace after we threw it here, we know it\n        // will only have one extra internal frame from this function, regardless\n        // of whether it went through createAndLogInputError() or not\n        internalFrames = 1\n      }\n    }\n  }\n\n  return [error, internalFrames]\n}\n\n// default value for stacktrace.type\nEvent.__type = 'browserjs'\n\nconst hasNecessaryFields = error =>\n  (typeof error.name === 'string' || typeof error.errorClass === 'string') &&\n  (typeof error.message === 'string' || typeof error.errorMessage === 'string')\n\nmodule.exports = Event\n","// This is a heavily modified/simplified version of\n//   https://github.com/othiym23/async-some\n// with the logic flipped so that it is akin to the\n// synchronous \"every\" method instead of \"some\".\n\n// run the asynchronous test function (fn) over each item in the array (arr)\n// in series until:\n//   - fn(item, cb) => calls cb(null, false)\n//   - or the end of the array is reached\n// the callback (cb) will be passed (null, false) if any of the items in arr\n// caused fn to call back with false, otherwise it will be passed (null, true)\nmodule.exports = (arr, fn, cb) => {\n  let index = 0\n\n  const next = () => {\n    if (index >= arr.length) return cb(null, true)\n    fn(arr[index], (err, result) => {\n      if (err) return cb(err)\n      if (result === false) return cb(null, false)\n      index++\n      next()\n    })\n  }\n\n  next()\n}\n","const some = require('./async-every')\n\nmodule.exports = (callbacks, event, onCallbackError, cb) => {\n  // This function is how we support different kinds of callback:\n  //  - synchronous - return value\n  //  - node-style async with callback - cb(err, value)\n  //  - promise/thenable - resolve(value)\n  // It normalises each of these into the lowest common denominator â€“ a node-style callback\n  const runMaybeAsyncCallback = (fn, cb) => {\n    if (typeof fn !== 'function') return cb(null)\n    try {\n      // if function appears syncâ€¦\n      if (fn.length !== 2) {\n        const ret = fn(event)\n        // check if it returned a \"thenable\" (promise)\n        if (ret && typeof ret.then === 'function') {\n          return ret.then(\n            // resolve\n            val => setTimeout(() => cb(null, val)),\n            // reject\n            err => {\n              setTimeout(() => {\n                onCallbackError(err)\n                return cb(null, true)\n              })\n            }\n          )\n        }\n        return cb(null, ret)\n      }\n      // if function is asyncâ€¦\n      fn(event, (err, result) => {\n        if (err) {\n          onCallbackError(err)\n          return cb(null)\n        }\n        cb(null, result)\n      })\n    } catch (e) {\n      onCallbackError(e)\n      cb(null)\n    }\n  }\n\n  some(callbacks, runMaybeAsyncCallback, cb)\n}\n","module.exports = (callbacks, callbackArg, callbackType, logger) => {\n  let ignore = false\n  const cbs = callbacks.slice()\n  while (!ignore) {\n    if (!cbs.length) break\n    try {\n      ignore = cbs.pop()(callbackArg) === false\n    } catch (e) {\n      logger.error(`Error occurred in ${callbackType} callback, continuing anywayâ€¦`)\n      logger.error(e)\n    }\n  }\n  return ignore\n}\n","module.exports = function pad (num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n","var pad = require('./pad.js');\n\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = 0;\nfor (var prop in env) {\n  if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n}\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = pad((mimeTypesLength +\n  navigator.userAgent.length).toString(36) +\n  globalCount.toString(36), 4);\n\nmodule.exports = function fingerprint () {\n  return clientId;\n};\n","/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\nvar fingerprint = require('./lib/fingerprint.js');\nvar pad = require('./lib/pad.js');\n\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\n\nfunction randomBlock () {\n  return pad((Math.random() *\n    discreteValues << 0)\n    .toString(base), blockSize);\n}\n\nfunction safeCounter () {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\n\nfunction cuid () {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c', // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = (new Date().getTime()).toString(base),\n\n    // Prevent same-machine collisions.\n    counter = pad(safeCounter().toString(base), blockSize),\n\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = fingerprint(),\n\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n\n  return letter + timestamp + counter + print + random;\n}\n\ncuid.fingerprint = fingerprint;\n\nmodule.exports = cuid;\n","const cuid = require('@bugsnag/cuid')\n\nclass Session {\n  constructor () {\n    this.id = cuid()\n    this.startedAt = new Date()\n    this._handled = 0\n    this._unhandled = 0\n    this._user = {}\n    this.app = {}\n    this.device = {}\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  toJSON () {\n    return {\n      id: this.id,\n      startedAt: this.startedAt,\n      events: { handled: this._handled, unhandled: this._unhandled }\n    }\n  }\n\n  _track (event) {\n    this[event._handledState.unhandled ? '_unhandled' : '_handled'] += 1\n  }\n}\n\nmodule.exports = Session\n","const config = require('./config')\nconst Event = require('./event')\nconst Breadcrumb = require('./breadcrumb')\nconst Session = require('./session')\nconst map = require('./lib/es-utils/map')\nconst includes = require('./lib/es-utils/includes')\nconst filter = require('./lib/es-utils/filter')\nconst reduce = require('./lib/es-utils/reduce')\nconst keys = require('./lib/es-utils/keys')\nconst assign = require('./lib/es-utils/assign')\nconst runCallbacks = require('./lib/callback-runner')\nconst metadataDelegate = require('./lib/metadata-delegate')\nconst runSyncCallbacks = require('./lib/sync-callback-runner')\nconst BREADCRUMB_TYPES = require('./lib/breadcrumb-types')\nconst { add, clear, merge } = require('./lib/feature-flag-delegate')\n\nconst noop = () => {}\n\nclass Client {\n  constructor (configuration, schema = config.schema, internalPlugins = [], notifier) {\n    // notifier id\n    this._notifier = notifier\n\n    // intialise opts and config\n    this._config = {}\n    this._schema = schema\n\n    // i/o\n    this._delivery = { sendSession: noop, sendEvent: noop }\n    this._logger = { debug: noop, info: noop, warn: noop, error: noop }\n\n    // plugins\n    this._plugins = {}\n\n    // state\n    this._breadcrumbs = []\n    this._session = null\n    this._metadata = {}\n    this._featuresIndex = {}\n    this._features = []\n    this._context = undefined\n    this._user = {}\n\n    // callbacks:\n    //  e: onError\n    //  s: onSession\n    //  sp: onSessionPayload\n    //  b: onBreadcrumb\n    // (note these names are minified by hand because object\n    // properties are not safe to minify automatically)\n    this._cbs = {\n      e: [],\n      s: [],\n      sp: [],\n      b: []\n    }\n\n    // expose internal constructors\n    this.Client = Client\n    this.Event = Event\n    this.Breadcrumb = Breadcrumb\n    this.Session = Session\n\n    this._config = this._configure(configuration, internalPlugins)\n    map(internalPlugins.concat(this._config.plugins), pl => {\n      if (pl) this._loadPlugin(pl)\n    })\n\n    // when notify() is called we need to know how many frames are from our own source\n    // this inital value is 1 not 0 because we wrap notify() to ensure it is always\n    // bound to have the client as its `this` value â€“ see below.\n    this._depth = 1\n\n    const self = this\n    const notify = this.notify\n    this.notify = function () {\n      return notify.apply(self, arguments)\n    }\n  }\n\n  addMetadata (section, keyOrObj, maybeVal) {\n    return metadataDelegate.add(this._metadata, section, keyOrObj, maybeVal)\n  }\n\n  getMetadata (section, key) {\n    return metadataDelegate.get(this._metadata, section, key)\n  }\n\n  clearMetadata (section, key) {\n    return metadataDelegate.clear(this._metadata, section, key)\n  }\n\n  addFeatureFlag (name, variant = null) {\n    add(this._features, this._featuresIndex, name, variant)\n  }\n\n  addFeatureFlags (featureFlags) {\n    merge(this._features, featureFlags, this._featuresIndex)\n  }\n\n  clearFeatureFlag (name) {\n    clear(this._features, this._featuresIndex, name)\n  }\n\n  clearFeatureFlags () {\n    this._features = []\n    this._featuresIndex = {}\n  }\n\n  getContext () {\n    return this._context\n  }\n\n  setContext (c) {\n    this._context = c\n  }\n\n  _configure (opts, internalPlugins) {\n    const schema = reduce(internalPlugins, (schema, plugin) => {\n      if (plugin && plugin.configSchema) return assign({}, schema, plugin.configSchema)\n      return schema\n    }, this._schema)\n\n    // accumulate configuration and error messages\n    const { errors, config } = reduce(keys(schema), (accum, key) => {\n      const defaultValue = schema[key].defaultValue(opts[key])\n\n      if (opts[key] !== undefined) {\n        const valid = schema[key].validate(opts[key])\n        if (!valid) {\n          accum.errors[key] = schema[key].message\n          accum.config[key] = defaultValue\n        } else {\n          if (schema[key].allowPartialObject) {\n            accum.config[key] = assign(defaultValue, opts[key])\n          } else {\n            accum.config[key] = opts[key]\n          }\n        }\n      } else {\n        accum.config[key] = defaultValue\n      }\n\n      return accum\n    }, { errors: {}, config: {} })\n\n    if (schema.apiKey) {\n      // missing api key is the only fatal error\n      if (!config.apiKey) throw new Error('No Bugsnag API Key set')\n      // warn about an apikey that is not of the expected format\n      if (!/^[0-9a-f]{32}$/i.test(config.apiKey)) errors.apiKey = 'should be a string of 32 hexadecimal characters'\n    }\n\n    // update and elevate some options\n    this._metadata = assign({}, config.metadata)\n    merge(this._features, config.featureFlags, this._featuresIndex)\n    this._user = assign({}, config.user)\n    this._context = config.context\n    if (config.logger) this._logger = config.logger\n\n    // add callbacks\n    if (config.onError) this._cbs.e = this._cbs.e.concat(config.onError)\n    if (config.onBreadcrumb) this._cbs.b = this._cbs.b.concat(config.onBreadcrumb)\n    if (config.onSession) this._cbs.s = this._cbs.s.concat(config.onSession)\n\n    // finally warn about any invalid config where we fell back to the default\n    if (keys(errors).length) {\n      this._logger.warn(generateConfigErrorMessage(errors, opts))\n    }\n\n    return config\n  }\n\n  getUser () {\n    return this._user\n  }\n\n  setUser (id, email, name) {\n    this._user = { id, email, name }\n  }\n\n  _loadPlugin (plugin) {\n    const result = plugin.load(this)\n    // JS objects are not the safest way to store arbitrarily keyed values,\n    // so bookend the key with some characters that prevent tampering with\n    // stuff like __proto__ etc. (only store the result if the plugin had a\n    // name)\n    if (plugin.name) this._plugins[`~${plugin.name}~`] = result\n    return this\n  }\n\n  getPlugin (name) {\n    return this._plugins[`~${name}~`]\n  }\n\n  _setDelivery (d) {\n    this._delivery = d(this)\n  }\n\n  startSession () {\n    const session = new Session()\n\n    session.app.releaseStage = this._config.releaseStage\n    session.app.version = this._config.appVersion\n    session.app.type = this._config.appType\n\n    session._user = assign({}, this._user)\n\n    // run onSession callbacks\n    const ignore = runSyncCallbacks(this._cbs.s, session, 'onSession', this._logger)\n\n    if (ignore) {\n      this._logger.debug('Session not started due to onSession callback')\n      return this\n    }\n    return this._sessionDelegate.startSession(this, session)\n  }\n\n  addOnError (fn, front = false) {\n    this._cbs.e[front ? 'unshift' : 'push'](fn)\n  }\n\n  removeOnError (fn) {\n    this._cbs.e = filter(this._cbs.e, f => f !== fn)\n  }\n\n  _addOnSessionPayload (fn) {\n    this._cbs.sp.push(fn)\n  }\n\n  addOnSession (fn) {\n    this._cbs.s.push(fn)\n  }\n\n  removeOnSession (fn) {\n    this._cbs.s = filter(this._cbs.s, f => f !== fn)\n  }\n\n  addOnBreadcrumb (fn, front = false) {\n    this._cbs.b[front ? 'unshift' : 'push'](fn)\n  }\n\n  removeOnBreadcrumb (fn) {\n    this._cbs.b = filter(this._cbs.b, f => f !== fn)\n  }\n\n  pauseSession () {\n    return this._sessionDelegate.pauseSession(this)\n  }\n\n  resumeSession () {\n    return this._sessionDelegate.resumeSession(this)\n  }\n\n  leaveBreadcrumb (message, metadata, type) {\n    // coerce bad values so that the defaults get set\n    message = typeof message === 'string' ? message : ''\n    type = (typeof type === 'string' && includes(BREADCRUMB_TYPES, type)) ? type : 'manual'\n    metadata = typeof metadata === 'object' && metadata !== null ? metadata : {}\n\n    // if no message, discard\n    if (!message) return\n\n    const crumb = new Breadcrumb(message, metadata, type)\n\n    // run onBreadcrumb callbacks\n    const ignore = runSyncCallbacks(this._cbs.b, crumb, 'onBreadcrumb', this._logger)\n\n    if (ignore) {\n      this._logger.debug('Breadcrumb not attached due to onBreadcrumb callback')\n      return\n    }\n\n    // push the valid crumb onto the queue and maintain the length\n    this._breadcrumbs.push(crumb)\n    if (this._breadcrumbs.length > this._config.maxBreadcrumbs) {\n      this._breadcrumbs = this._breadcrumbs.slice(this._breadcrumbs.length - this._config.maxBreadcrumbs)\n    }\n  }\n\n  _isBreadcrumbTypeEnabled (type) {\n    const types = this._config.enabledBreadcrumbTypes\n\n    return types === null || includes(types, type)\n  }\n\n  notify (maybeError, onError, postReportCallback = noop) {\n    const event = Event.create(maybeError, true, undefined, 'notify()', this._depth + 1, this._logger)\n    this._notify(event, onError, postReportCallback)\n  }\n\n  _notify (event, onError, postReportCallback = noop) {\n    event.app = assign({}, event.app, {\n      releaseStage: this._config.releaseStage,\n      version: this._config.appVersion,\n      type: this._config.appType\n    })\n    event.context = event.context || this._context\n    event._metadata = assign({}, event._metadata, this._metadata)\n    event._user = assign({}, event._user, this._user)\n    event.breadcrumbs = this._breadcrumbs.slice()\n    merge(event._features, this._features, event._featuresIndex)\n\n    // exit early if events should not be sent on the current releaseStage\n    if (this._config.enabledReleaseStages !== null && !includes(this._config.enabledReleaseStages, this._config.releaseStage)) {\n      this._logger.warn('Event not sent due to releaseStage/enabledReleaseStages configuration')\n      return postReportCallback(null, event)\n    }\n\n    const originalSeverity = event.severity\n\n    const onCallbackError = err => {\n      // errors in callbacks are tolerated but we want to log them out\n      this._logger.error('Error occurred in onError callback, continuing anywayâ€¦')\n      this._logger.error(err)\n    }\n\n    const callbacks = [].concat(this._cbs.e).concat(onError)\n    runCallbacks(callbacks, event, onCallbackError, (err, shouldSend) => {\n      if (err) onCallbackError(err)\n\n      if (!shouldSend) {\n        this._logger.debug('Event not sent due to onError callback')\n        return postReportCallback(null, event)\n      }\n\n      if (this._isBreadcrumbTypeEnabled('error')) {\n        // only leave a crumb for the error if actually got sent\n        Client.prototype.leaveBreadcrumb.call(this, event.errors[0].errorClass, {\n          errorClass: event.errors[0].errorClass,\n          errorMessage: event.errors[0].errorMessage,\n          severity: event.severity\n        }, 'error')\n      }\n\n      if (originalSeverity !== event.severity) {\n        event._handledState.severityReason = { type: 'userCallbackSetSeverity' }\n      }\n\n      if (event.unhandled !== event._handledState.unhandled) {\n        event._handledState.severityReason.unhandledOverridden = true\n        event._handledState.unhandled = event.unhandled\n      }\n\n      if (this._session) {\n        this._session._track(event)\n        event._session = this._session\n      }\n\n      this._delivery.sendEvent({\n        apiKey: event.apiKey || this._config.apiKey,\n        notifier: this._notifier,\n        events: [event]\n      }, (err) => postReportCallback(err, event))\n    })\n  }\n}\n\nconst generateConfigErrorMessage = (errors, rawInput) => {\n  const er = new Error(\n  `Invalid configuration\\n${map(keys(errors), key => `  - ${key} ${errors[key]}, got ${stringify(rawInput[key])}`).join('\\n\\n')}`)\n  return er\n}\n\nconst stringify = val => {\n  switch (typeof val) {\n    case 'string':\n    case 'number':\n    case 'object':\n      return JSON.stringify(val)\n    default: return String(val)\n  }\n}\n\nmodule.exports = Client\n","const jsonStringify = require('@bugsnag/safe-json-stringify')\nconst EVENT_REDACTION_PATHS = [\n  'events.[].metaData',\n  'events.[].breadcrumbs.[].metaData',\n  'events.[].request'\n]\n\nmodule.exports.event = (event, redactedKeys) => {\n  let payload = jsonStringify(event, null, null, { redactedPaths: EVENT_REDACTION_PATHS, redactedKeys })\n  if (payload.length > 10e5) {\n    event.events[0]._metadata = {\n      notifier:\n`WARNING!\nSerialized payload was ${payload.length / 10e5}MB (limit = 1MB)\nmetadata was removed`\n    }\n    payload = jsonStringify(event, null, null, { redactedPaths: EVENT_REDACTION_PATHS, redactedKeys })\n  }\n  return payload\n}\n\nmodule.exports.session = (session, redactedKeys) => {\n  const payload = jsonStringify(session, null, null)\n  return payload\n}\n","const payload = require('@bugsnag/core/lib/json-payload')\n\nmodule.exports = (client, win = window) => ({\n  sendEvent: (event, cb = () => {}) => {\n    const url = getApiUrl(client._config, 'notify', '4', win)\n    const body = payload.event(event, client._config.redactedKeys)\n\n    const req = new win.XDomainRequest()\n    req.onload = function () {\n      cb(null)\n    }\n    req.onerror = function () {\n      const err = new Error('Event failed to send')\n      client._logger.error('Event failed to sendâ€¦', err)\n      if (body.length > 10e5) {\n        client._logger.warn(`Event oversized (${(body.length / 10e5).toFixed(2)} MB)`)\n      }\n      cb(err)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(body)\n      } catch (e) {\n        client._logger.error(e)\n        cb(e)\n      }\n    }, 0)\n  },\n  sendSession: (session, cb = () => {}) => {\n    const url = getApiUrl(client._config, 'sessions', '1', win)\n    const req = new win.XDomainRequest()\n    req.onload = function () {\n      cb(null)\n    }\n    req.open('POST', url)\n    setTimeout(() => {\n      try {\n        req.send(payload.session(session, client._config.redactedKeys))\n      } catch (e) {\n        client._logger.error(e)\n        cb(e)\n      }\n    }, 0)\n  }\n})\n\nconst getApiUrl = (config, endpoint, version, win) => {\n  // IE8 doesn't support Date.prototype.toISOstring(), but it does convert a date\n  // to an ISO string when you use JSON stringify. Simply parsing the result of\n  // JSON.stringify is smaller than using a toISOstring() polyfill.\n  const isoDate = JSON.parse(JSON.stringify(new Date()))\n  const url = matchPageProtocol(config.endpoints[endpoint], win.location.protocol)\n  return `${url}?apiKey=${encodeURIComponent(config.apiKey)}&payloadVersion=${version}&sentAt=${encodeURIComponent(isoDate)}`\n}\n\nconst matchPageProtocol = module.exports._matchPageProtocol = (endpoint, pageProtocol) =>\n  pageProtocol === 'http:'\n    ? endpoint.replace(/^https:/, 'http:')\n    : endpoint\n","const payload = require('@bugsnag/core/lib/json-payload')\n\nmodule.exports = (client, win = window) => ({\n  sendEvent: (event, cb = () => {}) => {\n    try {\n      const url = client._config.endpoints.notify\n      const req = new win.XMLHttpRequest()\n      const body = payload.event(event, client._config.redactedKeys)\n\n      req.onreadystatechange = function () {\n        if (req.readyState === win.XMLHttpRequest.DONE) {\n          const status = req.status\n          if (status === 0 || status >= 400) {\n            const err = new Error(`Request failed with status ${status}`)\n            client._logger.error('Event failed to sendâ€¦', err)\n            if (body.length > 10e5) {\n              client._logger.warn(`Event oversized (${(body.length / 10e5).toFixed(2)} MB)`)\n            }\n            cb(err)\n          } else {\n            cb(null)\n          }\n        }\n      }\n\n      req.open('POST', url)\n      req.setRequestHeader('Content-Type', 'application/json')\n      req.setRequestHeader('Bugsnag-Api-Key', event.apiKey || client._config.apiKey)\n      req.setRequestHeader('Bugsnag-Payload-Version', '4')\n      req.setRequestHeader('Bugsnag-Sent-At', (new Date()).toISOString())\n      req.send(body)\n    } catch (e) {\n      client._logger.error(e)\n    }\n  },\n  sendSession: (session, cb = () => {}) => {\n    try {\n      const url = client._config.endpoints.sessions\n      const req = new win.XMLHttpRequest()\n\n      req.onreadystatechange = function () {\n        if (req.readyState === win.XMLHttpRequest.DONE) {\n          const status = req.status\n          if (status === 0 || status >= 400) {\n            const err = new Error(`Request failed with status ${status}`)\n            client._logger.error('Session failed to sendâ€¦', err)\n            cb(err)\n          } else {\n            cb(null)\n          }\n        }\n      }\n\n      req.open('POST', url)\n      req.setRequestHeader('Content-Type', 'application/json')\n      req.setRequestHeader('Bugsnag-Api-Key', client._config.apiKey)\n      req.setRequestHeader('Bugsnag-Payload-Version', '1')\n      req.setRequestHeader('Bugsnag-Sent-At', (new Date()).toISOString())\n      req.send(payload.session(session, client._config.redactedKeys))\n    } catch (e) {\n      client._logger.error(e)\n    }\n  }\n})\n","let appStart = new Date()\nconst reset = () => { appStart = new Date() }\n\nmodule.exports = {\n  name: 'appDuration',\n  load: client => {\n    client.addOnError(event => {\n      const now = new Date()\n\n      event.app.duration = now - appStart\n    }, true)\n\n    return { reset }\n  }\n}\n","/*\n * Sets the default context to be the current URL\n */\nmodule.exports = (win = window) => ({\n  load: (client) => {\n    client.addOnError(event => {\n      if (event.context !== undefined) return\n      event.context = win.location.pathname\n    }, true)\n  }\n})\n","const assign = require('@bugsnag/core/lib/es-utils/assign')\nconst BUGSNAG_ANONYMOUS_ID_KEY = 'bugsnag-anonymous-id'\n\nconst getDeviceId = (win) => {\n  try {\n    const storage = win.localStorage\n\n    let id = storage.getItem(BUGSNAG_ANONYMOUS_ID_KEY)\n\n    // If we get an ID, make sure it looks like a valid cuid. The length can\n    // fluctuate slightly, so some leeway is built in\n    if (id && /^c[a-z0-9]{20,32}$/.test(id)) {\n      return id\n    }\n\n    const cuid = require('@bugsnag/cuid')\n    id = cuid()\n\n    storage.setItem(BUGSNAG_ANONYMOUS_ID_KEY, id)\n\n    return id\n  } catch (err) {\n    // If localStorage is not available (e.g. because it's disabled) then give up\n  }\n}\n\n/*\n * Automatically detects browser device details\n */\nmodule.exports = (nav = navigator, win = window) => ({\n  load: (client) => {\n    const device = {\n      locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n      userAgent: nav.userAgent\n    }\n\n    if (win && win.screen && win.screen.orientation && win.screen.orientation.type) {\n      device.orientation = win.screen.orientation.type\n    } else if (win && win.document) {\n      device.orientation =\n        win.document.documentElement.clientWidth > win.document.documentElement.clientHeight\n          ? 'landscape'\n          : 'portrait'\n    }\n\n    if (client._config.generateAnonymousId) {\n      device.id = getDeviceId(win)\n    }\n\n    client.addOnSession(session => {\n      session.device = assign({}, session.device, device)\n      // only set device id if collectUserIp is false\n      if (!client._config.collectUserIp) setDefaultUserId(session)\n    })\n\n    // add time just as the event is sent\n    client.addOnError((event) => {\n      event.device = assign({},\n        event.device,\n        device,\n        { time: new Date() }\n      )\n      if (!client._config.collectUserIp) setDefaultUserId(event)\n    }, true)\n  },\n  configSchema: {\n    generateAnonymousId: {\n      validate: value => value === true || value === false,\n      defaultValue: () => true,\n      message: 'should be true|false'\n    }\n  }\n})\n\nconst setDefaultUserId = (eventOrSession) => {\n  // device id is also used to populate the user id field, if it's not already set\n  const user = eventOrSession.getUser()\n  if (!user || !user.id) {\n    eventOrSession.setUser(eventOrSession.device.id)\n  }\n}\n","const assign = require('@bugsnag/core/lib/es-utils/assign')\n\n/*\n * Sets the event request: { url } to be the current href\n */\nmodule.exports = (win = window) => ({\n  load: (client) => {\n    client.addOnError(event => {\n      if (event.request && event.request.url) return\n      event.request = assign({}, event.request, { url: win.location.href })\n    }, true)\n  }\n})\n","const includes = require('@bugsnag/core/lib/es-utils/includes')\n\nmodule.exports = {\n  load: client => { client._sessionDelegate = sessionDelegate }\n}\n\nconst sessionDelegate = {\n  startSession: (client, session) => {\n    const sessionClient = client\n    sessionClient._session = session\n    sessionClient._pausedSession = null\n\n    // exit early if the current releaseStage is not enabled\n    if (sessionClient._config.enabledReleaseStages !== null && !includes(sessionClient._config.enabledReleaseStages, sessionClient._config.releaseStage)) {\n      sessionClient._logger.warn('Session not sent due to releaseStage/enabledReleaseStages configuration')\n      return sessionClient\n    }\n\n    sessionClient._delivery.sendSession({\n      notifier: sessionClient._notifier,\n      device: session.device,\n      app: session.app,\n      sessions: [\n        {\n          id: session.id,\n          startedAt: session.startedAt,\n          user: session._user\n        }\n      ]\n    })\n    return sessionClient\n  },\n  resumeSession: (client) => {\n    // Do nothing if there's already an active session\n    if (client._session) {\n      return client\n    }\n\n    // If we have a paused session then make it the active session\n    if (client._pausedSession) {\n      client._session = client._pausedSession\n      client._pausedSession = null\n\n      return client\n    }\n\n    // Otherwise start a new session\n    return client.startSession()\n  },\n  pauseSession: (client) => {\n    client._pausedSession = client._session\n    client._session = null\n  }\n}\n","const assign = require('@bugsnag/core/lib/es-utils/assign')\n\n/*\n * Prevent collection of user IPs\n */\nmodule.exports = {\n  load: (client) => {\n    if (client._config.collectUserIp) return\n\n    client.addOnError(event => {\n      // If user.id is explicitly undefined, it will be missing from the payload. It needs\n      // removing so that the following line replaces it\n      if (event._user && typeof event._user.id === 'undefined') delete event._user.id\n      event._user = assign({ id: '[REDACTED]' }, event._user)\n      event.request = assign({ clientIp: '[REDACTED]' }, event.request)\n    })\n  },\n  configSchema: {\n    collectUserIp: {\n      defaultValue: () => true,\n      message: 'should be true|false',\n      validate: value => value === true || value === false\n    }\n  }\n}\n","const map = require('@bugsnag/core/lib/es-utils/map')\nconst reduce = require('@bugsnag/core/lib/es-utils/reduce')\nconst filter = require('@bugsnag/core/lib/es-utils/filter')\n\n/*\n * Leaves breadcrumbs when console log methods are called\n */\nexports.load = (client) => {\n  const isDev = /^(local-)?dev(elopment)?$/.test(client._config.releaseStage)\n\n  if (isDev || !client._isBreadcrumbTypeEnabled('log')) return\n\n  map(CONSOLE_LOG_METHODS, method => {\n    const original = console[method]\n    console[method] = (...args) => {\n      client.leaveBreadcrumb('Console output', reduce(args, (accum, arg, i) => {\n        // do the best/simplest stringification of each argument\n        let stringified = '[Unknown value]'\n        // this may fail if the input is:\n        // - an object whose [[Prototype]] is null (no toString)\n        // - an object with a broken toString or @@toPrimitive implementation\n        try { stringified = String(arg) } catch (e) {}\n        // if it stringifies to [object Object] attempt to JSON stringify\n        if (stringified === '[object Object]') {\n          // catch stringify errors and fallback to [object Object]\n          try { stringified = JSON.stringify(arg) } catch (e) {}\n        }\n        accum[`[${i}]`] = stringified\n        return accum\n      }, {\n        severity: method.indexOf('group') === 0 ? 'log' : method\n      }), 'log')\n      original.apply(console, args)\n    }\n    console[method]._restore = () => { console[method] = original }\n  })\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = () => CONSOLE_LOG_METHODS.forEach(method => {\n    if (typeof console[method]._restore === 'function') console[method]._restore()\n  })\n}\n\nconst CONSOLE_LOG_METHODS = filter(['log', 'debug', 'info', 'warn', 'error'], method =>\n  typeof console !== 'undefined' && typeof console[method] === 'function'\n)\n","const map = require('@bugsnag/core/lib/es-utils/map')\nconst reduce = require('@bugsnag/core/lib/es-utils/reduce')\nconst filter = require('@bugsnag/core/lib/es-utils/filter')\n\nconst MAX_LINE_LENGTH = 200\nconst MAX_SCRIPT_LENGTH = 500000\n\nmodule.exports = (doc = document, win = window) => ({\n  load: (client) => {\n    if (!client._config.trackInlineScripts) return\n\n    const originalLocation = win.location.href\n    let html = ''\n\n    // in IE8-10 the 'interactive' state can fire too soon (before scripts have finished executing), so in those\n    // we wait for the 'complete' state before assuming that synchronous scripts are no longer executing\n    const isOldIe = !!doc.attachEvent\n    let DOMContentLoaded = isOldIe ? doc.readyState === 'complete' : doc.readyState !== 'loading'\n    const getHtml = () => doc.documentElement.outerHTML\n\n    // get whatever HTML exists at this point in time\n    html = getHtml()\n    const prev = doc.onreadystatechange\n    // then update it when the DOM content has loaded\n    doc.onreadystatechange = function () {\n      // IE8 compatible alternative to document#DOMContentLoaded\n      if (doc.readyState === 'interactive') {\n        html = getHtml()\n        DOMContentLoaded = true\n      }\n      try { prev.apply(this, arguments) } catch (e) {}\n    }\n\n    let _lastScript = null\n    const updateLastScript = script => {\n      _lastScript = script\n    }\n\n    const getCurrentScript = () => {\n      let script = doc.currentScript || _lastScript\n      if (!script && !DOMContentLoaded) {\n        const scripts = doc.scripts || doc.getElementsByTagName('script')\n        script = scripts[scripts.length - 1]\n      }\n      return script\n    }\n\n    const addSurroundingCode = lineNumber => {\n      // get whatever html has rendered at this point\n      if (!DOMContentLoaded || !html) html = getHtml()\n      // simulate the raw html\n      const htmlLines = ['<!-- DOC START -->'].concat(html.split('\\n'))\n      const zeroBasedLine = lineNumber - 1\n      const start = Math.max(zeroBasedLine - 3, 0)\n      const end = Math.min(zeroBasedLine + 3, htmlLines.length)\n      return reduce(htmlLines.slice(start, end), (accum, line, i) => {\n        accum[start + 1 + i] = line.length <= MAX_LINE_LENGTH ? line : line.substr(0, MAX_LINE_LENGTH)\n        return accum\n      }, {})\n    }\n\n    client.addOnError(event => {\n      // remove any of our own frames that may be part the stack this\n      // happens before the inline script check as it happens for all errors\n      event.errors[0].stacktrace = filter(event.errors[0].stacktrace, f => !(/__trace__$/.test(f.method)))\n\n      const frame = event.errors[0].stacktrace[0]\n\n      // remove hash and query string from url\n      const cleanUrl = (url) => url.replace(/#.*$/, '').replace(/\\?.*$/, '')\n\n      // if frame.file exists and is not the original location of the page, this can't be an inline script\n      if (frame && frame.file && cleanUrl(frame.file) !== cleanUrl(originalLocation)) return\n\n      // grab the last script known to have run\n      const currentScript = getCurrentScript()\n      if (currentScript) {\n        const content = currentScript.innerHTML\n        event.addMetadata(\n          'script',\n          'content',\n          content.length <= MAX_SCRIPT_LENGTH ? content : content.substr(0, MAX_SCRIPT_LENGTH)\n        )\n\n        // only attempt to grab some surrounding code if we have a line number\n        if (frame && frame.lineNumber) {\n          frame.code = addSurroundingCode(frame.lineNumber)\n        }\n      }\n    }, true)\n\n    // Proxy all the timer functions whose callback is their 0th argument.\n    // Keep a reference to the original setTimeout because we need it later\n    const [_setTimeout] = map([\n      'setTimeout',\n      'setInterval',\n      'setImmediate',\n      'requestAnimationFrame'\n    ], fn =>\n      __proxy(win, fn, original =>\n        __traceOriginalScript(original, args => ({\n          get: () => args[0],\n          replace: fn => { args[0] = fn }\n        }))\n      )\n    )\n\n    // Proxy all the host objects whose prototypes have an addEventListener function\n    map([\n      'EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode',\n      'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase',\n      'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow',\n      'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList',\n      'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'\n    ], o => {\n      if (!win[o] || !win[o].prototype || !Object.prototype.hasOwnProperty.call(win[o].prototype, 'addEventListener')) return\n      __proxy(win[o].prototype, 'addEventListener', original =>\n        __traceOriginalScript(original, eventTargetCallbackAccessor)\n      )\n      __proxy(win[o].prototype, 'removeEventListener', original =>\n        __traceOriginalScript(original, eventTargetCallbackAccessor, true)\n      )\n    })\n\n    function __traceOriginalScript (fn, callbackAccessor, alsoCallOriginal = false) {\n      return function () {\n        // this is required for removeEventListener to remove anything added with\n        // addEventListener before the functions started being wrapped by Bugsnag\n        const args = [].slice.call(arguments)\n        try {\n          const cba = callbackAccessor(args)\n          const cb = cba.get()\n          if (alsoCallOriginal) fn.apply(this, args)\n          if (typeof cb !== 'function') return fn.apply(this, args)\n          if (cb.__trace__) {\n            cba.replace(cb.__trace__)\n          } else {\n            const script = getCurrentScript()\n            // this function mustn't be annonymous due to a bug in the stack\n            // generation logic, meaning it gets tripped up\n            // see: https://github.com/stacktracejs/stack-generator/issues/6\n            cb.__trace__ = function __trace__ () {\n              // set the script that called this function\n              updateLastScript(script)\n              // immediately unset the currentScript synchronously below, however\n              // if this cb throws an error the line after will not get run so schedule\n              // an almost-immediate aysnc update too\n              _setTimeout(function () { updateLastScript(null) }, 0)\n              const ret = cb.apply(this, arguments)\n              updateLastScript(null)\n              return ret\n            }\n            cb.__trace__.__trace__ = cb.__trace__\n            cba.replace(cb.__trace__)\n          }\n        } catch (e) {\n          // swallow these errors on Selenium:\n          // Permission denied to access property '__trace__'\n          // WebDriverException: Message: Permission denied to access property \"handleEvent\"\n        }\n        // IE8 doesn't let you call .apply() on setTimeout/setInterval\n        if (fn.apply) return fn.apply(this, args)\n        switch (args.length) {\n          case 1: return fn(args[0])\n          case 2: return fn(args[0], args[1])\n          default: return fn()\n        }\n      }\n    }\n  },\n  configSchema: {\n    trackInlineScripts: {\n      validate: value => value === true || value === false,\n      defaultValue: () => true,\n      message: 'should be true|false'\n    }\n  }\n})\n\nfunction __proxy (host, name, replacer) {\n  const original = host[name]\n  if (!original) return original\n  const replacement = replacer(original)\n  host[name] = replacement\n  return original\n}\n\nfunction eventTargetCallbackAccessor (args) {\n  const isEventHandlerObj = !!args[1] && typeof args[1].handleEvent === 'function'\n  return {\n    get: function () {\n      return isEventHandlerObj ? args[1].handleEvent : args[1]\n    },\n    replace: function (fn) {\n      if (isEventHandlerObj) {\n        args[1].handleEvent = fn\n      } else {\n        args[1] = fn\n      }\n    }\n  }\n}\n","/*\n * Leaves breadcrumbs when the user interacts with the DOM\n */\nmodule.exports = (win = window) => ({\n  load: (client) => {\n    if (!('addEventListener' in win)) return\n    if (!client._isBreadcrumbTypeEnabled('user')) return\n\n    win.addEventListener('click', (event) => {\n      let targetText, targetSelector\n      try {\n        targetText = getNodeText(event.target)\n        targetSelector = getNodeSelector(event.target, win)\n      } catch (e) {\n        targetText = '[hidden]'\n        targetSelector = '[hidden]'\n        client._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z')\n      }\n      client.leaveBreadcrumb('UI click', { targetText, targetSelector }, 'user')\n    }, true)\n  }\n})\n\nconst trimStart = /^\\s+/\nconst trimEnd = /(^|[^\\s])\\s+$/\n\nfunction getNodeText (el) {\n  let text = el.textContent || el.innerText || ''\n\n  if (!text && (el.type === 'submit' || el.type === 'button')) {\n    text = el.value\n  }\n\n  text = text.replace(trimStart, '').replace(trimEnd, '$1')\n\n  if (text.length > 140) {\n    return text.slice(0, 135) + '(...)'\n  }\n\n  return text\n}\n\n// Create a label from tagname, id and css class of the element\nfunction getNodeSelector (el, win) {\n  const parts = [el.tagName]\n  if (el.id) parts.push('#' + el.id)\n  if (el.className && el.className.length) parts.push(`.${el.className.split(' ').join('.')}`)\n  // Can't get much more advanced with the current browser\n  if (!win.document.querySelectorAll || !Array.prototype.indexOf) return parts.join('')\n  try {\n    if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  } catch (e) {\n    // Sometimes the query selector can be invalid just return it as-is\n    return parts.join('')\n  }\n  // try to get a more specific selector if this one matches more than one element\n  if (el.parentNode.childNodes.length > 1) {\n    const index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1\n    parts.push(`:nth-child(${index})`)\n  }\n  if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('')\n  // try prepending the parent node selector\n  if (el.parentNode) return `${getNodeSelector(el.parentNode, win)} > ${parts.join('')}`\n  return parts.join('')\n}\n","/*\n* Leaves breadcrumbs when navigation methods are called or events are emitted\n*/\nmodule.exports = (win = window) => {\n  const plugin = {\n    load: (client) => {\n      if (!('addEventListener' in win)) return\n      if (!client._isBreadcrumbTypeEnabled('navigation')) return\n\n      // returns a function that will drop a breadcrumb with a given name\n      const drop = name => () => client.leaveBreadcrumb(name, {}, 'navigation')\n\n      // simple drops â€“ just names, no meta\n      win.addEventListener('pagehide', drop('Page hidden'), true)\n      win.addEventListener('pageshow', drop('Page shown'), true)\n      win.addEventListener('load', drop('Page loaded'), true)\n      win.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true)\n      // some browsers like to emit popstate when the page loads, so only add the popstate listener after that\n      win.addEventListener('load', () => win.addEventListener('popstate', drop('Navigated back'), true))\n\n      // hashchange has some metadata that we care about\n      win.addEventListener('hashchange', event => {\n        const metadata = event.oldURL\n          ? { from: relativeLocation(event.oldURL, win), to: relativeLocation(event.newURL, win), state: getCurrentState(win) }\n          : { to: relativeLocation(win.location.href, win) }\n        client.leaveBreadcrumb('Hash changed', metadata, 'navigation')\n      }, true)\n\n      // the only way to know about replaceState/pushState is to wrap themâ€¦ >_<\n\n      if (win.history.replaceState) wrapHistoryFn(client, win.history, 'replaceState', win)\n      if (win.history.pushState) wrapHistoryFn(client, win.history, 'pushState', win)\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    plugin.destroy = (win = window) => {\n      win.history.replaceState._restore()\n      win.history.pushState._restore()\n    }\n  }\n\n  return plugin\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  exports.destroy = (win = window) => {\n    win.history.replaceState._restore()\n    win.history.pushState._restore()\n  }\n}\n\n// takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n// just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\nconst relativeLocation = (url, win) => {\n  const a = win.document.createElement('A')\n  a.href = url\n  return `${a.pathname}${a.search}${a.hash}`\n}\n\nconst stateChangeToMetadata = (win, state, title, url) => {\n  const currentPath = relativeLocation(win.location.href, win)\n  return { title, state, prevState: getCurrentState(win), to: url || currentPath, from: currentPath }\n}\n\nconst wrapHistoryFn = (client, target, fn, win) => {\n  const orig = target[fn]\n  target[fn] = (state, title, url) => {\n    client.leaveBreadcrumb(`History ${fn}`, stateChangeToMetadata(win, state, title, url), 'navigation')\n    // if throttle plugin is in use, reset the event sent count\n    if (typeof client.resetEventCount === 'function') client.resetEventCount()\n    // if the client is operating in auto session-mode, a new route should trigger a new session\n    if (client._config.autoTrackSessions) client.startSession()\n    // Internet Explorer will convert `undefined` to a string when passed, causing an unintended redirect\n    // to '/undefined'. therefore we only pass the url if it's not undefined.\n    orig.apply(target, [state, title].concat(url !== undefined ? url : []))\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    target[fn]._restore = () => { target[fn] = orig }\n  }\n}\n\nconst getCurrentState = (win) => {\n  try {\n    return win.history.state\n  } catch (e) {}\n}\n","const BREADCRUMB_TYPE = 'request'\n\nconst includes = require('@bugsnag/core/lib/es-utils/includes')\n\n/*\n * Leaves breadcrumbs when network requests occur\n */\nmodule.exports = (_ignoredUrls = [], win = window) => {\n  let restoreFunctions = []\n  const plugin = {\n    load: client => {\n      if (!client._isBreadcrumbTypeEnabled('request')) return\n\n      const ignoredUrls = [\n        client._config.endpoints.notify,\n        client._config.endpoints.sessions\n      ].concat(_ignoredUrls)\n\n      monkeyPatchXMLHttpRequest()\n      monkeyPatchFetch()\n\n      // XMLHttpRequest monkey patch\n      function monkeyPatchXMLHttpRequest () {\n        if (!('addEventListener' in win.XMLHttpRequest.prototype)) return\n        const nativeOpen = win.XMLHttpRequest.prototype.open\n\n        // override native open()\n        win.XMLHttpRequest.prototype.open = function open (method, url) {\n          let requestSetupKey = false\n\n          const error = () => handleXHRError(method, url)\n          const load = () => handleXHRLoad(method, url, this.status)\n\n          // if we have already setup listeners, it means open() was called twice, we need to remove\n          // the listeners and recreate them\n          if (requestSetupKey) {\n            this.removeEventListener('load', load)\n            this.removeEventListener('error', error)\n          }\n\n          // attach load event listener\n          this.addEventListener('load', load)\n          // attach error event listener\n          this.addEventListener('error', error)\n\n          requestSetupKey = true\n\n          nativeOpen.apply(this, arguments)\n        }\n\n        if (process.env.NODE_ENV !== 'production') {\n          restoreFunctions.push(() => {\n            win.XMLHttpRequest.prototype.open = nativeOpen\n          })\n        }\n      }\n\n      function handleXHRLoad (method, url, status) {\n        if (url === undefined) {\n          client._logger.warn('The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.')\n          return\n        }\n\n        // an XMLHttpRequest's URL can be an object as long as its 'toString'\n        // returns a URL, e.g. a HTMLAnchorElement\n        if (typeof url === 'string' && includes(ignoredUrls, url.replace(/\\?.*$/, ''))) {\n          // don't leave a network breadcrumb from bugsnag notify calls\n          return\n        }\n        const metadata = {\n          status: status,\n          request: `${method} ${url}`\n        }\n        if (status >= 400) {\n          // contacted server but got an error response\n          client.leaveBreadcrumb('XMLHttpRequest failed', metadata, BREADCRUMB_TYPE)\n        } else {\n          client.leaveBreadcrumb('XMLHttpRequest succeeded', metadata, BREADCRUMB_TYPE)\n        }\n      }\n\n      function handleXHRError (method, url) {\n        if (url === undefined) {\n          client._logger.warn('The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.')\n          return\n        }\n\n        if (typeof url === 'string' && includes(ignoredUrls, url.replace(/\\?.*$/, ''))) {\n          // don't leave a network breadcrumb from bugsnag notify calls\n          return\n        }\n\n        // failed to contact server\n        client.leaveBreadcrumb('XMLHttpRequest error', {\n          request: `${method} ${url}`\n        }, BREADCRUMB_TYPE)\n      }\n\n      // window.fetch monkey patch\n      function monkeyPatchFetch () {\n        // only patch it if it exists and if it is not a polyfill (patching a polyfilled\n        // fetch() results in duplicate breadcrumbs for the same request because the\n        // implementation uses XMLHttpRequest which is also patched)\n        if (!('fetch' in win) || win.fetch.polyfill) return\n\n        const oldFetch = win.fetch\n        win.fetch = function fetch () {\n          const urlOrRequest = arguments[0]\n          const options = arguments[1]\n\n          let method\n          let url = null\n\n          if (urlOrRequest && typeof urlOrRequest === 'object') {\n            url = urlOrRequest.url\n            if (options && 'method' in options) {\n              method = options.method\n            } else if (urlOrRequest && 'method' in urlOrRequest) {\n              method = urlOrRequest.method\n            }\n          } else {\n            url = urlOrRequest\n            if (options && 'method' in options) {\n              method = options.method\n            }\n          }\n\n          if (method === undefined) {\n            method = 'GET'\n          }\n\n          return new Promise((resolve, reject) => {\n            // pass through to native fetch\n            oldFetch(...arguments)\n              .then(response => {\n                handleFetchSuccess(response, method, url)\n                resolve(response)\n              })\n              .catch(error => {\n                handleFetchError(method, url)\n                reject(error)\n              })\n          })\n        }\n\n        if (process.env.NODE_ENV !== 'production') {\n          restoreFunctions.push(() => {\n            win.fetch = oldFetch\n          })\n        }\n      }\n\n      const handleFetchSuccess = (response, method, url) => {\n        const metadata = {\n          status: response.status,\n          request: `${method} ${url}`\n        }\n        if (response.status >= 400) {\n          // when the request comes back with a 4xx or 5xx status it does not reject the fetch promise,\n          client.leaveBreadcrumb('fetch() failed', metadata, BREADCRUMB_TYPE)\n        } else {\n          client.leaveBreadcrumb('fetch() succeeded', metadata, BREADCRUMB_TYPE)\n        }\n      }\n\n      const handleFetchError = (method, url) => {\n        client.leaveBreadcrumb('fetch() error', { request: `${method} ${url}` }, BREADCRUMB_TYPE)\n      }\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    plugin.destroy = () => {\n      restoreFunctions.forEach(fn => fn())\n      restoreFunctions = []\n    }\n  }\n\n  return plugin\n}\n","const intRange = require('@bugsnag/core/lib/validators/int-range')\n\n/*\n * Throttles and dedupes events\n */\n\nmodule.exports = {\n  load: (client) => {\n    // track sent events for each init of the plugin\n    let n = 0\n\n    // add onError hook\n    client.addOnError((event) => {\n      // have max events been sent already?\n      if (n >= client._config.maxEvents) {\n        client._logger.warn(`Cancelling event send due to maxEvents per session limit of ${client._config.maxEvents} being reached`)\n        return false\n      }\n      n++\n    })\n\n    client.resetEventCount = () => { n = 0 }\n  },\n  configSchema: {\n    maxEvents: {\n      defaultValue: () => 10,\n      message: 'should be a positive integer â‰¤100',\n      validate: val => intRange(1, 100)(val)\n    }\n  }\n}\n","/*\n * Remove query strings (and fragments) from stacktraces\n */\nconst map = require('@bugsnag/core/lib/es-utils/map')\nconst reduce = require('@bugsnag/core/lib/es-utils/reduce')\n\nmodule.exports = {\n  load: (client) => {\n    client.addOnError(event => {\n      const allFrames = reduce(event.errors, (accum, er) => accum.concat(er.stacktrace), [])\n      map(allFrames, frame => {\n        frame.file = strip(frame.file)\n      })\n    })\n  }\n}\n\nconst strip = module.exports._strip = str =>\n  typeof str === 'string'\n    ? str.replace(/\\?.*$/, '').replace(/#.*$/, '')\n    : str\n","/*\n * Automatically notifies Bugsnag when window.onerror is called\n */\n\nmodule.exports = (win = window, component = 'window onerror') => ({\n  load: (client) => {\n    if (!client._config.autoDetectErrors) return\n    if (!client._config.enabledErrorTypes.unhandledExceptions) return\n    function onerror (messageOrEvent, url, lineNo, charNo, error) {\n      // Ignore errors with no info due to CORS settings\n      if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n        client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z')\n      } else {\n        // any error sent to window.onerror is unhandled and has severity=error\n        const handledState = { severity: 'error', unhandled: true, severityReason: { type: 'unhandledException' } }\n\n        let event\n\n        // window.onerror can be called in a number of ways. This big if-else is how we\n        // figure out which arguments were supplied, and what kind of values it received.\n\n        if (error) {\n          // if the last parameter (error) was supplied, this is a modern browser's\n          // way of saying \"this value was thrown and not caught\"\n          event = client.Event.create(error, true, handledState, component, 1)\n          decorateStack(event.errors[0].stacktrace, url, lineNo, charNo)\n        } else if (\n          // This complex case detects \"error\" events that are typically synthesised\n          // by jquery's trigger method (although can be created in other ways). In\n          // order to detect this:\n          // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n          // - the second argument (url) must either not exist or be something other than a string (if it\n          //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n          //    function)\n          // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n          (typeof messageOrEvent === 'object' && messageOrEvent !== null) &&\n          (!url || typeof url !== 'string') &&\n          !lineNo && !charNo && !error\n        ) {\n          // The jQuery event may have a \"type\" property, if so use it as part of the error message\n          const name = messageOrEvent.type ? `Event: ${messageOrEvent.type}` : 'Error'\n          // attempt to find a message from one of the conventional properties, but\n          // default to empty string (the event will fill it with a placeholder)\n          const message = messageOrEvent.message || messageOrEvent.detail || ''\n\n          event = client.Event.create({ name, message }, true, handledState, component, 1)\n\n          // provide the original thing onerror received â€“ not our error-like object we passed to _notify\n          event.originalError = messageOrEvent\n\n          // include the raw input as metadata â€“ it might contain more info than we extracted\n          event.addMetadata(component, { event: messageOrEvent, extraParameters: url })\n        } else {\n          // Lastly, if there was no \"error\" parameter this event was probably from an old\n          // browser that doesn't support that. Instead we need to generate a stacktrace.\n          event = client.Event.create(messageOrEvent, true, handledState, component, 1)\n          decorateStack(event.errors[0].stacktrace, url, lineNo, charNo)\n        }\n\n        client._notify(event)\n      }\n\n      if (typeof prevOnError === 'function') prevOnError.apply(this, arguments)\n    }\n\n    const prevOnError = win.onerror\n    win.onerror = onerror\n  }\n})\n\n// Sometimes the stacktrace has less information than was passed to window.onerror.\n// This function will augment the first stackframe with any useful info that was\n// received as arguments to the onerror callback.\nconst decorateStack = (stack, url, lineNo, charNo) => {\n  if (!stack[0]) stack.push({})\n  const culprit = stack[0]\n  if (!culprit.file && typeof url === 'string') culprit.file = url\n  if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.lineNumber = lineNo\n  if (!culprit.columnNumber) {\n    if (isActualNumber(charNo)) {\n      culprit.columnNumber = charNo\n    } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n      culprit.columnNumber = window.event.errorCharacter\n    }\n  }\n}\n\nconst isActualNumber = (n) => typeof n === 'number' && String.call(n) !== 'NaN'\n","const map = require('@bugsnag/core/lib/es-utils/map')\nconst isError = require('@bugsnag/core/lib/iserror')\n\nlet _listener\n/*\n * Automatically notifies Bugsnag when window.onunhandledrejection is called\n */\nmodule.exports = (win = window) => {\n  const plugin = {\n    load: (client) => {\n      if (!client._config.autoDetectErrors || !client._config.enabledErrorTypes.unhandledRejections) return\n      const listener = evt => {\n        let error = evt.reason\n        let isBluebird = false\n\n        // accessing properties on evt.detail can throw errors (see #394)\n        try {\n          if (evt.detail && evt.detail.reason) {\n            error = evt.detail.reason\n            isBluebird = true\n          }\n        } catch (e) {}\n\n        const event = client.Event.create(error, false, {\n          severity: 'error',\n          unhandled: true,\n          severityReason: { type: 'unhandledPromiseRejection' }\n        }, 'unhandledrejection handler', 1, client._logger)\n\n        if (isBluebird) {\n          map(event.errors[0].stacktrace, fixBluebirdStacktrace(error))\n        }\n\n        client._notify(event, (event) => {\n          if (isError(event.originalError) && !event.originalError.stack) {\n            event.addMetadata('unhandledRejection handler', {\n              [Object.prototype.toString.call(event.originalError)]: {\n                name: event.originalError.name,\n                message: event.originalError.message,\n                code: event.originalError.code\n              }\n            })\n          }\n        })\n      }\n      if ('addEventListener' in win) {\n        win.addEventListener('unhandledrejection', listener)\n      } else {\n        win.onunhandledrejection = (reason, promise) => {\n          listener({ detail: { reason, promise } })\n        }\n      }\n      _listener = listener\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    plugin.destroy = (win = window) => {\n      if (_listener) {\n        if ('addEventListener' in win) {\n          win.removeEventListener('unhandledrejection', _listener)\n        } else {\n          win.onunhandledrejection = null\n        }\n      }\n      _listener = null\n    }\n  }\n\n  return plugin\n}\n\n// The stack parser on bluebird stacks in FF get a suprious first frame:\n//\n// Error: derp\n//   b@http://localhost:5000/bluebird.html:22:24\n//   a@http://localhost:5000/bluebird.html:18:9\n//   @http://localhost:5000/bluebird.html:14:9\n//\n// results in\n//   [â€¦]\n//     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined, â€¦ }\n//     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22, â€¦ }\n//     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18, â€¦ }\n//     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9, â€¦ }\n//\n// so the following reduce/accumulator function removes such frames\n//\n// Bluebird pads method names with spaces so trim that tooâ€¦\n// https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\nconst fixBluebirdStacktrace = (error) => (frame) => {\n  if (frame.file === error.toString()) return\n  if (frame.method) {\n    frame.method = frame.method.replace(/^\\s+/, '')\n  }\n}\n","const name = 'Bugsnag JavaScript'\nconst version = '7.20.2'\nconst url = 'https://github.com/bugsnag/bugsnag-js'\n\nconst Client = require('@bugsnag/core/client')\nconst Event = require('@bugsnag/core/event')\nconst Session = require('@bugsnag/core/session')\nconst Breadcrumb = require('@bugsnag/core/breadcrumb')\n\nconst map = require('@bugsnag/core/lib/es-utils/map')\nconst keys = require('@bugsnag/core/lib/es-utils/keys')\nconst assign = require('@bugsnag/core/lib/es-utils/assign')\n\n// extend the base config schema with some browser-specific options\nconst schema = assign({}, require('@bugsnag/core/config').schema, require('./config'))\n\nconst pluginWindowOnerror = require('@bugsnag/plugin-window-onerror')\nconst pluginUnhandledRejection = require('@bugsnag/plugin-window-unhandled-rejection')\nconst pluginApp = require('@bugsnag/plugin-app-duration')\nconst pluginDevice = require('@bugsnag/plugin-browser-device')\nconst pluginContext = require('@bugsnag/plugin-browser-context')\nconst pluginRequest = require('@bugsnag/plugin-browser-request')\nconst pluginThrottle = require('@bugsnag/plugin-simple-throttle')\nconst pluginConsoleBreadcrumbs = require('@bugsnag/plugin-console-breadcrumbs')\nconst pluginNetworkBreadcrumbs = require('@bugsnag/plugin-network-breadcrumbs')\nconst pluginNavigationBreadcrumbs = require('@bugsnag/plugin-navigation-breadcrumbs')\nconst pluginInteractionBreadcrumbs = require('@bugsnag/plugin-interaction-breadcrumbs')\nconst pluginInlineScriptContent = require('@bugsnag/plugin-inline-script-content')\nconst pluginSession = require('@bugsnag/plugin-browser-session')\nconst pluginIp = require('@bugsnag/plugin-client-ip')\nconst pluginStripQueryString = require('@bugsnag/plugin-strip-query-string')\n\n// delivery mechanisms\nconst dXDomainRequest = require('@bugsnag/delivery-x-domain-request')\nconst dXMLHttpRequest = require('@bugsnag/delivery-xml-http-request')\n\nconst Bugsnag = {\n  _client: null,\n  createClient: (opts) => {\n    // handle very simple use case where user supplies just the api key as a string\n    if (typeof opts === 'string') opts = { apiKey: opts }\n    if (!opts) opts = {}\n\n    const internalPlugins = [\n      // add browser-specific plugins\n      pluginApp,\n      pluginDevice(),\n      pluginContext(),\n      pluginRequest(),\n      pluginThrottle,\n      pluginSession,\n      pluginIp,\n      pluginStripQueryString,\n      pluginWindowOnerror(),\n      pluginUnhandledRejection(),\n      pluginNavigationBreadcrumbs(),\n      pluginInteractionBreadcrumbs(),\n      pluginNetworkBreadcrumbs(),\n      pluginConsoleBreadcrumbs,\n\n      // this one added last to avoid wrapping functionality before bugsnag uses it\n      pluginInlineScriptContent()\n    ]\n\n    // configure a client with user supplied options\n    const bugsnag = new Client(opts, schema, internalPlugins, { name, version, url })\n\n    // set delivery based on browser capability (IE 8+9 have an XDomainRequest object)\n    bugsnag._setDelivery(window.XDomainRequest ? dXDomainRequest : dXMLHttpRequest)\n\n    bugsnag._logger.debug('Loaded!')\n    bugsnag.leaveBreadcrumb('Bugsnag loaded', {}, 'state')\n\n    return bugsnag._config.autoTrackSessions\n      ? bugsnag.startSession()\n      : bugsnag\n  },\n  start: (opts) => {\n    if (Bugsnag._client) {\n      Bugsnag._client._logger.warn('Bugsnag.start() was called more than once. Ignoring.')\n      return Bugsnag._client\n    }\n    Bugsnag._client = Bugsnag.createClient(opts)\n    return Bugsnag._client\n  },\n  isStarted: () => {\n    return Bugsnag._client != null\n  }\n}\n\nmap(['resetEventCount'].concat(keys(Client.prototype)), (m) => {\n  if (/^_/.test(m)) return\n  Bugsnag[m] = function () {\n    if (!Bugsnag._client) return console.log(`Bugsnag.${m}() was called before Bugsnag.start()`)\n    Bugsnag._client._depth += 1\n    const ret = Bugsnag._client[m].apply(Bugsnag._client, arguments)\n    Bugsnag._client._depth -= 1\n    return ret\n  }\n})\n\nmodule.exports = Bugsnag\n\nmodule.exports.Client = Client\nmodule.exports.Event = Event\nmodule.exports.Session = Session\nmodule.exports.Breadcrumb = Breadcrumb\n\n// Export a \"default\" property for compatibility with ESM imports\nmodule.exports.default = Bugsnag\n","\nreturn _$notifier_2;\n\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}