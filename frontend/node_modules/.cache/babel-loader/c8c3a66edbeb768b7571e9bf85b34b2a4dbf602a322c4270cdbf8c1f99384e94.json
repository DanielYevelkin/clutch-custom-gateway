{"ast":null,"code":"import _defineProperty from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Outlet, Route, Routes } from \"react-router-dom\";\nimport Bugsnag from \"@bugsnag/js\";\nimport BugsnagPluginReact from \"@bugsnag/plugin-react\";\nimport AppLayout from \"../AppLayout\";\nimport { ApplicationContext, ShortLinkContext } from \"../Contexts\";\nimport { Toast } from \"../Feedback\";\nimport { FEATURE_FLAG_POLL_RATE, featureFlags } from \"../flags\";\nimport Landing from \"../landing\";\nimport NotFound from \"../not-found\";\nimport { registeredWorkflows } from \"./registrar\";\nimport ShortLinkProxy, { ShortLinkBaseRoute } from \"./short-link-proxy\";\nimport ShortLinkStateHydrator from \"./short-link-state-hydrator\";\nimport { Theme } from \"./themes\";\nimport ErrorBoundary from \"./workflow\";\n/**\n * Filter workflow routes using available feature flags.\n * @param workflows a list of valid Workflow objects.\n */\nvar featureFlagFilter = function featureFlagFilter(workflows) {\n  return featureFlags().then(function (flags) {\n    return workflows.filter(function (workflow) {\n      /* eslint-disable-next-line no-param-reassign */\n      workflow.routes = workflow.routes.filter(function (route) {\n        var show = route.featureFlag === undefined || (flags === null || flags === void 0 ? void 0 : flags[route.featureFlag]) !== undefined && flags[route.featureFlag].booleanValue === true;\n        return show;\n      });\n      return workflow.routes.length !== 0;\n    });\n  });\n};\nvar ClutchApp = function ClutchApp(_ref) {\n  var availableWorkflows = _ref.availableWorkflows,\n    userConfiguration = _ref.configuration,\n    appConfiguration = _ref.appConfiguration;\n  var _a;\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    workflows = _React$useState2[0],\n    setWorkflows = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    isLoading = _React$useState4[0],\n    setIsLoading = _React$useState4[1];\n  var _React$useState5 = React.useState(),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    workflowSessionStore = _React$useState6[0],\n    setWorkflowSessionStore = _React$useState6[1];\n  var _React$useState7 = React.useState(null),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    hydrateState = _React$useState8[0],\n    setHydrateState = _React$useState8[1];\n  var _React$useState9 = React.useState(null),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    hydrateError = _React$useState10[0],\n    setHydrateError = _React$useState10[1];\n  var _React$useState11 = React.useState(false),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    hasCustomLanding = _React$useState12[0],\n    setHasCustomLanding = _React$useState12[1];\n  var _React$useState13 = React.useState(),\n    _React$useState14 = _slicedToArray(_React$useState13, 2),\n    triggeredHeaderData = _React$useState14[0],\n    setTriggeredHeaderData = _React$useState14[1];\n  /** Used to control a race condition from displaying the workflow and the state being updated with the hydrated data */\n  var _React$useState15 = React.useState(false),\n    _React$useState16 = _slicedToArray(_React$useState15, 2),\n    shortLinkLoading = _React$useState16[0],\n    setShortLinkLoading = _React$useState16[1];\n  var loadWorkflows = function loadWorkflows() {\n    registeredWorkflows(availableWorkflows, userConfiguration, [featureFlagFilter]).then(function (w) {\n      setWorkflows(w);\n      setIsLoading(false);\n    });\n  };\n  React.useEffect(function () {\n    loadWorkflows();\n    var interval = setInterval(loadWorkflows, FEATURE_FLAG_POLL_RATE);\n    return function () {\n      return clearInterval(interval);\n    };\n  }, []);\n  var _React$useState17 = React.useState([]),\n    _React$useState18 = _slicedToArray(_React$useState17, 2),\n    discoverableWorkflows = _React$useState18[0],\n    setDiscoverableWorkflows = _React$useState18[1];\n  React.useEffect(function () {\n    var landingWorkflows = workflows.filter(function (workflow) {\n      return workflow.path === \"\";\n    });\n    if (landingWorkflows.length > 0) {\n      /** Used to control a custom landing page */\n      setHasCustomLanding(true);\n    }\n    setDiscoverableWorkflows(workflows);\n  }, [workflows]);\n  var shortLinkProviderProps = React.useMemo(function () {\n    return {\n      removeWorkflowSession: function removeWorkflowSession() {\n        return setWorkflowSessionStore(null);\n      },\n      retrieveWorkflowSession: function retrieveWorkflowSession() {\n        return workflowSessionStore;\n      },\n      storeWorkflowSession: setWorkflowSessionStore\n    };\n  }, [workflowSessionStore]);\n  var appContextValue = React.useMemo(function () {\n    return {\n      workflows: discoverableWorkflows,\n      triggerHeaderItem: function triggerHeaderItem(item, data) {\n        return (\n          // Will set the open status and spread any additional data onto the property named after the item\n          setTriggeredHeaderData(_objectSpread(_objectSpread({}, triggeredHeaderData), {}, _defineProperty({}, item, data)))\n        );\n      },\n      triggeredHeaderData: triggeredHeaderData\n    };\n  }, [discoverableWorkflows, triggeredHeaderData]);\n  return React.createElement(Router, null, React.createElement(Theme, {\n    variant: \"light\"\n  }, React.createElement(\"div\", {\n    id: \"App\"\n  }, React.createElement(ApplicationContext.Provider, {\n    value: appContextValue\n  }, React.createElement(ShortLinkContext.Provider, {\n    value: shortLinkProviderProps\n  }, hydrateError && React.createElement(Toast, {\n    onClose: function onClose() {\n      return setHydrateError(null);\n    }\n  }, \"Unable to retrieve short link: \", (_a = hydrateError === null || hydrateError === void 0 ? void 0 : hydrateError.status) === null || _a === void 0 ? void 0 : _a.text), React.createElement(Routes, null, React.createElement(Route, {\n    path: \"/\",\n    element: React.createElement(AppLayout, {\n      isLoading: isLoading,\n      configuration: appConfiguration\n    })\n  }, !hasCustomLanding && React.createElement(Route, {\n    key: \"landing\",\n    path: \"\",\n    element: React.createElement(Landing, null)\n  }), workflows.map(function (workflow) {\n    var workflowPath = workflow.path.replace(/^\\/+/, \"\").replace(/\\/+$/, \"\");\n    var workflowKey = workflow.path.split(\"/\")[0];\n    return React.createElement(Route, {\n      path: \"\".concat(workflowPath, \"/\"),\n      key: workflowKey,\n      element: React.createElement(ErrorBoundary, {\n        workflow: workflow\n      }, React.createElement(ShortLinkStateHydrator, {\n        sharedState: hydrateState,\n        clearTemporaryState: function clearTemporaryState() {\n          return setHydrateState(null);\n        }\n      }, !shortLinkLoading && React.createElement(Outlet, null)))\n    }, workflow.routes.map(function (route) {\n      var heading = route.displayName ? \"\".concat(workflow.displayName, \": \").concat(route.displayName) : workflow.displayName;\n      return React.createElement(Route, {\n        key: workflow.path,\n        path: \"\".concat(route.path.replace(/^\\/+/, \"\").replace(/\\/+$/, \"\")),\n        element: React.cloneElement(React.createElement(route.component, null), _objectSpread(_objectSpread({}, route.componentProps), {}, {\n          heading: heading\n        }))\n      });\n    }), React.createElement(Route, {\n      key: \"\".concat(workflow.path, \"/notFound\"),\n      path: \"*\",\n      element: React.createElement(NotFound, null)\n    }));\n  }), React.createElement(Route, {\n    key: \"short-links\",\n    path: \"/\".concat(ShortLinkBaseRoute, \"/:hash\"),\n    element: React.createElement(ShortLinkProxy, {\n      setLoading: setShortLinkLoading,\n      hydrate: setHydrateState,\n      onError: setHydrateError\n    })\n  }), React.createElement(Route, {\n    key: \"notFound\",\n    path: \"*\",\n    element: React.createElement(NotFound, null)\n  }))))))));\n};\nvar BugSnagApp = function BugSnagApp(props) {\n  if (process.env.REACT_APP_BUGSNAG_API_TOKEN) {\n    // eslint-disable-next-line no-underscore-dangle\n    if (!Bugsnag._client) {\n      Bugsnag.start({\n        apiKey: process.env.REACT_APP_BUGSNAG_API_TOKEN,\n        plugins: [new BugsnagPluginReact()],\n        releaseStage: process.env.APPLICATION_ENV || \"production\"\n      });\n    }\n    var BugsnagBoundary = Bugsnag.getPlugin(\"react\").createErrorBoundary(React);\n    return React.createElement(BugsnagBoundary, null, React.createElement(ClutchApp, Object.assign({}, props)));\n  }\n  return React.createElement(ClutchApp, Object.assign({}, props));\n};\nexport default BugSnagApp;","map":{"version":3,"names":["React","BrowserRouter","Router","Outlet","Route","Routes","Bugsnag","BugsnagPluginReact","AppLayout","ApplicationContext","ShortLinkContext","Toast","FEATURE_FLAG_POLL_RATE","featureFlags","Landing","NotFound","registeredWorkflows","ShortLinkProxy","ShortLinkBaseRoute","ShortLinkStateHydrator","Theme","ErrorBoundary","featureFlagFilter","workflows","then","flags","filter","workflow","routes","route","show","featureFlag","undefined","booleanValue","length","ClutchApp","_ref","availableWorkflows","userConfiguration","configuration","appConfiguration","_a","_React$useState","useState","_React$useState2","_slicedToArray","setWorkflows","_React$useState3","_React$useState4","isLoading","setIsLoading","_React$useState5","_React$useState6","workflowSessionStore","setWorkflowSessionStore","_React$useState7","_React$useState8","hydrateState","setHydrateState","_React$useState9","_React$useState10","hydrateError","setHydrateError","_React$useState11","_React$useState12","hasCustomLanding","setHasCustomLanding","_React$useState13","_React$useState14","triggeredHeaderData","setTriggeredHeaderData","_React$useState15","_React$useState16","shortLinkLoading","setShortLinkLoading","loadWorkflows","w","useEffect","interval","setInterval","clearInterval","_React$useState17","_React$useState18","discoverableWorkflows","setDiscoverableWorkflows","landingWorkflows","path","shortLinkProviderProps","useMemo","removeWorkflowSession","retrieveWorkflowSession","storeWorkflowSession","appContextValue","triggerHeaderItem","item","data","_objectSpread","_defineProperty","createElement","variant","id","Provider","value","onClose","status","text","element","key","map","workflowPath","replace","workflowKey","split","concat","sharedState","clearTemporaryState","heading","displayName","cloneElement","component","componentProps","setLoading","hydrate","onError","BugSnagApp","props","process","env","REACT_APP_BUGSNAG_API_TOKEN","_client","start","apiKey","plugins","releaseStage","APPLICATION_ENV","BugsnagBoundary","getPlugin","createErrorBoundary","Object","assign"],"sources":["/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@clutch-sh/core/dist/AppProvider/index.js"],"sourcesContent":["import React from \"react\";\nimport { BrowserRouter as Router, Outlet, Route, Routes } from \"react-router-dom\";\nimport Bugsnag from \"@bugsnag/js\";\nimport BugsnagPluginReact from \"@bugsnag/plugin-react\";\nimport AppLayout from \"../AppLayout\";\nimport { ApplicationContext, ShortLinkContext } from \"../Contexts\";\nimport { Toast } from \"../Feedback\";\nimport { FEATURE_FLAG_POLL_RATE, featureFlags } from \"../flags\";\nimport Landing from \"../landing\";\nimport NotFound from \"../not-found\";\nimport { registeredWorkflows } from \"./registrar\";\nimport ShortLinkProxy, { ShortLinkBaseRoute } from \"./short-link-proxy\";\nimport ShortLinkStateHydrator from \"./short-link-state-hydrator\";\nimport { Theme } from \"./themes\";\nimport ErrorBoundary from \"./workflow\";\n/**\n * Filter workflow routes using available feature flags.\n * @param workflows a list of valid Workflow objects.\n */\nconst featureFlagFilter = (workflows) => {\n    return featureFlags().then(flags => workflows.filter(workflow => {\n        /* eslint-disable-next-line no-param-reassign */\n        workflow.routes = workflow.routes.filter(route => {\n            const show = route.featureFlag === undefined ||\n                ((flags === null || flags === void 0 ? void 0 : flags[route.featureFlag]) !== undefined &&\n                    flags[route.featureFlag].booleanValue === true);\n            return show;\n        });\n        return workflow.routes.length !== 0;\n    }));\n};\nconst ClutchApp = ({ availableWorkflows, configuration: userConfiguration, appConfiguration, }) => {\n    var _a;\n    const [workflows, setWorkflows] = React.useState([]);\n    const [isLoading, setIsLoading] = React.useState(true);\n    const [workflowSessionStore, setWorkflowSessionStore] = React.useState();\n    const [hydrateState, setHydrateState] = React.useState(null);\n    const [hydrateError, setHydrateError] = React.useState(null);\n    const [hasCustomLanding, setHasCustomLanding] = React.useState(false);\n    const [triggeredHeaderData, setTriggeredHeaderData] = React.useState();\n    /** Used to control a race condition from displaying the workflow and the state being updated with the hydrated data */\n    const [shortLinkLoading, setShortLinkLoading] = React.useState(false);\n    const loadWorkflows = () => {\n        registeredWorkflows(availableWorkflows, userConfiguration, [featureFlagFilter]).then(w => {\n            setWorkflows(w);\n            setIsLoading(false);\n        });\n    };\n    React.useEffect(() => {\n        loadWorkflows();\n        const interval = setInterval(loadWorkflows, FEATURE_FLAG_POLL_RATE);\n        return () => clearInterval(interval);\n    }, []);\n    const [discoverableWorkflows, setDiscoverableWorkflows] = React.useState([]);\n    React.useEffect(() => {\n        const landingWorkflows = workflows.filter(workflow => workflow.path === \"\");\n        if (landingWorkflows.length > 0) {\n            /** Used to control a custom landing page */\n            setHasCustomLanding(true);\n        }\n        setDiscoverableWorkflows(workflows);\n    }, [workflows]);\n    const shortLinkProviderProps = React.useMemo(() => ({\n        removeWorkflowSession: () => setWorkflowSessionStore(null),\n        retrieveWorkflowSession: () => workflowSessionStore,\n        storeWorkflowSession: setWorkflowSessionStore,\n    }), [workflowSessionStore]);\n    const appContextValue = React.useMemo(() => ({\n        workflows: discoverableWorkflows,\n        triggerHeaderItem: (item, data) => \n        // Will set the open status and spread any additional data onto the property named after the item\n        setTriggeredHeaderData({\n            ...triggeredHeaderData,\n            [item]: data,\n        }),\n        triggeredHeaderData,\n    }), [discoverableWorkflows, triggeredHeaderData]);\n    return (React.createElement(Router, null,\n        React.createElement(Theme, { variant: \"light\" },\n            React.createElement(\"div\", { id: \"App\" },\n                React.createElement(ApplicationContext.Provider, { value: appContextValue },\n                    React.createElement(ShortLinkContext.Provider, { value: shortLinkProviderProps },\n                        hydrateError && (React.createElement(Toast, { onClose: () => setHydrateError(null) },\n                            \"Unable to retrieve short link: \", (_a = hydrateError === null || hydrateError === void 0 ? void 0 : hydrateError.status) === null || _a === void 0 ? void 0 :\n                            _a.text)),\n                        React.createElement(Routes, null,\n                            React.createElement(Route, { path: \"/\", element: React.createElement(AppLayout, { isLoading: isLoading, configuration: appConfiguration }) },\n                                !hasCustomLanding && React.createElement(Route, { key: \"landing\", path: \"\", element: React.createElement(Landing, null) }),\n                                workflows.map((workflow) => {\n                                    const workflowPath = workflow.path.replace(/^\\/+/, \"\").replace(/\\/+$/, \"\");\n                                    const workflowKey = workflow.path.split(\"/\")[0];\n                                    return (React.createElement(Route, { path: `${workflowPath}/`, key: workflowKey, element: React.createElement(ErrorBoundary, { workflow: workflow },\n                                            React.createElement(ShortLinkStateHydrator, { sharedState: hydrateState, clearTemporaryState: () => setHydrateState(null) }, !shortLinkLoading && React.createElement(Outlet, null))) },\n                                        workflow.routes.map(route => {\n                                            const heading = route.displayName\n                                                ? `${workflow.displayName}: ${route.displayName}`\n                                                : workflow.displayName;\n                                            return (React.createElement(Route, { key: workflow.path, path: `${route.path.replace(/^\\/+/, \"\").replace(/\\/+$/, \"\")}`, element: React.cloneElement(React.createElement(route.component, null), {\n                                                    ...route.componentProps,\n                                                    heading,\n                                                }) }));\n                                        }),\n                                        React.createElement(Route, { key: `${workflow.path}/notFound`, path: \"*\", element: React.createElement(NotFound, null) })));\n                                }),\n                                React.createElement(Route, { key: \"short-links\", path: `/${ShortLinkBaseRoute}/:hash`, element: React.createElement(ShortLinkProxy, { setLoading: setShortLinkLoading, hydrate: setHydrateState, onError: setHydrateError }) }),\n                                React.createElement(Route, { key: \"notFound\", path: \"*\", element: React.createElement(NotFound, null) })))))))));\n};\nconst BugSnagApp = props => {\n    if (process.env.REACT_APP_BUGSNAG_API_TOKEN) {\n        // eslint-disable-next-line no-underscore-dangle\n        if (!Bugsnag._client) {\n            Bugsnag.start({\n                apiKey: process.env.REACT_APP_BUGSNAG_API_TOKEN,\n                plugins: [new BugsnagPluginReact()],\n                releaseStage: process.env.APPLICATION_ENV || \"production\",\n            });\n        }\n        const BugsnagBoundary = Bugsnag.getPlugin(\"react\").createErrorBoundary(React);\n        return (React.createElement(BugsnagBoundary, null,\n            React.createElement(ClutchApp, Object.assign({}, props))));\n    }\n    return React.createElement(ClutchApp, Object.assign({}, props));\n};\nexport default BugSnagApp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}