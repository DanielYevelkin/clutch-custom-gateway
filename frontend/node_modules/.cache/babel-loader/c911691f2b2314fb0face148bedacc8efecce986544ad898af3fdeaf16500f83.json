{"ast":null,"code":"import _toArray from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/toArray.js\";\nimport _toConsumableArray from \"/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport * as _ from \"lodash\";\nvar getDisplayName = function getDisplayName(workflow, route) {\n  var delimiter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \":\";\n  var displayName = workflow.displayName;\n  if (route.displayName) {\n    displayName = \"\".concat(displayName.toLowerCase() !== workflow.group.toLowerCase() ? \"\".concat(displayName).concat(delimiter, \" \") : \"\").concat(route.displayName);\n  }\n  return displayName;\n};\nvar workflowsByTrending = function workflowsByTrending(workflows) {\n  var trending = [];\n  var trendingIcons = {};\n  workflows.forEach(function (workflow) {\n    var _a;\n    if (((_a = workflow === null || workflow === void 0 ? void 0 : workflow.icon) === null || _a === void 0 ? void 0 : _a.path) && !trendingIcons[workflow.group]) {\n      trendingIcons[workflow.group] = workflow.icon.path;\n    }\n  });\n  workflows.forEach(function (workflow) {\n    workflow.routes.forEach(function (route) {\n      var _a;\n      if (route.trending) {\n        trending.push({\n          displayName: getDisplayName(workflow, route),\n          group: workflow.group,\n          description: route.description,\n          path: \"\".concat(workflow.path, \"/\").concat(route.path),\n          icon: (_a = trendingIcons[workflow.group]) !== null && _a !== void 0 ? _a : \"\"\n        });\n      }\n    });\n  });\n  return trending;\n};\nvar routesByGrouping = function routesByGrouping(workflows) {\n  var routes = {};\n  workflows.forEach(function (workflow) {\n    var category = workflow.group;\n    if (routes[category] === undefined) {\n      routes[category] = {\n        workflows: [],\n        icon: workflow.icon\n      };\n    }\n    routes[category].workflows = [].concat(_toConsumableArray(routes[category].workflows), _toConsumableArray(workflow.routes.map(function (route) {\n      return {\n        displayName: getDisplayName(workflow, route, \" -\"),\n        path: \"\".concat(workflow.path, \"/\").concat(route.path),\n        trending: route.trending || false\n      };\n    })));\n  });\n  return routes;\n};\n/**\n * Will break a path down and iterate through given workflows to see if there is a matching path.\n */\nvar workflowByRoute = function workflowByRoute(workflows, route) {\n  var _route$split$filter = route.split(\"/\").filter(Boolean),\n    _route$split$filter2 = _toArray(_route$split$filter),\n    baseRoute = _route$split$filter2[0],\n    subRoutes = _route$split$filter2.slice(1);\n  var subRoute = subRoutes.join(\"/\");\n  var returnFlow = null;\n  var filtered = workflows.filter(function (workflow) {\n    return workflow.path === baseRoute;\n  });\n  filtered.some(function (workflow) {\n    return workflow.routes.some(function (wroute) {\n      if (wroute.path === subRoute) {\n        returnFlow = workflow;\n      }\n      return returnFlow !== null;\n    });\n  });\n  return returnFlow;\n};\nvar sortedGroupings = function sortedGroupings(workflows) {\n  return Object.keys(routesByGrouping(workflows)).sort();\n};\nvar searchIndexes = function searchIndexes(workflows) {\n  var indexOptions = [];\n  workflows.forEach(function (workflow) {\n    var category = workflow.group;\n    indexOptions = [].concat(_toConsumableArray(indexOptions), _toConsumableArray(workflow.routes.map(function (route) {\n      var label = route.displayName ? \"\".concat(workflow.displayName, \" - \").concat(route.displayName) : workflow.displayName;\n      return {\n        category: category,\n        label: label,\n        path: \"\".concat(workflow.path, \"/\").concat(route.path)\n      };\n    })));\n  });\n  return indexOptions;\n};\n/** Filter out all of the workflows that are configured to be `hideNav: true`.\n * This prevents the workflows from being discoverable by the user from the UI where used.\n * Some example usages are in the search and drawer navigation components.\n *\n * The routes for all configured workflows will still be reachable\n * by manually providing the full path in the URI.\n */\nvar filterHiddenRoutes = function filterHiddenRoutes(workflows) {\n  return _.cloneDeep(workflows).filter(function (workflow) {\n    var publicRoutes = workflow.routes.filter(function (route) {\n      return !((route === null || route === void 0 ? void 0 : route.hideNav) !== undefined ? route.hideNav : false);\n    });\n    workflow.routes = publicRoutes; /* eslint-disable-line no-param-reassign */\n    return publicRoutes.length !== 0;\n  });\n};\nexport { filterHiddenRoutes, routesByGrouping, searchIndexes, sortedGroupings, workflowByRoute, workflowsByTrending };","map":{"version":3,"names":["_","getDisplayName","workflow","route","delimiter","arguments","length","undefined","displayName","concat","toLowerCase","group","workflowsByTrending","workflows","trending","trendingIcons","forEach","_a","icon","path","routes","push","description","routesByGrouping","category","_toConsumableArray","map","workflowByRoute","_route$split$filter","split","filter","Boolean","_route$split$filter2","_toArray","baseRoute","subRoutes","slice","subRoute","join","returnFlow","filtered","some","wroute","sortedGroupings","Object","keys","sort","searchIndexes","indexOptions","label","filterHiddenRoutes","cloneDeep","publicRoutes","hideNav"],"sources":["/home/daniel/go/src/github.com/DanielYevelkin/clutch-custom-gateway/frontend/node_modules/@clutch-sh/core/dist/AppLayout/utils.js"],"sourcesContent":["import * as _ from \"lodash\";\nconst getDisplayName = (workflow, route, delimiter = \":\") => {\n    let { displayName } = workflow;\n    if (route.displayName) {\n        displayName = `${displayName.toLowerCase() !== workflow.group.toLowerCase()\n            ? `${displayName}${delimiter} `\n            : \"\"}${route.displayName}`;\n    }\n    return displayName;\n};\nconst workflowsByTrending = (workflows) => {\n    const trending = [];\n    const trendingIcons = {};\n    workflows.forEach(workflow => {\n        var _a;\n        if (((_a = workflow === null || workflow === void 0 ? void 0 : workflow.icon) === null || _a === void 0 ? void 0 : _a.path) && !trendingIcons[workflow.group]) {\n            trendingIcons[workflow.group] = workflow.icon.path;\n        }\n    });\n    workflows.forEach(workflow => {\n        workflow.routes.forEach(route => {\n            var _a;\n            if (route.trending) {\n                trending.push({\n                    displayName: getDisplayName(workflow, route),\n                    group: workflow.group,\n                    description: route.description,\n                    path: `${workflow.path}/${route.path}`,\n                    icon: (_a = trendingIcons[workflow.group]) !== null && _a !== void 0 ? _a : \"\",\n                });\n            }\n        });\n    });\n    return trending;\n};\nconst routesByGrouping = (workflows) => {\n    const routes = {};\n    workflows.forEach(workflow => {\n        const category = workflow.group;\n        if (routes[category] === undefined) {\n            routes[category] = {\n                workflows: [],\n                icon: workflow.icon,\n            };\n        }\n        routes[category].workflows = [\n            ...routes[category].workflows,\n            ...workflow.routes.map(route => {\n                return {\n                    displayName: getDisplayName(workflow, route, \" -\"),\n                    path: `${workflow.path}/${route.path}`,\n                    trending: route.trending || false,\n                };\n            }),\n        ];\n    });\n    return routes;\n};\n/**\n * Will break a path down and iterate through given workflows to see if there is a matching path.\n */\nconst workflowByRoute = (workflows, route) => {\n    const [baseRoute, ...subRoutes] = route.split(\"/\").filter(Boolean);\n    const subRoute = subRoutes.join(\"/\");\n    let returnFlow = null;\n    const filtered = workflows.filter((workflow) => workflow.path === baseRoute);\n    filtered.some((workflow) => {\n        return workflow.routes.some((wroute) => {\n            if (wroute.path === subRoute) {\n                returnFlow = workflow;\n            }\n            return returnFlow !== null;\n        });\n    });\n    return returnFlow;\n};\nconst sortedGroupings = (workflows) => {\n    return Object.keys(routesByGrouping(workflows)).sort();\n};\nconst searchIndexes = (workflows) => {\n    let indexOptions = [];\n    workflows.forEach(workflow => {\n        const category = workflow.group;\n        indexOptions = [\n            ...indexOptions,\n            ...workflow.routes.map(route => {\n                const label = route.displayName\n                    ? `${workflow.displayName} - ${route.displayName}`\n                    : workflow.displayName;\n                return {\n                    category,\n                    label,\n                    path: `${workflow.path}/${route.path}`,\n                };\n            }),\n        ];\n    });\n    return indexOptions;\n};\n/** Filter out all of the workflows that are configured to be `hideNav: true`.\n * This prevents the workflows from being discoverable by the user from the UI where used.\n * Some example usages are in the search and drawer navigation components.\n *\n * The routes for all configured workflows will still be reachable\n * by manually providing the full path in the URI.\n */\nconst filterHiddenRoutes = (workflows) => _.cloneDeep(workflows).filter(workflow => {\n    const publicRoutes = workflow.routes.filter(route => {\n        return !((route === null || route === void 0 ? void 0 : route.hideNav) !== undefined ? route.hideNav : false);\n    });\n    workflow.routes = publicRoutes; /* eslint-disable-line no-param-reassign */\n    return publicRoutes.length !== 0;\n});\nexport { filterHiddenRoutes, routesByGrouping, searchIndexes, sortedGroupings, workflowByRoute, workflowsByTrending, };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}